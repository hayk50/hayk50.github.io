"undefined"==typeof leadiaCloud?leadiaCloud={}:leadiaCloud=leadiaCloud||{},function(lc){!function($,jQuery){(function(){var e=this,t=e._,i=Array.prototype,n=Object.prototype,a=Function.prototype,o=i.push,s=i.slice,r=i.concat,l=n.toString,d=n.hasOwnProperty,c=Array.isArray,p=Object.keys,h=a.bind,u=function(e){return e instanceof u?e:this instanceof u?void(this._wrapped=e):new u(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=u),exports._=u):e._=u,u.VERSION="1.7.0";var m=function(e,t,i){if(void 0===t)return e;switch(null==i?3:i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,a){return e.call(t,i,n,a)};case 4:return function(i,n,a,o){return e.call(t,i,n,a,o)}}return function(){return e.apply(t,arguments)}};u.iteratee=function(e,t,i){return null==e?u.identity:u.isFunction(e)?m(e,t,i):u.isObject(e)?u.matches(e):u.property(e)},u.each=u.forEach=function(e,t,i){if(null==e)return e;t=m(t,i);var n,a=e.length;if(a===+a)for(n=0;a>n;n++)t(e[n],n,e);else{var o=u.keys(e);for(n=0,a=o.length;a>n;n++)t(e[o[n]],o[n],e)}return e},u.map=u.collect=function(e,t,i){if(null==e)return[];t=u.iteratee(t,i);for(var n,a=e.length!==+e.length&&u.keys(e),o=(a||e).length,s=Array(o),r=0;o>r;r++)n=a?a[r]:r,s[r]=t(e[n],n,e);return s};var g="Reduce of empty array with no initial value";u.reduce=u.foldl=u.inject=function(e,t,i,n){null==e&&(e=[]),t=m(t,n,4);var a,o=e.length!==+e.length&&u.keys(e),s=(o||e).length,r=0;if(arguments.length<3){if(!s)throw new TypeError(g);i=e[o?o[r++]:r++]}for(;s>r;r++)a=o?o[r]:r,i=t(i,e[a],a,e);return i},u.reduceRight=u.foldr=function(e,t,i,n){null==e&&(e=[]),t=m(t,n,4);var a,o=e.length!==+e.length&&u.keys(e),s=(o||e).length;if(arguments.length<3){if(!s)throw new TypeError(g);i=e[o?o[--s]:--s]}for(;s--;)a=o?o[s]:s,i=t(i,e[a],a,e);return i},u.find=u.detect=function(e,t,i){var n;return t=u.iteratee(t,i),u.some(e,function(e,i,a){return t(e,i,a)?(n=e,!0):void 0}),n},u.filter=u.select=function(e,t,i){var n=[];return null==e?n:(t=u.iteratee(t,i),u.each(e,function(e,i,a){t(e,i,a)&&n.push(e)}),n)},u.reject=function(e,t,i){return u.filter(e,u.negate(u.iteratee(t)),i)},u.every=u.all=function(e,t,i){if(null==e)return!0;t=u.iteratee(t,i);var n,a,o=e.length!==+e.length&&u.keys(e),s=(o||e).length;for(n=0;s>n;n++)if(a=o?o[n]:n,!t(e[a],a,e))return!1;return!0},u.some=u.any=function(e,t,i){if(null==e)return!1;t=u.iteratee(t,i);var n,a,o=e.length!==+e.length&&u.keys(e),s=(o||e).length;for(n=0;s>n;n++)if(a=o?o[n]:n,t(e[a],a,e))return!0;return!1},u.contains=u.include=function(e,t){return null!=e&&(e.length!==+e.length&&(e=u.values(e)),u.indexOf(e,t)>=0)},u.invoke=function(e,t){var i=s.call(arguments,2),n=u.isFunction(t);return u.map(e,function(e){return(n?t:e[t]).apply(e,i)})},u.pluck=function(e,t){return u.map(e,u.property(t))},u.where=function(e,t){return u.filter(e,u.matches(t))},u.findWhere=function(e,t){return u.find(e,u.matches(t))},u.max=function(e,t,i){var n,a,o=-1/0,s=-1/0;if(null==t&&null!=e){e=e.length===+e.length?e:u.values(e);for(var r=0,l=e.length;l>r;r++)(n=e[r])>o&&(o=n)}else t=u.iteratee(t,i),u.each(e,function(e,i,n){((a=t(e,i,n))>s||a===-1/0&&o===-1/0)&&(o=e,s=a)});return o},u.min=function(e,t,i){var n,a,o=1/0,s=1/0;if(null==t&&null!=e){e=e.length===+e.length?e:u.values(e);for(var r=0,l=e.length;l>r;r++)n=e[r],o>n&&(o=n)}else t=u.iteratee(t,i),u.each(e,function(e,i,n){a=t(e,i,n),(s>a||1/0===a&&1/0===o)&&(o=e,s=a)});return o},u.shuffle=function(e){for(var t,i=e&&e.length===+e.length?e:u.values(e),n=i.length,a=Array(n),o=0;n>o;o++)t=u.random(0,o),t!==o&&(a[o]=a[t]),a[t]=i[o];return a},u.sample=function(e,t,i){return null==t||i?(e.length!==+e.length&&(e=u.values(e)),e[u.random(e.length-1)]):u.shuffle(e).slice(0,Math.max(0,t))},u.sortBy=function(e,t,i){return t=u.iteratee(t,i),u.pluck(u.map(e,function(e,i,n){return{value:e,index:i,criteria:t(e,i,n)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return e.index-t.index}),"value")};var f=function(e){return function(t,i,n){var a={};return i=u.iteratee(i,n),u.each(t,function(n,o){var s=i(n,o,t);e(a,n,s)}),a}};u.groupBy=f(function(e,t,i){u.has(e,i)?e[i].push(t):e[i]=[t]}),u.indexBy=f(function(e,t,i){e[i]=t}),u.countBy=f(function(e,t,i){u.has(e,i)?e[i]++:e[i]=1}),u.sortedIndex=function(e,t,i,n){i=u.iteratee(i,n,1);for(var a=i(t),o=0,s=e.length;s>o;){var r=o+s>>>1;i(e[r])<a?o=r+1:s=r}return o},u.toArray=function(e){return e?u.isArray(e)?s.call(e):e.length===+e.length?u.map(e,u.identity):u.values(e):[]},u.size=function(e){return null==e?0:e.length===+e.length?e.length:u.keys(e).length},u.partition=function(e,t,i){t=u.iteratee(t,i);var n=[],a=[];return u.each(e,function(e,i,o){(t(e,i,o)?n:a).push(e)}),[n,a]},u.first=u.head=u.take=function(e,t,i){return null==e?void 0:null==t||i?e[0]:0>t?[]:s.call(e,0,t)},u.initial=function(e,t,i){return s.call(e,0,Math.max(0,e.length-(null==t||i?1:t)))},u.last=function(e,t,i){return null==e?void 0:null==t||i?e[e.length-1]:s.call(e,Math.max(e.length-t,0))},u.rest=u.tail=u.drop=function(e,t,i){return s.call(e,null==t||i?1:t)},u.compact=function(e){return u.filter(e,u.identity)};var _=function(e,t,i,n){if(t&&u.every(e,u.isArray))return r.apply(n,e);for(var a=0,s=e.length;s>a;a++){var l=e[a];u.isArray(l)||u.isArguments(l)?t?o.apply(n,l):_(l,t,i,n):i||n.push(l)}return n};u.flatten=function(e,t){return _(e,t,!1,[])},u.without=function(e){return u.difference(e,s.call(arguments,1))},u.uniq=u.unique=function(e,t,i,n){if(null==e)return[];u.isBoolean(t)||(n=i,i=t,t=!1),null!=i&&(i=u.iteratee(i,n));for(var a=[],o=[],s=0,r=e.length;r>s;s++){var l=e[s];if(t)s&&o===l||a.push(l),o=l;else if(i){var d=i(l,s,e);u.indexOf(o,d)<0&&(o.push(d),a.push(l))}else u.indexOf(a,l)<0&&a.push(l)}return a},u.union=function(){return u.uniq(_(arguments,!0,!0,[]))},u.intersection=function(e){if(null==e)return[];for(var t=[],i=arguments.length,n=0,a=e.length;a>n;n++){var o=e[n];if(!u.contains(t,o)){for(var s=1;i>s&&u.contains(arguments[s],o);s++);s===i&&t.push(o)}}return t},u.difference=function(e){var t=_(s.call(arguments,1),!0,!0,[]);return u.filter(e,function(e){return!u.contains(t,e)})},u.zip=function(e){if(null==e)return[];for(var t=u.max(arguments,"length").length,i=Array(t),n=0;t>n;n++)i[n]=u.pluck(arguments,n);return i},u.object=function(e,t){if(null==e)return{};for(var i={},n=0,a=e.length;a>n;n++)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i},u.indexOf=function(e,t,i){if(null==e)return-1;var n=0,a=e.length;if(i){if("number"!=typeof i)return n=u.sortedIndex(e,t),e[n]===t?n:-1;n=0>i?Math.max(0,a+i):i}for(;a>n;n++)if(e[n]===t)return n;return-1},u.lastIndexOf=function(e,t,i){if(null==e)return-1;var n=e.length;for("number"==typeof i&&(n=0>i?n+i+1:Math.min(n,i+1));--n>=0;)if(e[n]===t)return n;return-1},u.range=function(e,t,i){arguments.length<=1&&(t=e||0,e=0),i=i||1;for(var n=Math.max(Math.ceil((t-e)/i),0),a=Array(n),o=0;n>o;o++,e+=i)a[o]=e;return a};var w=function(){};u.bind=function(e,t){var i,n;if(h&&e.bind===h)return h.apply(e,s.call(arguments,1));if(!u.isFunction(e))throw new TypeError("Bind must be called on a function");return i=s.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,i.concat(s.call(arguments)));w.prototype=e.prototype;var a=new w;w.prototype=null;var o=e.apply(a,i.concat(s.call(arguments)));return u.isObject(o)?o:a}},u.partial=function(e){var t=s.call(arguments,1);return function(){for(var i=0,n=t.slice(),a=0,o=n.length;o>a;a++)n[a]===u&&(n[a]=arguments[i++]);for(;i<arguments.length;)n.push(arguments[i++]);return e.apply(this,n)}},u.bindAll=function(e){var t,i,n=arguments.length;if(1>=n)throw new Error("bindAll must be passed function names");for(t=1;n>t;t++)i=arguments[t],e[i]=u.bind(e[i],e);return e},u.memoize=function(e,t){var i=function(n){var a=i.cache,o=t?t.apply(this,arguments):n;return u.has(a,o)||(a[o]=e.apply(this,arguments)),a[o]};return i.cache={},i},u.delay=function(e,t){var i=s.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},u.defer=function(e){return u.delay.apply(u,[e,1].concat(s.call(arguments,1)))},u.throttle=function(e,t,i){var n,a,o,s=null,r=0;i||(i={});var l=function(){r=!1===i.leading?0:u.now(),s=null,o=e.apply(n,a),s||(n=a=null)};return function(){var d=u.now();r||!1!==i.leading||(r=d);var c=t-(d-r);return n=this,a=arguments,0>=c||c>t?(clearTimeout(s),s=null,r=d,o=e.apply(n,a),s||(n=a=null)):s||!1===i.trailing||(s=setTimeout(l,c)),o}},u.debounce=function(e,t,i){var n,a,o,s,r,l=function(){var d=u.now()-s;t>d&&d>0?n=setTimeout(l,t-d):(n=null,i||(r=e.apply(o,a),n||(o=a=null)))};return function(){o=this,a=arguments,s=u.now();var d=i&&!n;return n||(n=setTimeout(l,t)),d&&(r=e.apply(o,a),o=a=null),r}},u.wrap=function(e,t){return u.partial(t,e)},u.negate=function(e){return function(){return!e.apply(this,arguments)}},u.compose=function(){var e=arguments,t=e.length-1;return function(){for(var i=t,n=e[t].apply(this,arguments);i--;)n=e[i].call(this,n);return n}},u.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},u.before=function(e,t){var i;return function(){return--e>0?i=t.apply(this,arguments):t=null,i}},u.once=u.partial(u.before,2),u.keys=function(e){if(!u.isObject(e))return[];if(p)return p(e);var t=[];for(var i in e)u.has(e,i)&&t.push(i);return t},u.values=function(e){for(var t=u.keys(e),i=t.length,n=Array(i),a=0;i>a;a++)n[a]=e[t[a]];return n},u.pairs=function(e){for(var t=u.keys(e),i=t.length,n=Array(i),a=0;i>a;a++)n[a]=[t[a],e[t[a]]];return n},u.invert=function(e){for(var t={},i=u.keys(e),n=0,a=i.length;a>n;n++)t[e[i[n]]]=i[n];return t},u.functions=u.methods=function(e){var t=[];for(var i in e)u.isFunction(e[i])&&t.push(i);return t.sort()},u.extend=function(e){if(!u.isObject(e))return e;for(var t,i,n=1,a=arguments.length;a>n;n++){t=arguments[n];for(i in t)d.call(t,i)&&(e[i]=t[i])}return e},u.pick=function(e,t,i){var n,a={};if(null==e)return a;if(u.isFunction(t)){t=m(t,i);for(n in e){var o=e[n];t(o,n,e)&&(a[n]=o)}}else{var l=r.apply([],s.call(arguments,1));e=new Object(e);for(var d=0,c=l.length;c>d;d++)(n=l[d])in e&&(a[n]=e[n])}return a},u.omit=function(e,t,i){if(u.isFunction(t))t=u.negate(t);else{var n=u.map(r.apply([],s.call(arguments,1)),String);t=function(e,t){return!u.contains(n,t)}}return u.pick(e,t,i)},u.defaults=function(e){if(!u.isObject(e))return e;for(var t=1,i=arguments.length;i>t;t++){var n=arguments[t];for(var a in n)void 0===e[a]&&(e[a]=n[a])}return e},u.clone=function(e){return u.isObject(e)?u.isArray(e)?e.slice():u.extend({},e):e},u.tap=function(e,t){return t(e),e};var b=function(e,t,i,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof u&&(e=e._wrapped),t instanceof u&&(t=t._wrapped);var a=l.call(e);if(a!==l.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=i.length;o--;)if(i[o]===e)return n[o]===t;var s=e.constructor,r=t.constructor;if(s!==r&&"constructor"in e&&"constructor"in t&&!(u.isFunction(s)&&s instanceof s&&u.isFunction(r)&&r instanceof r))return!1;i.push(e),n.push(t);var d,c;if("[object Array]"===a){if(d=e.length,c=d===t.length)for(;d--&&(c=b(e[d],t[d],i,n)););}else{var p,h=u.keys(e);if(d=h.length,c=u.keys(t).length===d)for(;d--&&(p=h[d],c=u.has(t,p)&&b(e[p],t[p],i,n)););}return i.pop(),n.pop(),c};u.isEqual=function(e,t){return b(e,t,[],[])},u.isEmpty=function(e){if(null==e)return!0;if(u.isArray(e)||u.isString(e)||u.isArguments(e))return 0===e.length;for(var t in e)if(u.has(e,t))return!1;return!0},u.isElement=function(e){return!(!e||1!==e.nodeType)},u.isArray=c||function(e){return"[object Array]"===l.call(e)},u.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},u.each(["Arguments","Function","String","Number","Date","RegExp"],function(e){u["is"+e]=function(t){return l.call(t)==="[object "+e+"]"}}),u.isArguments(arguments)||(u.isArguments=function(e){return u.has(e,"callee")}),"function"!=typeof/./&&(u.isFunction=function(e){return"function"==typeof e||!1}),u.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},u.isNaN=function(e){return u.isNumber(e)&&e!==+e},u.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===l.call(e)},u.isNull=function(e){return null===e},u.isUndefined=function(e){return void 0===e},u.has=function(e,t){return null!=e&&d.call(e,t)},u.noConflict=function(){return e._=t,this},u.identity=function(e){return e},u.constant=function(e){return function(){return e}},u.noop=function(){},u.property=function(e){return function(t){return t[e]}},u.matches=function(e){var t=u.pairs(e),i=t.length;return function(e){if(null==e)return!i;e=new Object(e);for(var n=0;i>n;n++){var a=t[n],o=a[0];if(a[1]!==e[o]||!(o in e))return!1}return!0}},u.times=function(e,t,i){var n=Array(Math.max(0,e));t=m(t,i,1);for(var a=0;e>a;a++)n[a]=t(a);return n},u.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},u.now=Date.now||function(){return(new Date).getTime()};var v={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},y=u.invert(v),x=function(e){var t=function(t){return e[t]},i="(?:"+u.keys(e).join("|")+")",n=RegExp(i),a=RegExp(i,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(a,t):e}};u.escape=x(v),u.unescape=x(y),u.result=function(e,t){if(null!=e){var i=e[t];return u.isFunction(i)?e[t]():i}};var k=0;u.uniqueId=function(e){var t=++k+"";return e?e+t:t},u.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var S=/(.)^/,T={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},E=/\\|'|\r|\n|\u2028|\u2029/g,z=function(e){return"\\"+T[e]};u.template=function(e,t,i){!t&&i&&(t=i),t=u.defaults({},t,u.templateSettings);var n=RegExp([(t.escape||S).source,(t.interpolate||S).source,(t.evaluate||S).source].join("|")+"|$","g"),a=0,o="__p+='";e.replace(n,function(t,i,n,s,r){return o+=e.slice(a,r).replace(E,z),a=r+t.length,i?o+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var r=function(e){return s.call(this,e,u)};return r.source="function("+(t.variable||"obj")+"){\n"+o+"}",r},u.chain=function(e){var t=u(e);return t._chain=!0,t};var M=function(e){return this._chain?u(e).chain():e};u.mixin=function(e){u.each(u.functions(e),function(t){var i=u[t]=e[t];u.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),M.call(this,i.apply(u,e))}})},u.mixin(u),u.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];u.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),"shift"!==e&&"splice"!==e||0!==i.length||delete i[0],M.call(this,i)}}),u.each(["concat","join","slice"],function(e){var t=i[e];u.prototype[e]=function(){return M.call(this,t.apply(this._wrapped,arguments))}}),u.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return u})}).call(this),lc.underscore=_.noConflict(!0),function(_){lc.utils={},lc.utils.waitFor=function(e,t){var i=0,n=e();if(n)return void t(n);var a=setInterval(function(){var n=e();return n?(clearInterval(a),void t(n)):(i+=50,i>=5e3?void clearInterval(a):void 0)},50);return a},lc.utils.css=function(e,t,i){void 0===i&&(i=!0);var n=lc.utils.css2json(t.attr("style")),a=[];e.each(function(){a.push(this)});for(var o=document.styleSheets,s=0;s<o.length;s++){var r=o[s];if(!($.inArray(r.ownerNode,a)<0)){try{var l=r.rules||r.cssRules}catch(e){continue}for(var d in l)try{t.is(l[d].selectorText)&&(n=$.extend(n,lc.utils.css2json(l[d].style),lc.utils.css2json(t.attr("style"))))}catch(e){}}}if(i)for(var s in n)try{var c=n[s].match(/^(\d+)px/);c&&(n[s]=c[1])}catch(e){}return n},lc.utils.css2json=function(e){var t={};if(!e)return t;if(e instanceof CSSStyleDeclaration)for(var i in e)e[i].toLowerCase&&(t[e[i].toLowerCase()]=e[e[i]]);else if("string"==typeof e){e=e.split("; ");for(var i in e){var n=e[i].toString().split(": ");t[n[0].toLowerCase()]=n[1]}}return t},lc.utils.defineClass=function(e,t){void 0===t&&(t=e,e=void 0);var i=null;return i={methods:{},mixins:{},initializer:t,modalConstructor:function(){i.initializer.call(i.methods),i.initializer.call(this),this.mixins=i.mixins}},i.create=void 0===e?function(){return new i.modalConstructor}:function(){return $.extend(!0,e.create(),new i.modalConstructor)},i},lc.utils.createMixed=function(e,t){return $.extend(!0,e.create(),t.create())},lc.utils.loadScript=function(e,t){var i=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.src=e,n.onreadystatechange=t,n.onload=t,i.appendChild(n)},lc.utils.setCookie=function(e,t,i){try{if("undefined"!=typeof Storage){i=i||{};var n=i.expires;if(-1===n)return void localStorage.removeItem(e);if("number"==typeof n&&n){var a=new Date;a.setTime(a.getTime()+1e3*n),n=i.expires=a}n&&n.toUTCString&&(i.expires=n.toUTCString());var o={value:t};n&&(o.expires=n),localStorage.setItem(e,JSON.stringify(o))}else lc.utils._setCookie(e,t,i)}catch(e){}},lc.utils._setCookie=function(e,t,i){i=i||{};var n=i.expires;if("number"==typeof n&&n){var a=new Date;a.setTime(a.getTime()+1e3*n),n=i.expires=a}n&&n.toUTCString&&(i.expires=n.toUTCString()),t=encodeURIComponent(t);var o=e+"="+t;for(var s in i){o+="; "+s;var r=i[s];!0!==r&&(o+="="+r)}document.cookie=o},lc.utils.getCookie=function(e){try{if("undefined"!=typeof Storage){var t=localStorage.getItem(e);if(t){if(!lc.utils.checkIsJson(t))return t;var i=JSON.parse(t),n=i.expires||-1,a=i.value;if(-1===n)return a;if(new Date(n).getTime()>=(new Date).getTime())return a;lc.utils.deleteCookie(e)}return}return lc.utils._getCookie(e)}catch(e){}},lc.utils._getCookie=function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},lc.utils.deleteCookie=function(e){lc.utils.setCookie(e,"",{expires:-1})},lc.utils.randomInt=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},lc.utils.getRandomItem=function(e){return e[lc.utils.randomInt(0,e.length-1)]},lc.utils.getRandomItemIndex=function(e){return lc.utils.randomInt(0,e.length-1)},lc.utils.generateUUID=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?i:7&i|8).toString(16)})},lc.utils.isMsie=function(){return!!(window.navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.match(/Trident.*rv\:11\./))},lc.utils.getField=function(e,t){for(var i=t.split("."),n=0;n<i.length;n++)e=e[i[n]];return e},lc.utils.setField=function(e,t,i){for(var n=t.split("."),a=0;a<n.length-1;a++)e=e[n[a]];return e[n[n.length-1]]=i},lc.utils.getServerUrl=function(e){return lc.serverEnv.params.protocol+"://"+lc.serverEnv.params.host+(e||"")},lc.utils.checkIsJson=function(e){if(null===e)return!1;try{return JSON.parse(e),!0}catch(e){return!1}},lc.utils.extend=function(){var e={},t=!1,i=0,n=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],i++);for(;i<n;i++){var a=arguments[i];!function(i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t&&"[object Object]"===Object.prototype.toString.call(i[n])?e[n]=lc.utils.extend(!0,e[n],i[n]):e[n]=i[n])}(a)}return e},lc.utils.jsonMergeRecursive=function(e,t){for(var i in t)try{t[i].constructor==Object?e[i]=lc.utils.jsonMergeRecursive(e[i],t[i]):e[i]=t[i]}catch(n){e[i]=t[i]}return e},lc.utils.docReferrer=function(){var e=encodeURI(document.referrer);return e.length>110&&(e=e.match(/:\/\/(.[^\/]+)/)[1]),e},lc.utils.setupMessagesListener=function(e){window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent("onmessage",e)},lc.utils.validateEmail=function(e,t,i){var n=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;return t&&i?i[0].validity.valid&&n.test(i[0].value):n.test(e)},lc.utils.validatePhone=function(e){return/^(?:(?:\(?(?:00|\+)([1-4]\d\d|[1-9]\d?)\)?)?[\-\.\ \\\/]?)?((?:\(?\d{1,}\)?[\-\.\ \\\/]?){0,})(?:[\-\.\ \\\/]?(?:#|ext\.?|extension|x)[\-\.\ \\\/]?(\d+))?$/i.test(e)},lc.utils.amountDaysBetweenTwoDates=function(e,t){return Math.floor(Math.abs(t.getTime()-e.getTime())/864e5)},lc.utils.storeToLocalStorage=function(e){try{if(Object.keys(e).length>0&&"undefined"!=typeof Storage)for(var t in e)localStorage.setItem(t,e[t])}catch(e){}},lc.utils.removeFromLocalStorage=function(e){try{if("object"==typeof e){if(Object.keys(e).length>0&&"undefined"!=typeof Storage)for(var t in e)localStorage.removeItem(e[t])}else"string"==typeof e&&null!=localStorage.getItem(e)&&localStorage.removeItem(e)}catch(e){}},lc.utils.gaTriggerGoal=function(e){try{"undefined"!=typeof ga&&ga("send",{hitType:"event",eventCategory:"Venyoo",eventAction:e}),"undefined"!=typeof gtag&&gtag("event",e,{event_category:"Venyoo"}),"undefined"!=typeof dataLayer&&("sportmaster"==lc.widget.webmaster.product?dataLayer.push({event:"dl_event",eventCategory:"online_helper",eventAction:e,eventLabel:"venyoo",eventValue:""}):dataLayer.push({event:"dl_event",eventCategory:"Venyoo",eventAction:e}))}catch(e){console.log(e)}},lc.utils.metricsTriggerGoal=function(e){try{var t=void 0;try{lc.loader&&"function"==typeof lc.loader.analytic&&lc.loader.analytic().counterNumberExist()&&(t=lc.loader.analytic().counter.full)}catch(e){}for(var i in window)if(window.hasOwnProperty(i)&&-1!=i.indexOf("yaCounter")&&(void 0===t||t!==i)){var n=window[i];if("object"!=typeof n)continue;try{n.reachGoal(e)}catch(e){}}}catch(e){console.log(e)}},lc.utils.getParam=function(e,t){t||(t=location.href),e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i="[\\?&]"+e+"=([^&#]*)",n=new RegExp(i),a=n.exec(t);return null==a?null:a[1]},lc.utils.placeCaretAtEnd=function(e){if(e.focus(),void 0!==window.getSelection&&void 0!==document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var i=window.getSelection();try{i.removeAllRanges()}catch(e){}i.addRange(t)}else if(void 0!==document.body.createTextRange){var n=document.body.createTextRange();n.moveToElementText(e),n.collapse(!1),n.select()}},lc.utils.isIE=function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("msie")&&parseInt(e.split("msie")[1])},lc.utils.JSONSstringify=function(e){if(window.Prototype){var t,i=Array.prototype.toJSON;return delete Array.prototype.toJSON,t=JSON.stringify(e),Array.prototype.toJSON=i,t}return JSON.stringify(e)},lc.utils.generateUUID=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?i:7&i|8).toString(16)})},lc.utils.makeGradientStyle=function(){return function(e){return"        /* Mozilla Firefox */         background-image: -moz-linear-gradient({propValue} !important);        /* Opera */         background-image: -o-linear-gradient({propValue}) !important;        /* Webkit (Safari/Chrome 10) */         background-image: -webkit-gradient({propValue}) !important;        /* Webkit (Chrome 11+) */         background-image: -webkit-linear-gradient({propValue}) !important;        /* IE10+ */        background: -ms-linear-gradient({propValue}) !important;        /* W3C */        background: linear-gradient({propValue}) !important;    ".replace(/\{propValue\}/g,e)}}(),lc.utils.makeBorderRadiusStyle=function(){return function(e){return"        -webkit-border-radius: {propValue} !important;        -moz-border-radius: {propValue} !important;        border-radius: {propValue} !important;    ".replace(/\{propValue\}/g,e)}}(),lc.utils.makeBoxShadowStyle=function(){return function(e){return"        -webkit-box-shadow: {propValue} !important;        -moz-box-shadow: {propValue} !important;        box-shadow: {propValue} !important;    ".replace(/\{propValue\}/g,e)}}(),lc.utils.whichTransitionEvent=function(){var e=document.createElement("fake"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return t[i]},String.prototype.customFormat=function(){for(var e=this,t=0;t<arguments.length;t++){var i=new RegExp("\\{"+t+"\\}","gi");e=e.replace(i,arguments[t])}return e},Object.byString=function(e,t){t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");for(var i=t.split("."),n=0,a=i.length;n<a;++n){var o=i[n];if(!(o in e))return;e=e[o]}return e},lc.utils.getAllUrlParams=function(e){var t=e?e.split("?")[1]:window.location.search.slice(1),i={};if(t){t=t.split("#")[0];for(var n=t.split("&"),a=0;a<n.length;a++){var o=n[a].split("="),s=void 0,r=o[0].replace(/\[\d*\]/,function(e){return s=e.slice(1,-1),""}),l=void 0===o[1]||o[1];r=r.toLowerCase(),l=l.toLowerCase(),i[r]?("string"==typeof i[r]&&(i[r]=[i[r]]),void 0===s?i[r].push(l):i[r][s]=l):i[r]=l}}return i},lc.utils.strHash=function(e){for(var t=5381,i=e.length;i;)t=33*t^e.charCodeAt(--i);return t>>>0},lc.utils.punnyCode=function(e){function t(e){throw new RangeError(s[e])}function i(e,t){for(var i=[],n=e.length;n--;)i[n]=t(e[n]);return i}function n(e,t){var n=e.split("@"),a="";return n.length>1&&(a=n[0]+"@",e=n[1]),e=e.replace(o,"."),a+i(e.split("."),t).join(".")}var a=/^xn--/,o=/[\x2E\u3002\uFF0E\uFF61]/g,s={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},r=Math.floor,l=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:36},d=function(e,t,i){var n=0;for(e=i?r(e/700):e>>1,e+=r(e/t);e>455;n+=36)e=r(e/35);return r(n+36*e/(e+38))},c=function(e){var i=[],n=e.length,a=0,o=128,s=72,c=e.lastIndexOf("-");c<0&&(c=0);for(var p=0;p<c;++p)e.charCodeAt(p)>=128&&t("not-basic"),i.push(e.charCodeAt(p));for(var h=c>0?c+1:0;h<n;){for(var u=a,m=1,g=36;;g+=36){h>=n&&t("invalid-input");var f=l(e.charCodeAt(h++));(f>=36||f>r((2147483647-a)/m))&&t("overflow"),a+=f*m;var _=g<=s?1:g>=s+26?26:g-s;if(f<_)break;var w=36-_;m>r(2147483647/w)&&t("overflow"),m*=w}var b=i.length+1;s=d(a-u,b,0==u),r(a/b)>2147483647-o&&t("overflow"),o+=r(a/b),a%=b,i.splice(a++,0,o)}return String.fromCodePoint.apply(String,i)};return function(e){return n(e,function(e){return a.test(e)?c(e.slice(4).toLowerCase()):e})}(e)},"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var i,n,a,o,s,r=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?l+"":"null";case"boolean":case"null":return l+"";case"object":if(!l)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,i=0;o>i;i+=1)s[i]=str(i,l)||"null";return a=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+r+"]":"["+s.join(",")+"]",gap=r,a}if(rep&&"object"==typeof rep)for(o=rep.length,i=0;o>i;i+=1)"string"==typeof rep[i]&&(n=rep[i],(a=str(n,l))&&s.push(quote(n)+(gap?": ":":")+a));else for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(a=str(n,l))&&s.push(quote(n)+(gap?": ":":")+a);return a=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+r+"}":"{"+s.join(",")+"}",gap=r,a}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx,escapable,gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b"," ":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;i>n;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){function walk(e,t){var i,n,a=e[t];if(a&&"object"==typeof a)for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n=walk(a,i),void 0!==n?a[i]=n:delete a[i]);return reviver.call(e,t,a)}var j;if(text+="",cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),lc.DefaultWidget=lc.utils.defineClass(function(){this.init=function(){return this.inlineStyles={},this.inlinePresetStyles={},this.productInlineStyles={},this.userQuestion=null,this.main=null,this.leadFormPopupShown=!1,this.setupDefaultValues(),this.applyMixins(),this.previewMode.started=!1,this.greeting.alreadyWritten=!1,this.consultant.generateTitleFromTag=!1,this.consultant.randomGenerated=!1,this.applyServerEnv(),this.applyCustomParamInScript(),this.applyProductSettings(),this.applyCustomParamInScript(),this.initState(),this.initialized=!0,this},this.consts={minimized:"minimized",maximized:"maximized",iframeformtemplate:"",mobileState:"widget-display",scenarioActive:!1,msgtextLength:20,popupURL:"",timeoutTimer:"",placeMesTimeout:""},this.stateCookie=function(){return this.widgetClass+"_"+this.webmaster.product+"_"+this.widgetStyle.style+(null!==this.widget_version?"_"+this.widget_version:"")+(null!==this.widget_id?"_"+this.widget_id:"")},this.statefulFields=function(){return["greeting.alreadyWritten","sizeState","consultant.randomGenerated","consultant.name","consultant.photo","referer","greeting.randomText","revelation.sizeState"]},this.listConsultantNames=function(){return["Роман Беляков","Филипп Андреев","Элла Самойлова","Борис Савин","Елена Беспалова","Любовь Воронова","Станислав Соболев","Никита Воробьев","Дмитрий Панов"]},this.listConsultantPhoto=function(){return[1,2,"j3",4,"j5","j6",7,8,9]},this.element_widget=function(){return this.main.find(".leadia-widget")},this.element_styles=function(){return this.main.find(".leadia-widget-style")},this.element_widgetBody=function(){return this.main.find(".leadia_widget_body")},this.element_header=function(){return this.main.find(".leadia-widget-header")},this.element_headerImg=function(){return this.main.find(".leadia-widget-header-img")},this.element_workerName=function(){return this.main.find(".leadia-widget-worker-name")},this.element_jobTitle=function(){return this.main.find(".leadia-widget-job-title")},this.element_typemessage=function(e){return void 0!==e?e.find(".leadia_msg_typemessage"):this.main.find(".leadia_msg_typemessage")},this.element_textarea=function(){return this.main.find(".leadia-widget-textarea")},
this.element_button=function(){return this.main.find(".leadia_widget_btn")},this.element_chatwrapcontent=function(){return this.main.find("#leadia_content_custom_scroll")},this.element_chat=function(){return this.main.find(".leadia_widget_list")},this.element_message=function(e){return e.find(".leadia-widget-message-block")},this.element_messageWrap=function(e){return e.find(".leadia-widget-message-block .msg_wrap")},this.element_messageText=function(e){return e.find(".leadia-widget-message-block .leadia-widget-message-text")},this.element_messageCorner=function(e){return e.find(".leadia-widget-message-block .msg_wrap_corner")},this.element_messageTimeLabel=function(e){return e.find(".leadia-widget-message-block .leadia_msg_time")},this.element_allMessages=function(){return this.element_message(this.element_chat())},this.element_allMessageTimeLabels=function(){return this.element_messageTimeLabel(this.element_chat())},this.element_animatedWriting=function(e){return void 0!==e?e.find(".leadia-widget-writetext"):this.main.find(".leadia-widget-writetext")},this.element_animatedWritingAnim=function(){return this.main.find(".leadia-widget-msg-anim")},this.element_animatedWritingPencil=function(){return this.main.find(".leadia-widget-type_msg_pencil")},this.element_animatedWritingCorner=function(){return this.main.find(".leadia-widget-msg_wrap_corner")},this.element_leadFormPopup=function(){return this.main.find(".leadia-widget-popup")},this.element_leadFormPopupIframe=function(){return this.main.find(".leadia-widget-popup-iframe")},this.element_leadFormPopupDarkScreen=function(){return this.main.find(".leadia-widget-popup-dark-screen")},this.element_leadFormPopupClose=function(){return this.main.find(".leadia-widget-popup-close")},this.element_previewModeHorMarg=function(){return this.main.find(".leadia-widget-pm-hor-marg")},this.element_previewModePadLeft=function(){return this.main.find(".leadia-widget-pad-left")},this.element_previewModePadLeftVal=function(){return this.main.find(".leadia-widget-pad-left-val")},this.element_previewModePadRight=function(){return this.main.find(".leadia-widget-pad-right")},this.element_previewModePadRightVal=function(){return this.main.find(".leadia-widget-pad-right-val")},this.style_leadFormPopupShown=function(){return{bottom:"50%","margin-bottom":"-242px",width:this.leadFormPopupStyle.width,height:this.leadFormPopupStyle.height,"border-top-width":"112px"}},this.style_leadFormPopupShownFromLeft=function(){return _.extend(this.style_leadFormPopupShown(),{left:"50%","margin-left":"-263px"})},this.style_leadFormPopupShownFromRight=function(){return _.extend(this.style_leadFormPopupShown(),{right:"50%","margin-right":"-263px"})},this.style_leadFormPopupHidden=function(){return{bottom:"0","margin-bottom":"0",width:"326px",height:"357px","border-top-width":"60px"}},this.style_leadFormPopupHiddenToLeft=function(){return _.extend(this.style_leadFormPopupHidden(),{left:this.widgetStyle.horizontalMargin,"margin-left":"0"})},this.style_leadFormPopupHiddenToRight=function(){return _.extend(this.style_leadFormPopupHidden(),{right:this.widgetStyle.horizontalMargin,"margin-right":"0"})},this.style_leadFormPopupShowAnimation=function(){return"left"==this.widgetStyle.position?this.style_leadFormPopupShownFromLeft():this.style_leadFormPopupShownFromRight()},this.style_leadFormPopupHideAnimation=function(){return"left"==this.widgetStyle.position?this.style_leadFormPopupHiddenToLeft():this.style_leadFormPopupHiddenToRight()},this.p=function(e){return $.proxy(e,this)},this.setTimeout=function(e,t){return setTimeout(this.p(e),t)},this.setInterval=function(e,t){return setInterval(this.p(e),t)},this.setCookie=function(e,t,i){return i=void 0!==i?i:86400,lc.utils.setCookie(e,t,{expires:i,path:"/"})},this.getCookie=function(e){return lc.utils.getCookie(e)},this._setValue=function(e,t){this[e]=t},this._getValue=function(e){return this[e]},this.getConfigFromServerEnv=function(){return function(e){var t={staticFilesUrl:e.static,webmaster:{product:e.params.product,userId:e.userid,subaccount:e.subaccount,userHash:e.params.user_hash},widget_id:e.params.widget_id,default_widget_id:e.params.default_widget_id?e.params.default_widget_id:void 0,server:{protocol:e.params.protocol,host:e.params.host},geohead:e.params.geohead,generateRandomConsultant:e.params.robotrandom,widgetStyle:{style:e.params.style?e.params.style:"default",position:e.params.position?e.params.position:void 0,horizontalMargin:e.params.margin?e.params.margin:void 0,showCallBtn:!1,delaytype:e.params.delaytype?e.params.delaytype:void 0,bottom:void 0!==e.params.bottom&&null!==e.params.bottom?e.params.bottom:void 0},presetStyle:e.params.custom_color?e.params.custom_color:void 0,previewMode:{on:e.params.preview_mode?e.params.preview_mode:void 0,step:e.params.preview_mode_step},nocookie:e.params.no_cookie?e.params.no_cookie:void 0,form:{template:e.params["form-template"]?e.params["form-template"]:"fabricform",mobileForm:e.params["mobile-form"]},widgetClass:e.params["widget-class"]?e.params["widget-class"].replace(/\//gi,"_"):"leadia_default",jsonModelConfig:e.params.widget_json_settings,client:{ip:e.params.client_ip,widgetTemplate:e.params.template_full},lead_to_email:e.params.lead_to_email?e.params.lead_to_email:"ON",mobile_widget:e.params.mobile_widget?e.params.mobile_widget:1,settings:{msgsound:e.params.msgsound?e.params.msgsound:0,flipisactive:e.params.flipisactive?e.params.flipisactive:0,copyright_status:e.params.copyright_status?e.params.copyright_status:0,language:e.params.language?e.params.language:"ru_RU",termsofuse:e.params.termsofuse?e.params.termsofuse:0,social_auth:e.params.social_auth||0},widget_version:e.params.widget_version?e.params.widget_version:"1.0",analytics:{ga_id:e.params.ga_id,metrics_id:e.params.metrics_id},entertextlimit:e.params.entertextlimit?e.params.entertextlimit:5,user_filter:null!=e.params.user_filter&&e.params.user_filter.data&&1==e.params.user_filter.status?e.params.user_filter.data:"",styles3d:{gradient_active:0,gradient:"",border_radius_active:0,border_radius:"",box_shadow_active:0,"box-shadow":""},userPhone:e.params.userPhone?e.params.userPhone:""};return e.params.consultant_name&&(t.consultant={},t.consultant.name=e.params.consultant_name),e.params.consultant_jobTitle&&(t.hasOwnProperty("consultant")||(t.consultant={}),t.consultant.jobTitle=e.params.consultant_jobTitle),e.params.consultant_photo&&(t.hasOwnProperty("consultant")||(t.consultant={}),t.consultant.photo=e.params.consultant_photo),e.params.greeting_text&&(t.greeting={},t.greeting.text=e.params.greeting_text),e.params.thankpage_text&&(t.thankpage_text=e.params.thankpage_text),e.params.thankpage_photo&&(t.thankpage_photo=e.params.thankpage_photo),e.params.form_field_json&&(t.form_field_json=e.params.form_field_json),e.params.flipconfig_json&&(t.flipconfig_json=e.params.flipconfig_json),e.params.styles3d&&(t.styles3d=e.params.styles3d),e.params.scenario&&(t.scenario=e.params.scenario),e.params.always_minimized&&(t.always_minimized=e.params.always_minimized),e.params.global_settings&&(t.widget_global_settings=e.params.global_settings),t}(lc.serverEnv)},this.setupDefaultValues=function(){this.showPopupOnEachMessage=!1,this.previewMode={on:!1,showHorizontalMargins:!1},this.referer=document.referrer,this.webmaster={userId:null,subaccount:null,product:null},this.widgetStyle={position:"right",horizontalMargin:"0"},this.presetStyle="blue",this.server={protocol:"http",host:"cloud.leadia.ru"},this.leadFormPopupStyle={width:525,height:525},this.placeholders={textarea:"Введите ваше сообщение ..."},this.greeting={text:"Здравствуйте! Я могу бесплатно вас проконсультировать. Введите ваш вопрос.",delaySeconds:7,randomText:0},this.consultant={jobTitle:"юрист-консультант",generateRandom:!0,name:"Михаил Лаврентьев",photo:"9",generateTitleFromTag:!1,typeMessage:"Юрист печатает вам сообщение!"},this.sizeState=this.consts.minimized,this.revelation={sizeState:""},this.thankpage_photo="https://133921.selcdn.ru/widget/system/gala_72.png",this.contactform_text="Оставьте свои контактные данные, и мы ответим на ваш вопрос.",this.flipconfig_json={texts:{title:"Закажите звонок!",subtitle:"Мы перезвоним в удобное время.",textbeforeform:"Выберите время и оставьте номер телефона, мы вам перезвоним.",buttontext:"Жду звонка"},flip_timeout:10,photo:"https://133921.selcdn.ru/widget/system/call.png"}},this.getProductSettings=function(){return{}},this.applyProductSettings=function(){var e=this.getProductSettings();void 0!=e[this.webmaster.product]&&$.extend(!0,this,e[this.webmaster.product])},this.applyMixins=function(){void 0!==this.mixins&&$.extend(!0,this,this.mixins)},this.applyServerEnv=function(){$.extend(!0,this,this.getConfigFromServerEnv())},this.applyCustomParamInScript=function(){"undefined"!=typeof leadia_custom_param&&$.extend(!0,this,leadia_custom_param)},this.initState=function(){var e;try{this.storage=new lc.components.utils.LS(this.stateCookie()),this.banstorage=new lc.components.utils.LS;var t=this.storage.get("_user_msg_time");this.widgetVersion&&this.storage.set("_version",this.widgetVersion),t&&this.storage.get("_version")===this.widgetVersion&&lc.utils.amountDaysBetweenTwoDates(new Date,new Date(t))>=1&&this.storage.clear()}catch(e){}if(1!=parseInt(this.nocookie)&&(e=this.getCookie(this.stateCookie())),e){_.each(this.statefulFields(),this.p(function(e){var t=this.getCookie(this.getStateCookieName(e));if(void 0!==t)try{lc.utils.setField(this,e,t)}catch(e){}}))}else this.saveState()},this.getState=function(){var e={};return _.each(this.statefulFields(),this.p(function(t){e[t]=lc.utils.getField(this,t)})),e},this.getStateCookieName=function(e){return this.stateCookie()+"_"+e},this.saveState=function(){var e=this.getState();_.each(e,this.p(function(e,t){this.setCookie(this.getStateCookieName(t),e)})),this.setCookie(this.stateCookie(),"1")},this.setSizeState=function(e){this.sizeState=e,this.saveState(),this.updateView()},this.minimize=function(){this.setSizeState(this.consts.minimized)},this.maximize=function(){this.setSizeState(this.consts.maximized)},this.toggleSizeState=function(){this.sizeState==this.consts.minimized?this.maximize():this.minimize()},this.getRandomConsultant=function(){var e=lc.utils.getRandomItemIndex(this.listConsultantPhoto());return{name:this.listConsultantNames()[e],photoName:this.listConsultantPhoto()[e]}},this.setupRandomConsultant=function(){if(!this.consultant.randomGenerated){var e=this.getRandomConsultant();this.consultant.name=e.name,this.consultant.photo=e.photoName,this.consultant.randomGenerated=!0,this.saveState()}},this.generateTitleFromTag=function(){var e,t={"алимент":"алиментов","договор":"договора","документ":"документов","квартир":"квартиры","хищени":"хищения","налог":"налогов","наследств":"наследства","долг":"долгов","мошенничеств":"мошенничества","недвижимост":"недвижимости","пенси":"пенсии","брак":"брака","развод":"развода","льгот":"льгот","штраф":"штрафов","дтп":"ДТП","суд":"суда","жалоб":"жалобы","спор":"споров","увольнени":"увольнения","взятк":"взятки","шантаж":"шантажа","арест":"ареста","затоплени":"затопления","арбитраж":"арбитража","апелляци":"апелляции","взыскани":"взыскания","ооо":"ООО","зао":"ЗАО","кредит":"кредита","банк":"банков","ребенок":"детей","преступлен":"преступлений","возврат":"возврата","страховани":"страхования"};document.title.toLowerCase();for(var i in t)if(-1!==documentTile.indexOf(i)){e="Здравствуйте! Я могу вас проконсультировать по поводу "+t[i]+". Введите ваш вопрос.";break}e&&(this.consultant.jobTitle=e)},this.__setupInlineStyles=function(e,t){_.each(e,this.p(function(e,i){t.find(i).css(e)}))},this.setupInlineStyles=function(e){this.__setupInlineStyles(this.inlineStyles,e),void 0!==this.productInlineStyles[this.webmaster.product]&&this.__setupInlineStyles(this.productInlineStyles[this.webmaster.product],e),void 0!==this.inlinePresetStyles[this.presetStyle]&&this.__setupInlineStyles(this.inlinePresetStyles[this.presetStyle],e)},this.createMainBlock=function(){return this.main=$("<div/>"),this.main.append($("<style/>").addClass("leadia-widget-style").html(this.inclusionStyles)),this.main.append(this.widgetHtml),this.previewMode.on||(this.consultant.generateRandom&&this.setupRandomConsultant(),this.consultant.generateTitleFromTag&&this.generateTitleFromTag(),this.geohead&&this.setupRegionSpecHeader()),this.resetView(),this.applyInteractionHandlers(),this.main},this.setMessageBlockContent=function(e,t,i,n,a,o){if("object"==typeof t)for(t in obj){var s=obj[t].msgText;this.setMessageBlockContent(this.main,s,i,n,a,o),countText+=1}else void 0!==t&&(void 0!==typeof n&&n?"object"==typeof a&&"number"==typeof a.elPos?this.element_messageText(e).eq(a.elPos).html(t):this.element_messageText(e).html(t):this.element_messageText(e).text(t)),void 0!==i&&(this.element_messageTimeLabel(e).attr("data-time",i),this.updateSendTime()),"function"==typeof o&&o()},this.createDetachedMessageBlock=function(e){var t=$("<div/>"),i=$(this.messageHtml);return t.append(i),this.setMessageBlockContent(t,e.msgText,e.msgTime?e.msgTime:new Date($.now())),e.isMe?i.addClass("leadia-widget-message-me"):i.addClass("leadia-widget-message-he"),this.setupInlineStyles(t),i},this.applyInteractionHandlers=function(){this.previewMode.on||(this.element_header().click(this.p(function(){this.toggleSizeState()})),this.element_textarea().focus(this.p(function(){this.element_textarea().css({height:"80px",outline:"0 none"})})),this.element_textarea().blur(this.p(function(){0==this.element_textarea().val().length&&this.element_textarea().css({height:"37px"})})),this.element_textarea().keypress(this.p(function(e){if(13==(e.keyCode?e.keyCode:e.which))return this.placeEnteredMessage(),!1})),this.element_button().click(this.p(function(){this.placeEnteredMessage()})),this.element_leadFormPopupClose().click(this.p(this.hideLeadFormPopup)))},this.resetView=function(e){e=void 0!==e?e:"",this.setupInlineStyles(this.main),this.initializeView(e)},this.updateView=function(){if(!this.leadFormPopupShown&&!this.previewMode.on)if(this.sizeState==this.consts.minimized){var e=this.element_widget().height()-this.element_header().height();this.element_widget().css("bottom","-"+e+"px")}else this.element_widget().css("bottom",0)},this.initializeView=function(e){if(e=void 0!==e&&e.length>0?e:"","left"==this.widgetStyle.position?this.element_widget().css({left:this.widgetStyle.horizontalMargin}):this.element_widget().css({right:this.widgetStyle.horizontalMargin}),this.element_leadFormPopup().attr("style",function(e,t){return t+"overflow: visible !important;"}),this.element_leadFormPopupIframe().width(this.leadFormPopupStyle.width),this.element_leadFormPopupIframe().height(this.leadFormPopupStyle.height),this.element_headerImg().attr("src",this.getConsultantPhotoUrl(this.consultant.photo)),this.element_workerName().text(this.consultant.name),this.element_jobTitle().text(this.consultant.jobTitle),this.element_typemessage().text(this.consultant.name.split(" ")[0]+" печатает вам сообщение!"),this.element_textarea().attr("placeholder",this.placeholders.textarea),this.previewMode.on){if(lc.utils.waitFor(this.p(function(){return lc.utils.css(this.element_styles(),this.element_widget()).width}),this.p(function(e){this.previewMode.showHorizontalMargins?(this.element_previewModeHorMarg().show(),"left"==this.widgetStyle.position?(this.element_previewModePadRight().hide(),this.element_previewModePadLeft().show(),this.element_previewModePadLeft().css({right:"50%","margin-right":+(this.element_widget().width()/2+5),"margin-left":0}),this.element_previewModePadLeftVal().text(this.widgetStyle.horizontalMargin)):(this.element_previewModePadLeft().hide(),this.element_previewModePadRight().show(),this.element_previewModePadRight().css({left:"50%","margin-left":+(this.element_widget().width()/2+25),"margin-right":0}),this.element_previewModePadRightVal().text(this.widgetStyle.horizontalMargin))):this.element_previewModeHorMarg().hide(),this.element_widget().css({left:"50%","margin-left":-this.element_widget().width()/2,bottom:0})})),"venyoo"==e)if(lc.utils.checkIsJson(this.greeting.text))try{countText=0,obj=JSON.parse(this.greeting.text);for(text in obj){var t={msgText:obj[text].msgText,isMe:!0,scrollFast:!0,writing:0,msgTime:""},i=this.createDetachedMessageBlock(t);countText++?this.element_chat().append(i):this.element_chat().html(i),countText+=1}this.updateSendTime()}catch(e){this.setMessageBlockContent(this.main,this.greeting.text)}else this.setMessageBlockContent(this.main,this.greeting.text)}else this.element_previewModeHorMarg().hide(),"left"==this.widgetStyle.position?this.element_widget().css({left:this.widgetStyle.horizontalMargin+"px",bottom:0}):this.element_widget().css({right:this.widgetStyle.horizontalMargin+"px",bottom:0}),this.element_textarea();this.updateView()},this.setGreetingAlreadyWrittenTrue=function(){this.greeting.alreadyWritten="1",this.saveState()},this.placeGreetingMessageNow=function(){this.placeMessage({msgText:this.greeting.text,isMe:!0,writing:0,scrollFast:!0},!0),this.updateView()},this.startScenario=function(){this.setTimeout(function(){this.placeMessageFromRobot({msgText:this.greeting.text,writing:7}),this.maximize(),this.setGreetingAlreadyWrittenTrue()},1e3*this.greeting.delaySeconds)},this.doJsonStartScenario=function(e,t){void 0!==Object.keys(e)[t]?this.setTimeout(function(){0==t&&this.maximize(),this.placeMessageFromRobot({msgText:e[Object.keys(e)[t]].msgText,writing:e[Object.keys(e)[t]].writing}),t+=1,this.doJsonStartScenario(e,t)},1e3*e[Object.keys(e)[t]].waiting):this.setGreetingAlreadyWrittenTrue()},this.updateSendTime=function(){this.element_allMessageTimeLabels().each(function(){var e=new Date($(this).data("time")),t=new Date,i=e.getTime()-t.getTime(),n=Math.ceil(Math.abs(i/1e3));if(n<30)$(this).text("Только что");else if(n<60)$(this).text("30 секунд назад");else if(n<=300){var a=Math.floor(n/60),o="";switch(a){case 1:o="минуту назад";break;case 2:o="2 минуты назад";break;case 3:o="3 минуты назад";break;case 4:o="4 минуты назад";break;case 5:o="5 минут назад"}$(this).text(o)}else $(this).text("Отправлено в "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2))})},this.scrollToBottom=function(e){var t=e?{scrollInertia:0}:void 0;this.setTimeout(function(){this.element_chatwrapcontent().mCustomScrollbar("scrollTo","bottom",t)},50)},this.showAnimatedWriting=function(e){this.element_chat(e).append(this.element_animatedWriting(e).show())},this.hideAnimatedWriting=function(e){this.element_animatedWriting(e).hide()},this.placeMessageFromRobot=function(e,t,i){e.isMe=void 0===e.isMe||e.isMe;var n=void 0!=e.activeEl?e.activeEl:void 0;this.showAnimatedWriting(n),this.scrollToBottom(Boolean(e.scrollFast),n),this.consts.placeMesTimeout=this.setTimeout(function(){this.hideAnimatedWriting(n),this.placeMessage(e,t,i)},1e3*e.writing)},this.placeMessage=function(e,t,i){void 0===t&&(t=!1);var n=this.createDetachedMessageBlock(e),a=void 0!=e.activeEl?e.activeEl:void 0;n.hide(),this.element_chat(a).append(n);var o=this.element_chat(a).find(".leadia_widget_msg").last();e.fadeEvent?o.fadeIn(400,this.p(function(){"function"==typeof i&&i()})):(o.show(),"function"==typeof i&&i());try{if(e.isMe&&1==this.settings.msgsound&&e.writing>0)if(this.main.find("#leadia_widget_sound").length>0)this.main.find("#leadia_widget_sound")[0].play();else{var s=$("<audio/>",{id:"leadia_widget_sound",src:"https://133921.selcdn.ru/widget/audio/pop2.mp3",preload:"auto",autoplay:"true"});this.main.append(s)}}catch(e){}void 0!=e.showBell&&e.showBell&&"function"==typeof this.bellHandler&&this.checkAppsFlip(a)&&this.bellHandler().bShow(),this.updateSendTime(),t||this.maximize(),this.scrollToBottom(Boolean(e.scrollFast),a)},this.checkAppsFlip=function(e){try{return void 0!=e&&"function"==typeof this.appsFlip&&e.attr("id")=="_"+this.appsFlip().getState()}catch(e){return!1}},this.place=function(){return this.initialized||this.init(),this.createMainBlock(),$(this.p(function(){$("body").append(this.main),this.element_widget().hide(),lc.utils.waitFor(this.p(function(){return!$.isEmptyObject(lc.utils.css(this.element_styles(),this.element_widget()))}),this.p(function(){this.element_widget().show(),this.previewMode.on?this.processPreviewMode():(this.greeting.alreadyWritten?this.placeGreetingMessageNow():this.startScenario(),this.setInterval(this.updateSendTime,3e4)),setTimeout(this.p(function(){this.element_chatwrapcontent().mCustomScrollbar({axis:"y",theme:"dark-2"})}),1500),this.resetView()}))})),this},this.processPreviewMode=function(){this.maximize(),this.placeGreetingMessageNow()},this.getServerUrl=function(e,t){return this.server.protocol+"://"+this.server.host+(e||"")+(t?"?"+$.param(t):"")},this.getServerOrigin=function(){return this.getServerUrl("")},this.getStaticFileUrl=function(e){return this.staticFilesUrl+e},this.getConsultantPhotoUrl=function(e){return/^j?\d+$/.test(e)?"https://133921.selcdn.ru/widget/faces/40/"+e+".png":e},this.placeEnteredMessage=function(){var e=this.element_textarea().val();0!=$.trim(e).length&&(this.element_textarea().val(""),this.placeMessage({msgText:e,isMe:!1}),this.element_textarea().focus(),this.triggerRobotReplyScenario(e))},this.sendRef=function(){this.referer&&$.ajax({url:this.getServerUrl("/widget/ref"),type:"post",dataType:"jsonp",data:{referer:this.referer}})},this.getLeadFormPopupUrl=function(e){var t=encodeURI(document.referrer);return t.length>110&&(t=t.match(/:\/\/(.[^\/]+)/)[1]),window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),this.consts.popupURL=this.getServerUrl("/",{t:"widget",ft:"robot",p:this.webmaster.product,q:e?e.substring(0,301):"",w:this.webmaster.userId,sub:this.webmaster.subaccount,referer:t,po:window.location.origin,color:this.element_widget().css("background-color").replace(/#/g,""),h:this.getCookie("leadia_hash"),s:this.iframeformtemplate,widget_id:this.widget_id,custom_photo:this.consultant.randomGenerated?this.consultant.photo:""}),this.consts.popupURL},this.getPopupURL=function(){return this.consts.popupURL},this.setPopupURL=function(){return this.getPopupURL()},this.animateShowLeadFormPopup=function(){this.element_leadFormPopup().css({"z-index":"99999998"}).show(),this.element_leadFormPopupDarkScreen().show(),this.element_leadFormPopup().animate(this.style_leadFormPopupShowAnimation(),700,this.p(function(){var e=this.p(function(){this.element_leadFormPopupClose().show(),this.element_leadFormPopup().css({"border-width":0,"border-top-width":0}),this.element_leadFormPopupIframe().show(),this.element_leadFormPopupIframe().off("load",e)});this.element_leadFormPopupIframe().load(e),this.setupLeadFormPopupIframeSrc()})),this.element_widget().hide(100),this.element_textarea().blur()},this.animateHideLeadFormPopup=function(e){this.element_leadFormPopupDarkScreen().hide(),this.element_leadFormPopup().css({"border-width":"8px","border-top-width":"112px"}),this.element_leadFormPopup().animate(this.style_leadFormPopupHideAnimation(),700,e),this.element_leadFormPopupIframe().hide(),this.element_leadFormPopupClose().hide(),this.setTimeout(function(){this.element_widget().show(),this.scrollToBottom(!0),this.element_leadFormPopup().fadeOut()},500)},this.setupLeadFormPopupIframeSrc=function(){this.getLeadFormPopupUrl(this.userQuestion);var e=this.setPopupURL();this.element_leadFormPopupIframe().attr("src",e)},this.showLeadFormPopup=function(e,t,i){this.iframeformtemplate=void 0!==t&&null!=t?t:this.form.template,this.userQuestion=e,this.sendRef(),this.animateShowLeadFormPopup(),this.showPopupOnEachMessage=void 0===i||i,this.leadFormPopupShown=!0},this.hideLeadFormPopup=function(){this.animateHideLeadFormPopup(this.p(function(){this.leadFormPopupShown=!1,this.scrollToBottom(!0)}))},this.textScenarionRobotReplay={t1:{msgText:"Давайте я отвечу Вам по телефону. Это существенно ускорит процесс.",writing:7,waiting:5},t2:{msgText:"Сейчас всплывет окно. Оставьте в нем свои контактные данные.",writing:6,waiting:9}},this.doSetTimeout=function(e,t,i){void 0!==Object.keys(t)[i]?this.setTimeout(function(){this.placeMessageFromRobot({msgText:t[Object.keys(t)[i]].msgText,writing:t[Object.keys(t)[i]].writing}),i+=1,this.doSetTimeout(e,t,i)},1e3*t[Object.keys(t)[i]].waiting):this.setTimeout(function(){this.showLeadFormPopup(e)},1e3*(t[Object.keys(t)[i-1]].writing+7))},this.triggerRobotReplyScenario=function(e){this.showPopupOnEachMessage?this.showLeadFormPopup(this.userQuestion?this.userQuestion:e):e.length>this.consts.msgtextLength&&(this.consts.scenarioActive||(this.consts.scenarioActive=!0,Object.keys(this.textScenarionRobotReplay).length>0&&(this.consts.timeoutTimer&&clearTimeout(this.consts.timeoutTimer),this.doSetTimeout(e,this.textScenarionRobotReplay,0))))},this.sendStat=function(){try{var e=document.URL,t=document.location.host,i=document.title,n=md5(e+""+t+i);$.ajax({type:"post",data:{url:e,domain:t,title:i,hash:n},url:this.getServerUrl("/statTitleDomain")});var a=new Date;a.setTime(a.getTime()+31536e7);a.toUTCString();document.cookie="leadia_hash="+n+"; expires="+a.toUTCString()}catch(e){}},this.setupRegionSpecHeader=function(){$.ajax({url:this.getServerUrl("/geo"),success:this.p(function(e){void 0!==e&&e.length>1&&65279!=e.charCodeAt(0)&&this.element_jobTitle().html("Юрист-консультант <small>("+e+")</small>")})})},this.goalMapping=function(e){var t={trywriteenabled:"venyoo-message-typing",sendmessage:"venyoo-message-sent",contacttyping:"venyoo-contacts-typing",sendlead:"venyoo-lead-sent",leadsendcallform:"venyoo-callform-lead",clicktextarea:"leadia_clicktextarea",expand:"leadia_expand",collapse:"leadia_collapse",widgethover:"leadia_widgethover",opencoldpopup:"leadia_opencoldpopup",yesbtncoldpopup:"leadia_yesbtncoldpopup",nobtncoldpopup:"leadia_nobtncoldpopup",btnsettings:"leadia_btnsettings",chatclickhovermen:"leadia_chatclickhovermen",callclickhovermenu:"leadia_callclickhovermenu",bannerfinalstepclick:"leadia_bannerfinalstepclick",showphonenumber:"leadia_showphonenumber",widgetthemedetect:"leadia_widgetthemedetect",changewidgetthemedetect:"leadia_changewidgetthemedetect",widgetsuccessloaded:"leadia_widgetsuccessloaded",widgeterrorloaded:"leadia_widgeterrorloaded"};return"sportmaster"===this.webmaster.product&&(t.expand="show",t.collapse="hide",t.sendlead="call_me",t.interaction="interaction",t.close="close"),void 0!==t[e]?t[e]:null},this.goalTrigger=function(e,t){try{lc.loader&&lc.loader.utils&&"function"==typeof lc.loader.utils.goalTrigger&&(~this.widgetClass.indexOf("venyoo")<0||"leadia_default_blade"==this.widgetClass&&"lawyer"==this.webmaster.product)?lc.loader.utils.goalTrigger(e):void 0!==t&&t.get(0).contentWindow.postMessage(e,this.server.protocol+"://s3-eu-west-1.amazonaws.com")}catch(e){console.log(e)}var i=this.goalMapping(e);null!==i&&(lc.utils.gaTriggerGoal(i),lc.utils.metricsTriggerGoal(i))}}),lc.VenyooWidget=lc.utils.defineClass(lc.DefaultWidget,function(){this.initState=function(){this.consts.firstMsgTimer=null,this.statefulFields=function(){return["greeting.alreadyWritten","sizeState","referer","widgetFirstOpen"]},this.firstMessageMode=function(){return!(void 0===this.manualCollapseWidget||!this.manualCollapseWidget)},this.doJsonStartScenario=function(e,t,i,n){void 0!==Object.keys(e)[t]?(clearTimeout(this.consts.firstMsgTimer),this.consts.firstMsgTimer=this.setTimeout(function(){0==t&&this.sizeState==this.consts.minimized&&this.maximize(),this.placeMessageFromRobot({msgText:e[Object.keys(e)[t]].msgText,writing:void 0!==i?i["msg_"+(t+1)+"_complete"]:e[Object.keys(e)[t]].writing,activeEl:n},this.firstMessageMode(),void 0!==Object.keys(e)[t+1]?this.p(function(){this.callgoalTrigger("send"+t+"greeting_msg"),t+=1,this.chat&&!this.chat.chatInitialized&&this.chat.sendRobotMessage(e[Object.keys(e)[t]].msgText),this.doJsonStartScenario(e,t,i,n)}):this.p(function(){this.callgoalTrigger("send"+t+"greeting_msg"),this.chat&&!this.chat.chatInitialized&&this.chat.sendRobotMessage(e[Object.keys(e)[t]].msgText,!1,t),lc.utils.removeFromLocalStorage(this.stateCookie()+"_events"),this.setGrettingTrueAndShowIconMinimize()}))},void 0!==i?1e3*i["msg_"+(t+1)+"_waiting"]:3e3)):(lc.utils.removeFromLocalStorage(this.stateCookie()+"_events"),this.setGrettingTrueAndShowIconMinimize())},this.placeGreetingMessageNow=function(e){if(lc.utils.checkIsJson(this.greeting.text)){var t=JSON.parse(this.greeting.text);if(Object.keys(t).length>0)for(items in t)this.placeMessage({msgText:t[items].msgText,isMe:!0,writing:0,scrollFast:!0,activeEl:e},!0)}else this.placeMessage({msgText:this.greeting.text,isMe:!0,writing:0,scrollFast:!0,activeEl:e},!0);"ON"!=this.lead_to_email||null!=this.widget_version&&"1.0"!=this.widget_version||this.getFromLocalStorage()},lc.DefaultWidget.methods.initState.call(this)},this.setGrettingTrueAndShowIconMinimize=function(){this.setGreetingAlreadyWrittenTrue(),this.sizeState!=this.consts.minimized&&this.element_header().find(".leadia_widget_minimize").fadeIn()},this.hideLeadFormPopup=function(){lc.DefaultWidget.methods.hideLeadFormPopup.call(this),"venyoo_default_science"==this.widgetClass&&"ON"==this.lead_to_email&&(this._getValue("leadSend")||(this.sendToEmail({animmsg:!0}),this.disableWriteText()))},this.processPreviewMode=function(){this.maximize(),this.placeGreetingMessageNow()},this.setgetLeadStatus=function(){return function(e,t){var i="lead_sent_time",n=e.stateCookie();return{isAvailable:function(){if(this.isStorage())if(null!=localStorage.getItem(n+"_"+i)){if(!(t.utils.amountDaysBetweenTwoDates(new Date,new Date(localStorage.getItem(n+"_"+i)))>=1))return!0;t.utils.removeFromLocalStorage(n+"_lead_sent")}else t.utils.removeFromLocalStorage(n+"_lead_sent");return!1},isStorage:function(){return"undefined"!=typeof Storage},getVar:function(){return this.isStorage()&&this.isAvailable()&&null!=localStorage.getItem(n+"_lead_sent")?localStorage.getItem(n+"_lead_sent"):0},setVar:function(){this.isStorage()&&(localStorage.setItem(n+"_lead_sent",1),localStorage.setItem(n+"_"+i,new Date))}}}(this,lc)},this.element_developeBy_ctrl=function(){return function(e){return{isExist:function(){return"function"==typeof e.element_developeBy&&e.element_developeBy().length>0},init:function(){if(this.isExist()){var t="";e.settings.copyright_status&&(t="Отдел по работе с клиентами "+(-1!==e.server.host.indexOf("api.venew.io")?"Venew":"Venyoo")),e.element_developeBy().append(this.tpl(t)),e.settings.copyright_status?this.applyEvent():e.element_developeBy().find(".leadia_develop_container").css({cursor:"default"})}},tpl:function(e){return'<div class="leadia_develop_container"><div class="leadia_develop_container_inset"><div class="leadia_develop_text">'+e+"</div></div></div>"},applyEvent:function(){this.isExist()&&(e.element_developeBy().find(".leadia_develop_container").off(),e.element_developeBy().find(".leadia_develop_container").on("click",e.p(function(){var t="?p=v",i="//venyoo.ru";try{e.callgoalTrigger("copyrightclick"),e.randCopyright&&(t+="&subscription="+e.randCopyright),t+=1==e.setgetLeadStatus().getVar()?"&lead=1":""}catch(e){}-1!==e.server.host.indexOf("api.venew.io")&&(i="//venew.io"),window.open(i+t,"_blank")})))}}}(this)},this.createMainBlock=function(){return lc.DefaultWidget.methods.createMainBlock.call(this),this.element_developeBy=function(){return this.main.find(".leadia_develope_by")},this.element_developeBy_ctrl().init(),window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),this.main},this.element_textarea_and_btn_wrap=function(e){return void 0!==e?e.find(".leadia_widget_textarea_wrap"):this.main.find(".leadia_widget_textarea_wrap")},this.getProductSettings=function(){var e={lawyer:{consultant:{generateRandom:!1,name:"Менеджер сайта",jobTitle:"Напишите нам, мы онлайн.",photo:"https://133921.selcdn.ru/widget/faces/venyoo/4_36.png"},greeting:{
text:'{"t1": {"msgText": "Здравствуйте! У вас есть вопрос или вам нужна помощь?", "writing": 7, "waiting": 5 }, "t2": {"msgText": "Напишите, что вас интересует, и я вам обязательно помогу.", "writing":7, "waiting":9}}',delaySeconds:15},thankpage_text:"Спасибо, что обратились к нам. В ближайшее время мы свяжемся с вами.",placeholders:{textarea:"Введите сообщение и нажмите Enter"},widgetStyle:{showCallBtn:!0,delaytype:{timeout:15}},form:{template:"venyoo/default"},form_field_json:{first_last_name:1,region:1,fields:{phone:{visible:1,placeholder:"* Телефон"},email:{visible:1,placeholder:"* E-mail"},first_last_name:{visible:1,placeholder:"Имя"},region:{visible:1,placeholder:"Город"}},fields_text:{phone_text:"Давайте я отвечу вам детально по телефону.",email_text:"Я могу прислать вам подробный ответ на e-mail.",phone_email_text:"Как я могу с вами связаться, чтобы ответить?"}},cold_field_json:{photo:"https://133921.selcdn.ru/widget/faces/man.jpg",title:"У вас возник вопрос к юристу?",mainText:"Хотите получить бесплатную консультацию?",buttons:{no:{text:"Нет"},yes:{text:"Да"}},yaMetric:!0,active:0},contactform_text:"Оставьте свои контактные данные, и мы ответим на ваш вопрос.",flipconfig_json:{texts:{title:"Закажите звонок!",subtitle:"Мы перезвоним в удобное время.",textbeforeform:"Выберите время и оставьте номер телефона, мы вам перезвоним.",buttontext:"Жду звонка"},flip_timeout:10}}},t=function(e){var t={};t.lawyer={};var i=t.lawyer;return e.params.consultant_name&&(i.consultant={},i.consultant.name=e.params.consultant_name),e.params.consultant_jobTitle&&(i.hasOwnProperty("consultant")||(i.consultant={}),i.consultant.jobTitle=e.params.consultant_jobTitle),e.params.consultant_photo&&(i.hasOwnProperty("consultant")||(i.consultant={}),i.consultant.photo=e.params.consultant_photo),e.params.greeting_text&&(i.greeting={},i.greeting.text=e.params.greeting_text),e.params.thankpage_text&&(i.thankpage_text=e.params.thankpage_text),e.params.thankpage_photo&&(i.thankpage_photo=e.params.thankpage_photo),e.params.contactform_text&&(i.contactform_text=e.params.contactform_text),e.params.form_field_json&&(i.form_field_json=e.params.form_field_json),e.params.flipconfig_json&&(i.flipconfig_json=e.params.flipconfig_json),e.params.cold_field_json&&(i.cold_field_json=e.params.cold_field_json),e.params.mobile_settings_json&&(i.mobile_settings_json=e.params.mobile_settings_json),e.params.delaytype&&e.params.delaytype.timeout&&(i.widgetStyle={},i.widgetStyle.delaytype={},i.widgetStyle.delaytype=e.params.delaytype),t}(lc.serverEnv);return lc.utils.jsonMergeRecursive(e,t),e}}),function e(t,i,n){function a(s,r){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!r&&l)return l(s,!0);if(o)return o(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var c=i[s]={exports:{}};t[s][0].call(c.exports,function(e){var i=t[s][1][e];return a(i||e)},c,c.exports,e,t,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)a(n[s]);return a}({1:[function(e,t,i){"use strict";function n(e){e.fn.perfectScrollbar=function(t){return this.each(function(){if("object"==typeof t||void 0===t){var i=t;o.get(this)||a.initialize(this,i)}else{var n=t;"update"===n?a.update(this):"destroy"===n&&a.destroy(this)}return e(this)})}}var a=e("../main"),o=e("../plugin/instances"),s=lc.jQuery;void 0!==s&&n(s),t.exports=n},{"../main":7,"../plugin/instances":18}],2:[function(e,t,i){"use strict";function n(e,t){var i=e.className.split(" ");i.indexOf(t)<0&&i.push(t),e.className=i.join(" ")}function a(e,t){var i=e.className.split(" "),n=i.indexOf(t);n>=0&&i.splice(n,1),e.className=i.join(" ")}i.add=function(e,t){e.classList?e.classList.add(t):n(e,t)},i.remove=function(e,t){e.classList?e.classList.remove(t):a(e,t)},i.list=function(e){return e.classList?Array.prototype.slice.apply(e.classList):e.className.split(" ")}},{}],3:[function(e,t,i){"use strict";function n(e,t){return window.getComputedStyle(e)[t]}function a(e,t,i){return"number"==typeof i&&(i=i.toString()+"px"),e.style[t]=i,e}function o(e,t){for(var i in t){var n=t[i];"number"==typeof n&&(n=n.toString()+"px"),e.style[i]=n}return e}var s={};s.e=function(e,t){var i=document.createElement(e);return i.className=t,i},s.appendTo=function(e,t){return t.appendChild(e),e},s.css=function(e,t,i){return"object"==typeof t?o(e,t):void 0===i?n(e,t):a(e,t,i)},s.matches=function(e,t){return void 0!==e.matches?e.matches(t):void 0!==e.matchesSelector?e.matchesSelector(t):void 0!==e.webkitMatchesSelector?e.webkitMatchesSelector(t):void 0!==e.mozMatchesSelector?e.mozMatchesSelector(t):void 0!==e.msMatchesSelector?e.msMatchesSelector(t):void 0},s.remove=function(e){void 0!==e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)},s.queryChildren=function(e,t){return Array.prototype.filter.call(e.childNodes,function(e){return s.matches(e,t)})},t.exports=s},{}],4:[function(e,t,i){"use strict";var n=function(e){this.element=e,this.events={}};n.prototype.bind=function(e,t){void 0===this.events[e]&&(this.events[e]=[]),this.events[e].push(t),this.element.addEventListener(e,t,!1)},n.prototype.unbind=function(e,t){var i=void 0!==t;this.events[e]=this.events[e].filter(function(n){return!(!i||n===t)||(this.element.removeEventListener(e,n,!1),!1)},this)},n.prototype.unbindAll=function(){for(var e in this.events)this.unbind(e)};var a=function(){this.eventElements=[]};a.prototype.eventElement=function(e){var t=this.eventElements.filter(function(t){return t.element===e})[0];return void 0===t&&(t=new n(e),this.eventElements.push(t)),t},a.prototype.bind=function(e,t,i){this.eventElement(e).bind(t,i)},a.prototype.unbind=function(e,t,i){this.eventElement(e).unbind(t,i)},a.prototype.unbindAll=function(){for(var e=0;e<this.eventElements.length;e++)this.eventElements[e].unbindAll()},a.prototype.once=function(e,t,i){var n=this.eventElement(e),a=function(e){n.unbind(t,a),i(e)};n.bind(t,a)},t.exports=a},{}],5:[function(e,t,i){"use strict";t.exports=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}()},{}],6:[function(e,t,i){"use strict";var n=e("./class"),a=e("./dom");i.toInt=function(e){return parseInt(e,10)||0},i.clone=function(e){if(null===e)return null;if("object"==typeof e){var t={};for(var i in e)t[i]=this.clone(e[i]);return t}return e},i.extend=function(e,t){var i=this.clone(e);for(var n in t)i[n]=this.clone(t[n]);return i},i.isEditable=function(e){return a.matches(e,"input,[contenteditable]")||a.matches(e,"select,[contenteditable]")||a.matches(e,"textarea,[contenteditable]")||a.matches(e,"button,[contenteditable]")},i.removePsClasses=function(e){for(var t=n.list(e),i=0;i<t.length;i++){var a=t[i];0===a.indexOf("ps-")&&n.remove(e,a)}},i.outerWidth=function(e){return this.toInt(a.css(e,"width"))+this.toInt(a.css(e,"paddingLeft"))+this.toInt(a.css(e,"paddingRight"))+this.toInt(a.css(e,"borderLeftWidth"))+this.toInt(a.css(e,"borderRightWidth"))},i.startScrolling=function(e,t){n.add(e,"ps-in-scrolling"),void 0!==t?n.add(e,"ps-"+t):(n.add(e,"ps-x"),n.add(e,"ps-y"))},i.stopScrolling=function(e,t){n.remove(e,"ps-in-scrolling"),void 0!==t?n.remove(e,"ps-"+t):(n.remove(e,"ps-x"),n.remove(e,"ps-y"))},i.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},{"./class":2,"./dom":3}],7:[function(e,t,i){"use strict";var n=e("./plugin/destroy"),a=e("./plugin/initialize"),o=e("./plugin/update");t.exports={initialize:a,update:o,destroy:n}},{"./plugin/destroy":9,"./plugin/initialize":17,"./plugin/update":21}],8:[function(e,t,i){"use strict";t.exports={maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,stopPropagationOnClick:!0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,useBothWheelAxes:!1,useKeyboard:!0,useSelectionScroll:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},{}],9:[function(e,t,i){"use strict";var n=e("../lib/dom"),a=e("../lib/helper"),o=e("./instances");t.exports=function(e){var t=o.get(e);t&&(t.event.unbindAll(),n.remove(t.scrollbarX),n.remove(t.scrollbarY),n.remove(t.scrollbarXRail),n.remove(t.scrollbarYRail),a.removePsClasses(e),o.remove(e))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18}],10:[function(e,t,i){"use strict";function n(e,t){function i(e){return e.getBoundingClientRect()}var n=window.Event.prototype.stopPropagation.bind;t.settings.stopPropagationOnClick&&t.event.bind(t.scrollbarY,"click",n),t.event.bind(t.scrollbarYRail,"click",function(n){var o=a.toInt(t.scrollbarYHeight/2),l=t.railYRatio*(n.pageY-window.pageYOffset-i(t.scrollbarYRail).top-o),d=t.railYRatio*(t.railYHeight-t.scrollbarYHeight),c=l/d;0>c?c=0:c>1&&(c=1),r(e,"top",(t.contentHeight-t.containerHeight)*c),s(e),n.stopPropagation()}),t.settings.stopPropagationOnClick&&t.event.bind(t.scrollbarX,"click",n),t.event.bind(t.scrollbarXRail,"click",function(n){var o=a.toInt(t.scrollbarXWidth/2),l=t.railXRatio*(n.pageX-window.pageXOffset-i(t.scrollbarXRail).left-o),d=t.railXRatio*(t.railXWidth-t.scrollbarXWidth),c=l/d;0>c?c=0:c>1&&(c=1),r(e,"left",(t.contentWidth-t.containerWidth)*c-t.negativeScrollAdjustment),s(e),n.stopPropagation()})}var a=e("../../lib/helper"),o=e("../instances"),s=e("../update-geometry"),r=e("../update-scroll");t.exports=function(e){n(e,o.get(e))}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],11:[function(e,t,i){"use strict";function n(e,t){function i(i){var a=n+i*t.railXRatio,o=Math.max(0,t.scrollbarXRail.getBoundingClientRect().left)+t.railXRatio*(t.railXWidth-t.scrollbarXWidth);t.scrollbarXLeft=0>a?0:a>o?o:a;var r=s.toInt(t.scrollbarXLeft*(t.contentWidth-t.containerWidth)/(t.containerWidth-t.railXRatio*t.scrollbarXWidth))-t.negativeScrollAdjustment;d(e,"left",r)}var n=null,a=null,r=function(t){i(t.pageX-a),l(e),t.stopPropagation(),t.preventDefault()},c=function(){s.stopScrolling(e,"x"),t.event.unbind(t.ownerDocument,"mousemove",r)};t.event.bind(t.scrollbarX,"mousedown",function(i){a=i.pageX,n=s.toInt(o.css(t.scrollbarX,"left"))*t.railXRatio,s.startScrolling(e,"x"),t.event.bind(t.ownerDocument,"mousemove",r),t.event.once(t.ownerDocument,"mouseup",c),i.stopPropagation(),i.preventDefault()})}function a(e,t){function i(i){var a=n+i*t.railYRatio,o=Math.max(0,t.scrollbarYRail.getBoundingClientRect().top)+t.railYRatio*(t.railYHeight-t.scrollbarYHeight);t.scrollbarYTop=0>a?0:a>o?o:a;var r=s.toInt(t.scrollbarYTop*(t.contentHeight-t.containerHeight)/(t.containerHeight-t.railYRatio*t.scrollbarYHeight));d(e,"top",r)}var n=null,a=null,r=function(t){i(t.pageY-a),l(e),t.stopPropagation(),t.preventDefault()},c=function(){s.stopScrolling(e,"y"),t.event.unbind(t.ownerDocument,"mousemove",r)};t.event.bind(t.scrollbarY,"mousedown",function(i){a=i.pageY,n=s.toInt(o.css(t.scrollbarY,"top"))*t.railYRatio,s.startScrolling(e,"y"),t.event.bind(t.ownerDocument,"mousemove",r),t.event.once(t.ownerDocument,"mouseup",c),i.stopPropagation(),i.preventDefault()})}var o=e("../../lib/dom"),s=e("../../lib/helper"),r=e("../instances"),l=e("../update-geometry"),d=e("../update-scroll");t.exports=function(e){var t=r.get(e);n(e,t),a(e,t)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],12:[function(e,t,i){"use strict";function n(e,t){function i(i,n){var a=e.scrollTop;if(0===i){if(!t.scrollbarYActive)return!1;if(0===a&&n>0||a>=t.contentHeight-t.containerHeight&&0>n)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===n){if(!t.scrollbarXActive)return!1;if(0===o&&0>i||o>=t.contentWidth-t.containerWidth&&i>0)return!t.settings.wheelPropagation}return!0}var n=!1;t.event.bind(e,"mouseenter",function(){n=!0}),t.event.bind(e,"mouseleave",function(){n=!1});var s=!1;t.event.bind(t.ownerDocument,"keydown",function(d){if(!d.isDefaultPrevented||!d.isDefaultPrevented()){var c=o.matches(t.scrollbarX,":focus")||o.matches(t.scrollbarY,":focus");if(n||c){var p=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(p){for(;p.shadowRoot;)p=p.shadowRoot.activeElement;if(a.isEditable(p))return}var h=0,u=0;switch(d.which){case 37:h=-30;break;case 38:u=30;break;case 39:h=30;break;case 40:u=-30;break;case 33:u=90;break;case 32:u=d.shiftKey?90:-90;break;case 34:u=-90;break;case 35:u=d.ctrlKey?-t.contentHeight:-t.containerHeight;break;case 36:u=d.ctrlKey?e.scrollTop:t.containerHeight;break;default:return}l(e,"top",e.scrollTop-u),l(e,"left",e.scrollLeft+h),r(e),(s=i(h,u))&&d.preventDefault()}}})}var a=e("../../lib/helper"),o=e("../../lib/dom"),s=e("../instances"),r=e("../update-geometry"),l=e("../update-scroll");t.exports=function(e){n(e,s.get(e))}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],13:[function(e,t,i){"use strict";function n(e,t){function i(i,n){var a=e.scrollTop;if(0===i){if(!t.scrollbarYActive)return!1;if(0===a&&n>0||a>=t.contentHeight-t.containerHeight&&0>n)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===n){if(!t.scrollbarXActive)return!1;if(0===o&&0>i||o>=t.contentWidth-t.containerWidth&&i>0)return!t.settings.wheelPropagation}return!0}function n(e){var t=e.deltaX,i=-1*e.deltaY;return(void 0===t||void 0===i)&&(t=-1*e.wheelDeltaX/6,i=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,i*=10),t!==t&&i!==i&&(t=0,i=e.wheelDelta),[t,i]}function a(t,i){var n=e.querySelector("textarea:hover");if(n){var a=n.scrollHeight-n.clientHeight;if(a>0&&!(0===n.scrollTop&&i>0||n.scrollTop===a&&0>i))return!0;var o=n.scrollLeft-n.clientWidth;if(o>0&&!(0===n.scrollLeft&&0>t||n.scrollLeft===o&&t>0))return!0}return!1}function r(r){var d=n(r),c=d[0],p=d[1];a(c,p)||(l=!1,t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(p?s(e,"top",e.scrollTop-p*t.settings.wheelSpeed):s(e,"top",e.scrollTop+c*t.settings.wheelSpeed),l=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(c?s(e,"left",e.scrollLeft+c*t.settings.wheelSpeed):s(e,"left",e.scrollLeft-p*t.settings.wheelSpeed),l=!0):(s(e,"top",e.scrollTop-p*t.settings.wheelSpeed),s(e,"left",e.scrollLeft+c*t.settings.wheelSpeed)),o(e),(l=l||i(c,p))&&(r.stopPropagation(),r.preventDefault()))}var l=!1;void 0!==window.onwheel?t.event.bind(e,"wheel",r):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",r)}var a=e("../instances"),o=e("../update-geometry"),s=e("../update-scroll");t.exports=function(e){n(e,a.get(e))}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],14:[function(e,t,i){"use strict";function n(e,t){t.event.bind(e,"scroll",function(){o(e)})}var a=e("../instances"),o=e("../update-geometry");t.exports=function(e){n(e,a.get(e))}},{"../instances":18,"../update-geometry":19}],15:[function(e,t,i){"use strict";function n(e,t){function i(){var e=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===e.toString().length?null:e.getRangeAt(0).commonAncestorContainer}function n(){d||(d=setInterval(function(){return o.get(e)?(r(e,"top",e.scrollTop+c.top),r(e,"left",e.scrollLeft+c.left),void s(e)):void clearInterval(d)},50))}function l(){d&&(clearInterval(d),d=null),a.stopScrolling(e)}var d=null,c={top:0,left:0},p=!1;t.event.bind(t.ownerDocument,"selectionchange",function(){e.contains(i())?p=!0:(p=!1,l())}),t.event.bind(window,"mouseup",function(){p&&(p=!1,l())}),t.event.bind(window,"mousemove",function(t){if(p){var i={x:t.pageX,y:t.pageY},o={left:e.offsetLeft,right:e.offsetLeft+e.offsetWidth,top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight};i.x<o.left+3?(c.left=-5,a.startScrolling(e,"x")):i.x>o.right-3?(c.left=5,a.startScrolling(e,"x")):c.left=0,i.y<o.top+3?(c.top=o.top+3-i.y<5?-5:-20,a.startScrolling(e,"y")):i.y>o.bottom-3?(c.top=i.y-o.bottom+3<5?5:20,a.startScrolling(e,"y")):c.top=0,0===c.top&&0===c.left?l():n()}})}var a=e("../../lib/helper"),o=e("../instances"),s=e("../update-geometry"),r=e("../update-scroll");t.exports=function(e){n(e,o.get(e))}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],16:[function(e,t,i){"use strict";function n(e,t,i,n){function r(i,n){var a=e.scrollTop,o=e.scrollLeft,s=Math.abs(i),r=Math.abs(n);if(r>s){if(0>n&&a===t.contentHeight-t.containerHeight||n>0&&0===a)return!t.settings.swipePropagation}else if(s>r&&(0>i&&o===t.contentWidth-t.containerWidth||i>0&&0===o))return!t.settings.swipePropagation;return!0}function l(t,i){s(e,"top",e.scrollTop-i),s(e,"left",e.scrollLeft-t),o(e)}function d(){v=!0}function c(){v=!1}function p(e){return e.targetTouches?e.targetTouches[0]:e}function h(e){return!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE)}function u(e){if(h(e)){y=!0;var t=p(e);f.pageX=t.pageX,f.pageY=t.pageY,_=(new Date).getTime(),null!==b&&clearInterval(b),e.stopPropagation()}}function m(e){if(!v&&y&&h(e)){var t=p(e),i={pageX:t.pageX,pageY:t.pageY},n=i.pageX-f.pageX,a=i.pageY-f.pageY;l(n,a),f=i;var o=(new Date).getTime(),s=o-_;s>0&&(w.x=n/s,w.y=a/s,_=o),r(n,a)&&(e.stopPropagation(),e.preventDefault())}}function g(){!v&&y&&(y=!1,clearInterval(b),b=setInterval(function(){return a.get(e)?Math.abs(w.x)<.01&&Math.abs(w.y)<.01?void clearInterval(b):(l(30*w.x,30*w.y),w.x*=.8,void(w.y*=.8)):void clearInterval(b)},10))}var f={},_=0,w={},b=null,v=!1,y=!1;i&&(t.event.bind(window,"touchstart",d),t.event.bind(window,"touchend",c),t.event.bind(e,"touchstart",u),t.event.bind(e,"touchmove",m),t.event.bind(e,"touchend",g)),n&&(window.PointerEvent?(t.event.bind(window,"pointerdown",d),t.event.bind(window,"pointerup",c),t.event.bind(e,"pointerdown",u),t.event.bind(e,"pointermove",m),t.event.bind(e,"pointerup",g)):window.MSPointerEvent&&(t.event.bind(window,"MSPointerDown",d),t.event.bind(window,"MSPointerUp",c),t.event.bind(e,"MSPointerDown",u),t.event.bind(e,"MSPointerMove",m),t.event.bind(e,"MSPointerUp",g)))}var a=e("../instances"),o=e("../update-geometry"),s=e("../update-scroll");t.exports=function(e,t,i){n(e,a.get(e),t,i)}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],17:[function(e,t,i){"use strict";var n=e("../lib/class"),a=e("../lib/helper"),o=e("./instances"),s=e("./update-geometry"),r=e("./handler/click-rail"),l=e("./handler/drag-scrollbar"),d=e("./handler/keyboard"),c=e("./handler/mouse-wheel"),p=e("./handler/native-scroll"),h=e("./handler/selection"),u=e("./handler/touch");t.exports=function(e,t){t="object"==typeof t?t:{},n.add(e,"ps-container");var i=o.add(e);i.settings=a.extend(i.settings,t),n.add(e,"ps-theme-"+i.settings.theme),r(e),l(e),c(e),p(e),i.settings.useSelectionScroll&&h(e),(a.env.supportsTouch||a.env.supportsIePointer)&&u(e,a.env.supportsTouch,a.env.supportsIePointer),i.settings.useKeyboard&&d(e),s(e)}},{"../lib/class":2,"../lib/helper":6,"./handler/click-rail":10,"./handler/drag-scrollbar":11,"./handler/keyboard":12,"./handler/mouse-wheel":13,"./handler/native-scroll":14,"./handler/selection":15,"./handler/touch":16,"./instances":18,"./update-geometry":19}],18:[function(e,t,i){"use strict";function n(e){function t(){r.add(e,"ps-focus")}function i(){r.remove(e,"ps-focus")}var n=this;n.settings=h.clone(d),n.containerWidth=null,n.containerHeight=null,n.contentWidth=null,n.contentHeight=null,n.isRtl="rtl"===l.css(e,"direction"),n.isNegativeScroll=function(){var t=e.scrollLeft,i=null;return e.scrollLeft=-1,i=e.scrollLeft<0,e.scrollLeft=t,i}(),n.negativeScrollAdjustment=n.isNegativeScroll?e.scrollWidth-e.clientWidth:0,n.event=new c,n.ownerDocument=e.ownerDocument||document,n.scrollbarXRail=l.appendTo(l.e("div","ps-scrollbar-x-rail"),e),n.scrollbarX=l.appendTo(l.e("div","ps-scrollbar-x"),n.scrollbarXRail),n.scrollbarX.setAttribute("tabindex",0),n.event.bind(n.scrollbarX,"focus",t),n.event.bind(n.scrollbarX,"blur",i),n.scrollbarXActive=null,n.scrollbarXWidth=null,n.scrollbarXLeft=null,n.scrollbarXBottom=h.toInt(l.css(n.scrollbarXRail,"bottom")),n.isScrollbarXUsingBottom=n.scrollbarXBottom===n.scrollbarXBottom,n.scrollbarXTop=n.isScrollbarXUsingBottom?null:h.toInt(l.css(n.scrollbarXRail,"top")),n.railBorderXWidth=h.toInt(l.css(n.scrollbarXRail,"borderLeftWidth"))+h.toInt(l.css(n.scrollbarXRail,"borderRightWidth")),l.css(n.scrollbarXRail,"display","block"),n.railXMarginWidth=h.toInt(l.css(n.scrollbarXRail,"marginLeft"))+h.toInt(l.css(n.scrollbarXRail,"marginRight")),l.css(n.scrollbarXRail,"display",""),n.railXWidth=null,n.railXRatio=null,n.scrollbarYRail=l.appendTo(l.e("div","ps-scrollbar-y-rail"),e),n.scrollbarY=l.appendTo(l.e("div","ps-scrollbar-y"),n.scrollbarYRail),n.scrollbarY.setAttribute("tabindex",0),n.event.bind(n.scrollbarY,"focus",t),n.event.bind(n.scrollbarY,"blur",i),n.scrollbarYActive=null,n.scrollbarYHeight=null,n.scrollbarYTop=null,n.scrollbarYRight=h.toInt(l.css(n.scrollbarYRail,"right")),n.isScrollbarYUsingRight=n.scrollbarYRight===n.scrollbarYRight,n.scrollbarYLeft=n.isScrollbarYUsingRight?null:h.toInt(l.css(n.scrollbarYRail,"left")),n.scrollbarYOuterWidth=n.isRtl?h.outerWidth(n.scrollbarY):null,n.railBorderYWidth=h.toInt(l.css(n.scrollbarYRail,"borderTopWidth"))+h.toInt(l.css(n.scrollbarYRail,"borderBottomWidth")),l.css(n.scrollbarYRail,"display","block"),n.railYMarginHeight=h.toInt(l.css(n.scrollbarYRail,"marginTop"))+h.toInt(l.css(n.scrollbarYRail,"marginBottom")),l.css(n.scrollbarYRail,"display",""),n.railYHeight=null,n.railYRatio=null}function a(e){return void 0===e.dataset?e.getAttribute("data-ps-id"):e.dataset.psId}function o(e,t){void 0===e.dataset?e.setAttribute("data-ps-id",t):e.dataset.psId=t}function s(e){void 0===e.dataset?e.removeAttribute("data-ps-id"):delete e.dataset.psId}var r=e("../lib/class"),l=e("../lib/dom"),d=e("./default-setting"),c=e("../lib/event-manager"),p=e("../lib/guid"),h=e("../lib/helper"),u={};i.add=function(e){var t=p();return o(e,t),u[t]=new n(e),u[t]},i.remove=function(e){delete u[a(e)],s(e)},i.get=function(e){return u[a(e)]}},{"../lib/class":2,"../lib/dom":3,"../lib/event-manager":4,"../lib/guid":5,"../lib/helper":6,"./default-setting":8}],19:[function(e,t,i){"use strict";function n(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function a(e,t){var i={width:t.railXWidth};t.isRtl?i.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:i.left=e.scrollLeft,t.isScrollbarXUsingBottom?i.bottom=t.scrollbarXBottom-e.scrollTop:i.top=t.scrollbarXTop+e.scrollTop,s.css(t.scrollbarXRail,i);var n={top:e.scrollTop,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?n.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth:n.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:n.left=t.scrollbarYLeft+e.scrollLeft,s.css(t.scrollbarYRail,n),s.css(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),s.css(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}var o=e("../lib/class"),s=e("../lib/dom"),r=e("../lib/helper"),l=e("./instances"),d=e("./update-scroll");t.exports=function(e){var t=l.get(e);t.containerWidth=e.clientWidth,t.containerHeight=e.clientHeight,t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight;var i;e.contains(t.scrollbarXRail)||(i=s.queryChildren(e,".ps-scrollbar-x-rail"),i.length>0&&i.forEach(function(e){s.remove(e)}),s.appendTo(t.scrollbarXRail,e)),e.contains(t.scrollbarYRail)||(i=s.queryChildren(e,".ps-scrollbar-y-rail"),i.length>0&&i.forEach(function(e){s.remove(e)}),s.appendTo(t.scrollbarYRail,e)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=n(t,r.toInt(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=r.toInt((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=n(t,r.toInt(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=r.toInt(e.scrollTop*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),a(e,t),t.scrollbarXActive?o.add(e,"ps-active-x"):(o.remove(e,"ps-active-x"),t.scrollbarXWidth=0,t.scrollbarXLeft=0,d(e,"left",0)),t.scrollbarYActive?o.add(e,"ps-active-y"):(o.remove(e,"ps-active-y"),t.scrollbarYHeight=0,t.scrollbarYTop=0,d(e,"top",0))}},{"../lib/class":2,"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-scroll":20}],20:[function(e,t,i){"use strict";var n,a,o=e("./instances"),s=document.createEvent("Event"),r=document.createEvent("Event"),l=document.createEvent("Event"),d=document.createEvent("Event"),c=document.createEvent("Event"),p=document.createEvent("Event"),h=document.createEvent("Event"),u=document.createEvent("Event"),m=document.createEvent("Event"),g=document.createEvent("Event");s.initEvent("ps-scroll-up",!0,!0),r.initEvent("ps-scroll-down",!0,!0),l.initEvent("ps-scroll-left",!0,!0),d.initEvent("ps-scroll-right",!0,!0),c.initEvent("ps-scroll-y",!0,!0),p.initEvent("ps-scroll-x",!0,!0),h.initEvent("ps-x-reach-start",!0,!0),u.initEvent("ps-x-reach-end",!0,!0),m.initEvent("ps-y-reach-start",!0,!0),g.initEvent("ps-y-reach-end",!0,!0),t.exports=function(e,t,i){if(void 0===e)throw"You must provide an element to the update-scroll function";if(void 0===t)throw"You must provide an axis to the update-scroll function";if(void 0===i)throw"You must provide a value to the update-scroll function";"top"===t&&0>=i&&(e.scrollTop=i=0,e.dispatchEvent(m)),"left"===t&&0>=i&&(e.scrollLeft=i=0,e.dispatchEvent(h));var f=o.get(e);"top"===t&&i>=f.contentHeight-f.containerHeight&&(e.scrollTop=i=f.contentHeight-f.containerHeight,e.dispatchEvent(g)),"left"===t&&i>=f.contentWidth-f.containerWidth&&(e.scrollLeft=i=f.contentWidth-f.containerWidth,e.dispatchEvent(u)),n||(n=e.scrollTop),a||(a=e.scrollLeft),"top"===t&&n>i&&e.dispatchEvent(s),"top"===t&&i>n&&e.dispatchEvent(r),"left"===t&&a>i&&e.dispatchEvent(l),"left"===t&&i>a&&e.dispatchEvent(d),"top"===t&&(e.scrollTop=n=i,e.dispatchEvent(c)),"left"===t&&(e.scrollLeft=a=i,e.dispatchEvent(p))}},{"./instances":18}],21:[function(e,t,i){"use strict";var n=e("../lib/dom"),a=e("../lib/helper"),o=e("./instances"),s=e("./update-geometry"),r=e("./update-scroll");t.exports=function(e){var t=o.get(e);t&&(t.negativeScrollAdjustment=t.isNegativeScroll?e.scrollWidth-e.clientWidth:0,n.css(t.scrollbarXRail,"display","block"),n.css(t.scrollbarYRail,"display","block"),t.railXMarginWidth=a.toInt(n.css(t.scrollbarXRail,"marginLeft"))+a.toInt(n.css(t.scrollbarXRail,"marginRight")),t.railYMarginHeight=a.toInt(n.css(t.scrollbarYRail,"marginTop"))+a.toInt(n.css(t.scrollbarYRail,"marginBottom")),n.css(t.scrollbarXRail,"display","none"),n.css(t.scrollbarYRail,"display","none"),s(e),r(e,"top",e.scrollTop),r(e,"left",e.scrollLeft),n.css(t.scrollbarXRail,"display",""),n.css(t.scrollbarYRail,"display",""))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-geometry":19,"./update-scroll":20}]},{},[1]),function(e){e.fn.limitkeypress=function(t){var n={rexp:/^[-+]?\d*\.?\d*$/},t=e.extend(n,t);return this.each(function(){function n(e){var t=o(e),n=s(e),a="",d="",c=[];for(i=0;i<e.value.length;i++)t>i?c[i]="beforeSelection":t<=i&&n>i&&(c[i]="inSelection");for(i=0;i<e.value.length;i++){var p=i+1;if(d+=e.value.substring(i,p),!l.test(d)){var h=d.length-1;a=d.substring(0,h),d=a,"beforeSelection"==c[i]?(t-=1,n-=1):"inSelection"==c[i]&&(n-=1)}}e.value=d,r(e,t,n)}function a(e){var t="",n="";for(i=0;i<e.value.length;i++){var a=i+1;if(n+=e.value.substring(i,a),!l.test(n)){var o=n.length-1;t=n.substring(0,o),n=t}}e.value=n}function o(e){if(e.createTextRange){var t=document.selection.createRange().duplicate();return t.moveEnd("character",e.value.length),""==t.text?e.value.length:e.value.lastIndexOf(t.text)}return e.selectionStart}function s(e){if(e.createTextRange){var t=document.selection.createRange().duplicate();return t.moveStart("character",-e.value.length),t.text.length}return e.selectionEnd}function r(e,t,i){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,i);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",t),n.select()}}var l=t.rexp;e(this).blur(function(){a(this)}),e(this).keypress(function(e){if("0"!=e.which&&"8"!=e.which&&"13"!=e.which&&!e.ctrlKey&&!e.altKey){n(this);var t=String.fromCharCode(e.which),i=this.value.substring(0,o(this))+t+this.value.substring(s(this),this.value.length);return l.test(i)?void 0:void e.preventDefault()}})})}}(jQuery),function(e){e.fn.shake=function(t,i,n){return this.each(function(){e(this).css("position","relative");for(var a=1;t>=a;a++)e(this).animate({left:-1*i},n/t/4).animate({left:i},n/t/2).animate({left:0},n/t/4)}),this}}(jQuery),lc.BladeAppearance=lc.utils.defineClass(function(){!function(e,t){void 0==e.lc_controllers&&(e.lc_controllers={});var i={};!function(e,t){"use strict";Function.prototype.override=function(e){var t=this;return function(){return this.inherited=t,e.apply(this,arguments)}},e.publicProperty="Значение публичного свойства";var i={timerMenuHide:null,timerMenuHideDelay:1500,timerMenuOpen:null,timerMenuOpenDelay:300,config:{active:1,items:[{title:"Написать консультанту",datastate:"chat",datagoal:"chatclickhovermenu"},{title:"Позвоните мне",datastate:"call",datagoal:"callclickhovermenu"}]},classes:{menu_item_trigle:"leadia_widget_menu_item_trigle",menu_item_wrap:"leadia_widget_menu_item_wrap",widget_hover:"leadia_widget_hover",widget_menu:"leadia_widget_menu",widget_menu_active:"leadia_widget_menu_active",widget_menu_item:"leadia_widget_menu_item",widget_menu_item_active:"leadia_widget_menu_item_active",leadia_widget_style:"leadia-widget-style"},blockConfig:{}};e.publicMethod=function(){console.log("Исходный publicMethod для hovermenu")},e.toBeOverridden=function(){console.log("Исходный публичный метод toBeOverriden для модуля moduleName (будет переопределен)")};e.p=function(e){return $.proxy(e,this)},e.lcWidget=function(){return t.widget},e.lcUtils=function(){return t.utils},e.parentEl=function(){return this.lcWidget().element_widget()},e.lcWidgetFind=function(e){return this.lcWidget().main.find(e)},e.tooltipHide=function(){"function"==typeof this.lcWidget().tooltipEvent&&this.lcWidget().tooltipEvent("hide")},e.menuEl=function(){return this.lcWidgetFind("."+i.classes.widget_menu)},e.getFlipState=function(){return this.lcWidget().flipState},e.getSizeState=function(){return this.lcWidget().sizeState},e.getClass=function(e){return i.classes[e]},e.showMenu=function(){this.conditions()&&(this.clearTimer(),i.timerMenuOpen=setTimeout(this.p(function(){})))},e.hideMenu=function(){this.clearTimer(),i.timerMenuHide=setTimeout(function(){},i.timerMenuHideDelay)},e.addEvents=function(){this.parentEl().on("mouseenter",this.p(this.showMenu)),this.parentEl().on("mouseleave",this.p(this.hideMenu))},e.removeEvents=function(){this.parentEl().off("mouseenter",this.p(this.showMenu)),this.parentEl().off("mouseleave",this.p(this.hideMenu))},e.clearTimer=function(){clearTimeout(i.timerMenuHide),clearTimeout(i.timerMenuOpen)},e.conditions=function(){return this.lcWidget().consts.minimized==this.getSizeState()&&this.parentEl().hasClass(i.classes.widget_hover)},e.getConfig=function(){i.config},
e.getBlockConfig=function(){return i.blockConfig},e.addStyle=function(){if(void 0!=this.tCss){var e=this.lcWidgetFind("."+this.getClass("leadia_widget_style"));e.text(e.text()+this.tCss)}},e.render=function(e){if(void 0!=this.tHtml){var t=this.tHtml,i=_.template(t),n=i(e);$(n).insertBefore(this.lcWidget().element_header())}},e.mergeConfig=function(e){var t=$.extend(!0,{},this.getConfig());return void 0!==e&&this.lcUtils().jsonMergeRecursive(t,e),t},e.atacheEventHandler=function(){},e.init=function(e){i.blockConfig=this.mergeConfig(e),this.addStyle(),this.render(this.getBlockConfig()),this.removeEvents(),this.addEvents(),this.atacheEventHandler()}}(i||{},t);var n={};n.tCss="/* NEW HOVER MENU */\n\n#leadia_science_widget .leadia_widget {\n  padding-top: 4px;\n}\n\n#leadia_science_widget .leadia_widget_header {\n  min-height: 60px;\n  margin-bottom: 4px;\n  padding-top: 6px;\n}\n\n#leadia_science_widget .leadia_widget_header:before,\n#leadia_science_widget .leadia_widget_hover_module_item:before {\n  content: '';\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 0;\n  height: 100%;\n  -webkit-border-radius: 2px;\n     -moz-border-radius: 2px;\n          border-radius: 2px;\n  -webkit-transition: background .2s, width .3s !important;\n  -moz-transition: background .2s, width .3s !important;\n  -o-transition: background .2s, width .3s !important;\n  transition: background .2s, width .3s !important;\n}\n\n#leadia_science_widget .leadia_widget_hover_module_active .leadia_widget_header:hover:before,\n#leadia_science_widget .leadia_widget_hover_module_item:hover:before {\n  width: 100%;\n  background: rgba(0,0,0,.1);\n}\n\n#leadia_science_widget .leadia_widget_photo {\n  top: 5px;\n  -webkit-transition: -webkit-transform .3s !important;\n  transition: -webkit-transform .3s !important;\n  -moz-transition: transform .3s, -moz-transform .3s !important;\n  -o-transition: transform .3s, -o-transform .3s !important;\n  transition: transform .3s !important;\n  transition: transform .3s, -webkit-transform .3s, -moz-transform .3s, -o-transform .3s !important;\n}\n\n#leadia_science_widget .leadia_widget_photo img,\n#leadia_science_widget .leadia_widget_hover_module_photo img {\n  max-width: 100% !important;\n}\n\n#leadia_science_widget .leadia_widget_hover_module {\n  max-height: 0;\n  overflow: hidden;\n  -webkit-transition: max-height .2s ease-in-out;\n  -moz-transition: max-height .2s ease-in-out;\n  -o-transition: max-height .2s ease-in-out;\n  transition: max-height .2s ease-in-out;\n}\n\n#leadia_science_widget .leadia_widget_hover_module_item {\n  min-height: 60px;\n  padding-top: 6px;\n  position: relative;\n  padding-left: 70px;\n  color: #97a7bd;\n  cursor: pointer;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n#leadia_science_widget .leadia_widget_hover_module .leadia_widget_hover_module_item {\n  opacity: 0;\n  -webkit-transform: translateY(50px) !important;\n     -moz-transform: translateY(50px) !important;\n      -ms-transform: translateY(50px) !important;\n       -o-transform: translateY(50px) !important;\n          transform: translateY(50px) !important;\n  -webkit-transition: opacity .5s, -webkit-transform .4s !important;\n  transition: opacity .5s, -webkit-transform .4s !important;\n  -moz-transition: transform .4s, opacity .5s, -moz-transform .4s !important;\n  -o-transition: transform .4s, opacity .5s, -o-transform .4s !important;\n  transition: transform .4s, opacity .5s !important;\n  transition: transform .4s, opacity .5s, -webkit-transform .4s, -moz-transform .4s, -o-transform .4s !important;\n}\n\n#leadia_science_widget .leadia_widget_hover_module_item:hover .leadia_widget_hover_module_photo {\n  -webkit-transform: scale(1) !important;\n     -moz-transform: scale(1) !important;\n      -ms-transform: scale(1) !important;\n       -o-transform: scale(1) !important;\n          transform: scale(1) !important;\n}\n\n\n#leadia_science_widget .leadia_widget_hover_module:hover ~ .leadia_widget_header .leadia_widget_photo {\n  -webkit-transform: scale(.65) !important;\n     -moz-transform: scale(.65) !important;\n      -ms-transform: scale(.65) !important;\n       -o-transform: scale(.65) !important;\n          transform: scale(.65) !important;\n}\n\n#leadia_science_widget .leadia_widget_hover_module_photo {\n  overflow: hidden;\n  position: absolute;\n  left: 10px;\n  top: 5px;\n  height: 48px;\n  width: 48px;\n  -webkit-border-radius: 50%;\n  -moz-border-radius: 50%;\n  border-radius: 50%;\n  -webkit-transform: scale(.65) !important;\n     -moz-transform: scale(.65) !important;\n      -ms-transform: scale(.65) !important;\n       -o-transform: scale(.65) !important;\n          transform: scale(.65) !important;\n  -webkit-transition: -webkit-transform .3s !important;\n  transition: -webkit-transform .3s !important;\n  -moz-transition: transform .3s, -moz-transform .3s !important;\n  -o-transition: transform .3s, -o-transform .3s !important;\n  transition: transform .3s !important;\n  transition: transform .3s, -webkit-transform .3s, -moz-transform .3s, -o-transform .3s !important;\n}\n\n#leadia_science_widget .leadia_widget_hover_module_active .leadia_widget_hover_module {\n  max-height: 120px;\n  -webkit-transition: max-height .2s ease-in;\n  -moz-transition: max-height .2s ease-in;\n  -o-transition: max-height .2s ease-in;\n  transition: max-height .2s ease-in;\n}\n\n#leadia_science_widget .leadia_widget_hover_module_active .leadia_widget_hover_module_item {\n  opacity: 1 !important;\n  -webkit-transform: translateY(0) !important;\n     -moz-transform: translateY(0) !important;\n      -ms-transform: translateY(0) !important;\n       -o-transform: translateY(0) !important;\n          transform: translateY(0) !important;\n  -webkit-transition: opacity .5s, -webkit-transform .3s .2s !important;\n  transition: opacity .5s, -webkit-transform .3s .2s !important;\n  -moz-transition: transform .3s .2s, opacity .5s, -moz-transform .3s .2s !important;\n  -o-transition: transform .3s .2s, opacity .5s, -o-transform .3s .2s !important;\n  transition: transform .3s .2s, opacity .5s !important;\n  transition: transform .3s .2s, opacity .5s, -webkit-transform .3s .2s, -moz-transform .3s .2s, -o-transform .3s .2s !important;\n}\n\n#leadia_science_widget .leadia_widget_hover_module_active .leadia_widget_hover_module_item:nth-last-of-type(2) {\n  -webkit-transition-delay: .3s !important;\n     -moz-transition-delay: .3s !important;\n       -o-transition-delay: .3s !important;\n          transition-delay: .3s !important;\n}\n\n#leadia_science_widget .leadia_widget_hover:before {\n    display: none;\n}\n\n#leadia_science_widget.leadia_widget,\n#leadia_science_widget .leadia_widget_hover {\n    margin-bottom: 0 !important;\n}\n\n#leadia_science_widget .leadia_widget_hover_module_title {\n  padding: 7px 0 5px;\n  color: white;\n  font-style: normal;\n  font-size: 15px;\n  font-family: Helvetica, Arial !important;\n  line-height: 1;\n}\n\n#leadia_science_widget .leadia_widget_hover_module_text {\n  font-size: 12px;\n  font-weight: normal;\n  color: white;\n  line-height: 1;\n  font-family: Helvetica, Arial !important;\n}\n\n#leadia_science_widget .leadia_widget_minimize{\n    top: 20px;\n}\n\n#leadia_science_widget .leadia_widget_title,\n#leadia_science_widget .leadia_widget_text,\n#leadia_science_widget .leadia_widget_hover_module_title,\n#leadia_science_widget .leadia_widget_hover_module_text {\n    position: relative;\n    z-index: 1;\n\n}\n/* photo blink */\n#leadia_science_widget .leadia_widget_photo.remove_transform,\n#leadia_science_widget .leadia_widget_hover_module:hover ~ .leadia_widget_header .leadia_widget_photo.remove_transform{\n    -webkit-transform: scale(1) !important;\n       -moz-transform: scale(1) !important;\n        -ms-transform: scale(1) !important;\n         -o-transform: scale(1) !important;\n            transform: scale(1) !important;\n}\n\n#leadia_science_widget .leadia_widget_hover_module_photo:before {\n  content: '';\n  display: block;\n  position: absolute;\n  width: 140%;\n  height: 100%;\n  top: 120%;\n  left: -20%;\n  opacity: 0.6;\n  background: linear-gradient(180deg, rgba(255, 255, 255, 0), #ffffff 40%, rgba(255, 255, 255, 0.6) 60%, rgba(255, 255, 255, 0));\n  -webkit-transform: rotate(20deg);\n  -moz-transform: rotate(20deg);\n  -ms-transform: rotate(20deg);\n  -o-transform: rotate(20deg);\n  transform: rotate(20deg);\n  -webkit-animation: ava-blick 10s infinite cubic-bezier(0, 0.3, 1, 0.7);\n  -moz-animation: ava-blick 10s infinite cubic-bezier(0, 0.3, 1, 0.7);\n  -ms-animation: ava-blick 10s infinite cubic-bezier(0, 0.3, 1, 0.7);\n  -o-animation: ava-blick 10s infinite cubic-bezier(0, 0.3, 1, 0.7);\n  animation: ava-blick 10s infinite cubic-bezier(0, 0.3, 1, 0.7);\n}\n@-webkit-keyframes ava-blick {\n  0% {top: 120%;}\n  75% {top: 120%;}\n  80% {top: -120%;}\n  100% {top: -120%;}\n}\n@-moz-keyframes ava-blick {\n  0% {top: 120%;}\n  75% {top: 120%;}\n  80% {top: -120%;}\n  100% {top: -120%;}\n}\n@-ms-keyframes ava-blick {\n  0% {top: 120%;}\n  75% {top: 120%;}\n  80% {top: -120%;}\n  100% {top: -120%;}\n}\n@-ms-keyframes ava-blick {\n  0% {top: 120%;}\n  75% {top: 120%;}\n  80% {top: -120%;}\n  100% {top: -120%;}\n}\n@-o-keyframes ava-blick {\n  0% {top: 120%;}\n  75% {top: 120%;}\n  80% {top: -120%;}\n  100% {top: -120%;}\n}\n@keyframes ava-blick {\n  0% {top: 120%;}\n  75% {top: 120%;}\n  80% {top: -120%;}\n  100% {top: -120%;}\n}\n/* photo blink */\n/* NEW HOVER MENU END */",n.tHtml='    <div class="leadia_widget_hover_module">\n    <% if (_.size(items) > 0) { %>\n        <% _.each(items, function(item) { %>\n        <% var status = \'display: \' + (item.app == flipState ? \'none\': \'block\') + \';"\' %>\n            <div class="leadia_widget_hover_module_item" data-app="<%= item.app %>"\n                 data-goal="<%= item.goal %>" style="<%= status %>">\n                <div class="leadia_widget_hover_module_photo">\n                    <img src="<%= item.img %>">\n                </div>\n                <div class="leadia_widget_hover_module_title"><%= item.title %></div>\n                <div class="leadia_widget_hover_module_text"><%= item.subtitle %></div>\n            </div>\n        <% }); %>\n    <% } %>\n</div>\n',function(e,i){var n={timerFlipStart:null,sizeStateTimer:null,flipStateTimer:null,timers:{hideMenu:null,hideMenuDelay:500,waitingGrettingHover:null,waitingGrettingHoverDelay:7e3,grettingHover:null,grettingHoverDelay:7e3},currentFlipState:"",classes:{templateWrap:"leadia_widget_hover_module",templateItem:"leadia_widget_hover_module_item",widget_hover:"leadia_widget_hover"},allowedState:["chat","call"]};e.addStyle=e.addStyle.override(function(){var e=this.lcWidgetFind("."+this.getClass("leadia_widget_style"));e.text(e.text()+i.tCss)}),e.templateWrap=function(){return this.lcWidgetFind("."+n.classes.templateWrap)},e.removetpl=function(){this.templateWrap().remove()},e.safetycheckMenuishide=function(){setTimeout(this.p(function(){this.fastHideMenu()}),100)},e.widgetSizeStateListen=function(){this.widgetSizeStateUnlisten(),n.sizeStateTimer=setTimeout(this.p(function(){this.lcWidget().consts.minimized!=this.getSizeState()?(this.fastHideMenu(),this.safetycheckMenuishide()):this.widgetSizeStateListen()}),50)},e.widgetSizeStateUnlisten=function(){clearTimeout(n.sizeStateTimer)},e.updateHoverMenuItem=function(){var e=this.getFlipState();n.currentFlipState!=e&&(n.currentFlipState=e,this.lcWidgetFind("."+n.classes.templateItem).addClass("leadia_widget_hover_module_item_active").show(),this.lcWidgetFind('[data-app="'+n.currentFlipState+'"]').removeClass("leadia_widget_hover_module_item_active").hide())},e.getFlipState=function(){var e=this.lcWidget().appsFlip().displayBlock(),t=this.lcWidget().appsFlip().getDefaultFlipState();if(void 0!==e){var i=e.attr("id");void 0!==i&&(i=i.replace("_",""),-1!==n.allowedState.indexOf(i)&&(t=i))}return t},e.render=e.render.override(function(e){this.removeEventsClick(),e.flipState=this.getFlipState();var t=i.tHtml,n=_.template(t),a=n(e);this.removetpl(),$(a).insertBefore(this.lcWidget().element_header()),this.addEventsClick()}),e.clickItem=function(e){var t=e.currentTarget,i=t.getAttribute("data-app"),n=t.getAttribute("data-goal");this.fastHideMenu(),this.lcWidget().crosstab_broadcast(this.lcWidget().subscribeType.CHANGE_APP,{app:i},null),this.lcWidget().crosstab_broadcast(this.lcWidget().subscribeType.WIDGET_EXPAND,{},null),n&&this.lcWidget().callgoalTrigger(n),this.lcWidget().element_leadiawidgetphoto_flip().addClass("remove_transform")},e.photoRemoveClass=function(){this.lcWidget().element_leadiawidgetphoto_flip().removeClass("remove_transform")},e.addEventsClick=function(){this.templateWrap().find("."+n.classes.templateItem).on("click",this.p(this.clickItem))},e.removeEventsClick=function(){this.templateWrap().find("."+n.classes.templateItem).off("click",this.p(this.clickItem))},e.flipisActive=function(){return void 0!=this.lcWidget().settings&&void 0!=this.lcWidget().settings.flipisactive&&1==(parseInt(this.lcWidget().settings.flipisactive)||0)},e.setHoverRadius=function(){if(void 0!==this.lcWidget().styles3d){var e="object"==typeof this.lcWidget().styles3d?this.lcWidget().styles3d:"string"==typeof this.lcWidget().styles3d?JSON.parse(this.lcWidget().styles3d):{},t=e.border_radius_active;if("boolean"==typeof t&&t||1==parseInt(t)){var i=this.lcUtils().makeBorderRadiusStyle(e.border_radius),n=this.lcWidgetFind("."+this.getClass("leadia_widget_style"));n.text(n.text()+".leadia_widget_hover_module_item.leadia_widget_hover_module_item_active:before {"+i+"}")}}},e.menuHideEvents=function(){this.parentEl().removeClass("leadia_widget_hover_module_active"),n.timerFlipStart=setTimeout(this.p(function(){this.lcWidget().consts.minimized==this.getSizeState()&&t.widget.greeting.alreadyWritten&&this.lcWidget().flip.start()}),1e3)},e.fastHideMenu=function(){this.widgetSizeStateUnlisten(),this.menuHideEvents()},e.conditions=e.conditions.override(function(){return this.lcWidget().consts.minimized==this.getSizeState()&&this.parentEl().hasClass(n.classes.widget_hover)}),e.showMenu=e.showMenu.override(function(){this.photoRemoveClass(),this.lcWidget().tooltipEvent("hide"),clearTimeout(n.timers.waitingGrettingHover),clearTimeout(n.timers.grettingHover),clearTimeout(n.timerFlipStart),clearTimeout(n.timers.hideMenu),this.conditions()&&(this.lcWidget().flip.pause(),this.updateHoverMenuItem(),this.widgetSizeStateListen(),this.parentEl().addClass("leadia_widget_hover_module_active"))}),e.hideMenu=e.hideMenu.override(function(){this.widgetSizeStateUnlisten(),n.timers.hideMenu=setTimeout(this.p(function(){this.menuHideEvents()}),n.timers.hideMenuDelay)}),e.addStyle=e.addStyle.override(function(){this.inherited(),this.setHoverRadius()}),e.hoverMenuGretting=function(){this.showMenu(),n.timers.grettingHover=setTimeout(this.p(function(){this.fastHideMenu()}),n.timers.grettingHoverDelay)},e.hoverMenuGrettingClear=function(){clearTimeout(n.timers.waitingGrettingHover),clearTimeout(n.timers.grettingHover),this.fastHideMenu(),clearTimeout(n.timerFlipStart)},e.atacheEventHandler=e.atacheEventHandler.override(function(){this.inherited(),n.timers.waitingGrettingHover=setTimeout(this.p(function(){}),n.timers.waitingGrettingHoverDelay)})}(i||{},n),e.lc_controllers.hovermenu=i}(this,lc),this.setupDefaultValues=function(){lc.DefaultWidget.methods.setupDefaultValues.call(this),this.leadSend=!1,this.sendedmessageText="",this.timeoutWaiting=null,this.firstOpen=!0,this.maxLengthTextarea=6e3,this.trySendMess=!1,this.tooltipTimeout=null,this.tooltipTimeoutHide=null,this.tooltipstatus="hide",this.metrikobject={clicktextarea:0,trywritedisabled:0,trywriteenabled:0,collapsedisabled:0,contacttyping:0,editquestion:0,widgethover:0,validationerrorsendlead:0,chatwasconnected:0},this.widgetVersion="1.0",this.timeoutFlip=null,this.flipState="chat",this.writetext,this.flipTimeout=1e4,this.alreadysentquestion=!1,this.flipEventTimerTimout=null,this.bellisShow=!1,this.manualCollapseWidget=!1,this.timeoutList=[],this.flipEventTimerList=[],this.timeoutFlipList=[],this.consts.startWriteGreetingMsg=0,this.consts.perfectScrollbarOptions={wheelSpeed:.8,useBothWheelAxes:!1,suppressScrollX:!0},this.widgetStep=0,this.consts.flip={timer:null,delay:1e3,makeevent:20,widgetState:null},this.consts.yaiframe={yametricactive:0,listgoals:[]},this.consts.chat="chat",this.manualCloseWidget=!1,this.messagesList={},this.widgetProperty={}},this.localstorageFields=function(){return["_user_msg_time","_scenario","_version","__flipState","_fliptimer","_events"]},this.element_widget=function(){return this.main.find("#leadia-widget")},this.element_header=function(){return this.main.find(".leadia_widget_header")},this.element_jobTitle=function(){return this.main.find(".leadia_widget_text")},this.element_tooltipNotify=function(){return this.main.find(".leadia_widget_notify")},this.element_widgetfooter=function(){return this.main.find(".leadia_widget_footer")},this.element_developeBy=function(){return this.main.find(".leadia_develope_by")},this.element_leadiawidgetphoto_flip=function(){return this.main.find(".leadia_widget_photo")},this.element_iframestats=function(){return this.main.find("#venyooiframemetrik")},this.element_chatwrapcontent=function(e){return void 0!==e?e.find(".leadia_content_custom_scroll"):this.main.find(".leadia_content_custom_scroll")},this.element_chat_widget_list=function(e){return void 0!==e?e.find("#_chat").find(".leadia_widget_list"):this.main.find("#_chat").find(".leadia_widget_list")},this.element_chat=function(e){return void 0!==e?e.find(".leadia_widget_list"):this.main.find(".leadia_widget_list")},this.element_textarea=function(e){return void 0!==e?e.find(".leadia_widget_textarea"):this.main.find(".leadia_widget_textarea")},this.element_textarea_and_btn_wrap=function(e){return void 0!==e?e.find(".leadia_widget_textarea_wrap"):this.main.find(".leadia_widget_textarea_wrap")},this.element_textarea_btn=function(e){return void 0!==e?e.find(".leadia_widget_send"):this.main.find(".leadia_widget_send")},this.element_textarea_edit=function(e){return void 0!==e?e.find(".leadia-widget-edit"):this.main.find(".leadia-widget-edit")},this.element_textareawrapShake=function(e){return void 0!==e?e.find(".leadia_widget_shaker"):this.main.find(".leadia_widget_shaker")},this.scrollToBottom=function(e,t,i){if(i)return void this.element_chatwrapcontent(t).scrollTop(0).perfectScrollbar("update");void 0!==e&&e?this.element_chatwrapcontent(t).scrollTop(this.element_chat(t).height()).perfectScrollbar("update"):this.element_chatwrapcontent(t).animate({scrollTop:this.element_chat(t).height()},500,this.p(function(){this.element_chatwrapcontent(t).perfectScrollbar("update")}))},this.getLocale=function(e){if("object"==typeof this.locale&&null!=this.locale){var t=Object.byString(this.locale,e);return"copyright_text"===e?t.customFormat(-1!==this.server.host.indexOf("api.venew.io")?"Venew":"Venyoo"):t}},this.setLocale=function(e,t){return"object"==typeof this.locale&&null!=this.locale&&(this.locale[e]=t,!0)},this.stateCookie=function(){var e=this.widgetClass+"_"+this.webmaster.product+"_"+this.widgetStyle.style+(null!==this.widget_version?"_"+this.widget_version:"")+(null!==this.widget_id?"_"+this.widget_id:"");return"_lc"+lc.utils.strHash(e).toString()},this.statefulFields=function(){return["greeting.alreadyWritten","sizeState","consultant.randomGenerated","consultant.name","consultant.photo"]},this.textareaEv=function(){var e=this;return{elWrap:function(t){return e.element_textarea_and_btn_wrap(t)},elBtn:function(t){return e.element_textarea_btn(t)},elBtn_opt:function(t){var i=this.elBtn(t);return{addEvent:function(){i.on("click",e.p(function(){e.questionSendEvent(t)}))}}},elTextarea:function(t){return e.element_textarea(t)},elTextarea_opt:function(t){var i=this.elTextarea(t),n={expanded:80,collapsed:37,current:37};return{p:function(e){return $.proxy(e,this)},disable:function(e){return i.prop("disabled",!(void 0===e||!e)&&e)},clearVal:function(){return i.val("")},getLength:function(){return $.trim(i.val()).length},elTextarea_setheight:function(i,a){a===n.current&&i[0].style.clientHeight===n.current||(n.current=a,i[0].style.removeProperty("height"),i[0].style.setProperty("height",a+"px","important"),i.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){e.bodyScrollBarHeight(!1,t)}))},addEvent:function(){i.on("focus",this.p(this.elFocus)),i.on("blur",this.p(this.elBlur)),i.on("paste propertychange keypress",this.p(this.elChange))},elFocus:function(){e.metrikobjectcalltrigger("clicktextarea"),0==this.getLength()?(i.css({outline:"0 none"}),this.elTextarea_setheight(i,n.collapsed)):e.changeStatusbarText("pressenter")},elBlur:function(){0==this.getLength()&&this.elTextarea_setheight(i,n.collapsed)},maxValCut:function(){this.getLength()>=e.maxLengthTextarea&&i.val(i.val().substr(0,e.maxLengthTextarea))},elChange:function(t){var a=e.appsFlip().getActiveEl();this.maxValCut();var o=t.keyCode?t.keyCode:t.which;if(void 0!==o&&13==o)return e.questionSendEvent(a),!1;if(e.greeting.alreadyWritten?e.metrikobjectcalltrigger("trywriteenabled"):e.metrikobjectcalltrigger("trywritedisabled"),this.getLength()<e.entertextlimit-1)this.elTextarea_setheight(i,n.collapsed),e.changeStatusbarText("defaultState"),i.off("mousewheel",e.element_textarea_wheelevent);else{var s=lc.loader.settings.rulesTermsOfUse;e.termsofuse&&s&&1==parseInt(s)?e.changeStatusbarText("text_agreement"):e.changeStatusbarText("pressenter"),this.elTextarea_setheight(i,n.expanded),i.on("mousewheel",e.element_textarea_wheelevent)}}}},interactionHandlers:function(e){this.disable(e),this.elBtn(e).removeClass("leadia_widget_send_loading"),this.elTextarea_opt(e).disable(!1),this.elTextarea_opt(e).addEvent(),this.elBtn_opt(e).addEvent()},hide:function(e){return this.elWrap(e).hide()},disable:function(e){return this.elWrap(e).find("*").addBack().off()}}},this.bellHandler=function(){var e=this,t=e.element_header().find(".leadia_widget_bell");return{bShow:function(){e.sizeState==e.consts.minimized&&t.length>0&&t.addClass("leadia_widget_bell_show")},bHide:function(){return t.length>0&&t.removeClass("leadia_widget_bell_show")}}},this.generateApps=function(){this.settings&&!this.apps&&(this.apps={chat:{consultant:{name:this.consultant.name,jobTitle:this.consultant.jobTitle}},call:{consultant:{name:this.flipconfig_json.texts.title,jobTitle:this.flipconfig_json.texts.subtitle}}})},this.updateSendTime=function(){var e=this;this.element_allMessageTimeLabels().each(function(){var t=$(this),i=new Date(t.data("time")),n=i.getTime()-(new Date).getTime(),a=Math.ceil(Math.abs(n/1e3));if(a<30)t.text(e.getLocale("time_since.now")||"Только что");else if(a<60)t.text(e.getLocale("time_since.seconds_30")||"30 секунд назад");else if(a<=300){var o=Math.floor(a/60),s=[e.getLocale("time_since.seconds_30")||"минуту назад",e.getLocale("time_since.seconds_2_4")?e.getLocale("time_since.seconds_2_4").customFormat(2):"2 минуты назад",e.getLocale("time_since.seconds_2_4")?e.getLocale("time_since.seconds_2_4").customFormat(2):"3 минуты назад",e.getLocale("time_since.seconds_2_4")?e.getLocale("time_since.seconds_2_4").customFormat(2):"4 минуты назад",e.getLocale("time_since.seconds_5_9")?e.getLocale("time_since.seconds_5_9").customFormat(2):"5 минут назад"];t.text(s[o-1])}else t.text((e.getLocale("time_since.time")||"Отправлено в ")+("0"+i.getHours()).slice(-2)+":"+("0"+i.getMinutes()).slice(-2))})},this.updateMainBlock=function(){if(this.generateApps(),this.element_widgetBody().html(""),void 0!=this.apps&&Object.keys(this.apps).length>0){var e=0;for(var t in this.apps)if(this.apps.hasOwnProperty(t)){var i=$("<div/>",{id:"_"+t,css:{display:0!=e++?"none":"block",position:"static"}});i.append(this.bodyContainer),this.element_widgetBody().append(i)}}else{var i=$("<div/>",{id:"_"+this.webmaster.product});i.append(this.bodyContainer),this.element_widgetBody().append(i)}this.flip.app=this.storage.get(this.flip.props.storage.app)||this.flip.props.defaultApp,this.update_typemessage_text(this.getLocale("typing_message")||"Подождите, вам пишут сообщение..."),this.reapplyInteractionHandlers(),this.element_tooltipNotify().text(this.getLocale("tooltip")||this.element_tooltipNotify().text()),this.element_textarea().attr("placeholder",this.getLocale("placeholders.textarea")||this.element_textarea().attr("placeholder"));try{this.settings.copyright_status&&"function"==typeof this.element_developeBy&&void 0!==this.element_developeBy().find(".leadia_develop_text")&&(!this.settings||"ru"!==this.settings.language&&"ru_RU"!==this.settings.language||this.setLocale("copyright_text","Чат для сайта Venyoo")||this.element_developeBy().find(".leadia_develop_text").text("Чат для сайта Venyoo"),this.element_developeBy().find(".leadia_develop_text").text(this.getLocale("copyright_text")||this.element_developeBy().find(".leadia_develop_text").text()))}catch(e){}return this.setupInlineStyles(this.main),this.main},this.clearStorageData=function(){try{if(1===parseInt(this.nocookie)){try{this.storage.clear(),this.chatstorage.clear()}catch(e){}_.each(["coldpopup_trigger_data","coldpopupshown","hideconsultant","lead_sent","lead_sent_time"].concat(this.statefulFields()),this.p(function(e){var t=this.getStateCookieName(e);try{lc.utils.setCookie(t,"",{expires:-1,path:"/"})}catch(e){}}))}}catch(e){}},this.subscribeType={WIDGET_EXPAND:"expand",WIDGET_COLLAPSE:"collapse",IMMEDIATELY_WRITE:"immediately_write",START_TIMELINE:"start_timeline",PLACE_GREETING_MSG_NOW:"PLACE_GREETING_MSG_NOW",CHANGE_APP:"change_app",MODAL_OPEN:"modal_open",MODAL_CLOSE:"modal_close",MODAL_CLOSE_TRANSITION:"modal_close_transition",REPEAT_QUESTION:"repeat_question"},this.checkWidgetProfile=function(e){return e.state_cookie===this.stateCookie()&&e.widget_id===this.widget_id},this.crosstab_broadcast=function(e,t,i){t=t||{},this.deepExtend&&(t=this.deepExtend({},t,{state_cookie:this.stateCookie(),widget_id:this.widget_id}));try{if(-1!==this.widgetClass.search("leadia_"))throw new Error("skip broadcast event for leadia");crosstab.broadcast(e,t,i)}catch(i){"function"==typeof this.widgetEvents()[e]&&this.widgetEvents()[e]({data:t})}},this.widgetEvents=function(){var e={};return e[this.subscribeType.WIDGET_COLLAPSE]=function(e){if(!this.checkWidgetProfile(e.data))return!1;this.minimize(),this.manualCollapseWidget=!0,this.settings.flipisactive&&"chat"!==this.flipState?(this.tooltipEvent("hide"),this.flip.start()):this.tooltipEvent("show")}.bind(this),e[this.subscribeType.WIDGET_EXPAND]=function(e){if(!this.checkWidgetProfile(e.data))return!1;this.maximize(),this.tooltipEvent("hide")}.bind(this),e[this.subscribeType.MODAL_OPEN]=function(e){if(!this.checkWidgetProfile(e.data))return!1;this.coldpopup_ctrl&&this.coldpopup_ctrl.modalControl(e.data.evt)}.bind(this),e[this.subscribeType.MODAL_CLOSE]=function(e){if(!this.checkWidgetProfile(e.data))return!1;this.coldpopup_ctrl&&this.coldpopup_ctrl.closeModal()}.bind(this),e[this.subscribeType.START_TIMELINE]=function(e){return!!this.checkWidgetProfile(e.data)&&(!this.greeting.alreadyWritten&&(e.data.value&&this.timeline.update({greeting:{delaySeconds:e.data.value}}),this.storage.setJSON("__events",this.timeline.time_line_object),void this.timeline.startTimeLine()))}.bind(this),e[this.subscribeType.PLACE_GREETING_MSG_NOW]=function(e){return!!this.checkWidgetProfile(e.data)&&(!this.greeting.alreadyWritten&&void this._placeGreetingMessageNow())}.bind(this),e[this.subscribeType.MODAL_CLOSE_TRANSITION]=function(e){if(!this.checkWidgetProfile(e.data))return!1;this.coldpopup_ctrl&&this.coldpopup_ctrl.removeTransition()}.bind(this),e[this.subscribeType.CHANGE_APP]=function(e){if(!this.checkWidgetProfile(e.data))return!1;var t=e.data.app;"chat"===t&&this.firstOpen&&!this.widgetFirstOpen&&this.crosstab_broadcast(this.subscribeType.IMMEDIATELY_WRITE,{},null),t&&(this.flip.app=t)}.bind(this),e[this.subscribeType.IMMEDIATELY_WRITE]=function(e){return!!this.checkWidgetProfile(e.data)&&(!this.greeting.alreadyWritten&&(this.timeline.update({greeting:{delaySeconds:0}}),this.storage.setJSON("__events",this.timeline.time_line_object),this.timeline.startTimeLine(),this.firstOpen=!1,this.widgetFirstOpen=!0,void this.saveState()))}.bind(this),e[this.subscribeType.REPEAT_QUESTION]=function(e){if(!this.checkWidgetProfile(e.data))return!1;var t=this.appsFlip().getActiveElByVal("chat");this.textareaEv().elTextarea_opt().clearVal(),this.startChatListener(function(){this.storage.remove("_scenario"),this.chatstorage.remove("_chatclosed"),this.banstorage.remove("_utm");for(var e in this.messagesList)this.messagesList.hasOwnProperty(e)&&(this.messagesList[e].removeAllListeners(),delete this.messagesList[e]);this.element_chat(t).html(""),this.bodyScrollBarHeight(!1,t),this._placeGreetingMessageNow(t),this.textareaEv().elWrap(t).show(),this.textareaEv().interactionHandlers(t),this.trySendMess=!1,this.widgetStep=0,this.textareaEv().elTextarea(t).val("").blur(),this.alreadysentquestion=!1,this.setGreetingAlreadyWrittenTrue(),this.formfieldSocial&&delete this.formfieldSocial,this.setTimeout(function(){this.textareaEv().elTextarea(t).prop("disabled",!1),this.textareaEv().elTextarea(t).val("").blur(),this.scrollToBottom(!0,t)},200)}.bind(this))}.bind(this),e},this.crosstab_subscribe=function(){try{crosstab.on(this.subscribeType.WIDGET_COLLAPSE,function(e){this.widgetEvents()[this.subscribeType.WIDGET_COLLAPSE](e)}.bind(this)),crosstab.on(this.subscribeType.WIDGET_EXPAND,function(e){this.widgetEvents()[this.subscribeType.WIDGET_EXPAND](e)}.bind(this)),crosstab.on(this.subscribeType.MODAL_OPEN,function(e){this.widgetEvents()[this.subscribeType.MODAL_OPEN](e)}.bind(this)),crosstab.on(this.subscribeType.MODAL_CLOSE,function(e){this.widgetEvents()[this.subscribeType.MODAL_CLOSE](e)}.bind(this)),crosstab.on(this.subscribeType.START_TIMELINE,function(e){this.widgetEvents()[this.subscribeType.START_TIMELINE](e)}.bind(this)),crosstab.on(this.subscribeType.PLACE_GREETING_MSG_NOW,function(e){this.widgetEvents()[this.subscribeType.PLACE_GREETING_MSG_NOW](e)}.bind(this)),crosstab.on(this.subscribeType.MODAL_CLOSE_TRANSITION,function(e){this.widgetEvents()[this.subscribeType.MODAL_CLOSE_TRANSITION](e)}.bind(this)),crosstab.on(this.subscribeType.CHANGE_APP,function(e){this.widgetEvents()[this.subscribeType.CHANGE_APP](e)}.bind(this)),crosstab.on(this.subscribeType.IMMEDIATELY_WRITE,function(e){this.widgetEvents()[this.subscribeType.IMMEDIATELY_WRITE](e)}.bind(this)),crosstab.on(this.subscribeType.REPEAT_QUESTION,function(e){this.widgetEvents()[this.subscribeType.REPEAT_QUESTION](e)}.bind(this))}catch(e){console.log(e)}},this.needToBeExpanded=function(){this.sizeState!==this.consts.minimized||this.widgetFirstOpen||(this.maximize(),this.callgoalTrigger("automaticexpand"),this.widgetFirstOpen=!0,this.saveState())},this._placeGreetingMessageNow=function(){this.timeline.update({greeting:{delaySeconds:-1e9},send_goal:!1}),this.storage.setJSON("__events",this.timeline.time_line_object),this.timeline.startTimeLine()},this.timelineStepCompleteCallback=function(e,t,i){var n=Math.floor(new Date(this.timeline.time_line_object["msg_"+e+i]).getTime()/1e3),a=Math.floor((new Date).getTime()/1e3);this.scrollToBottom(!(n===a),t)},this.timelineInit=function(){try{if(!this.messageTypingGreeting){var e={};this.locale&&this.locale.typing_message&&(e.text=this.locale.typing_message),this.messageTypingGreeting=new lc.components.Typing(e)}this.widgetStyle&&this.widgetStyle.delaytype&&this.widgetStyle.delaytype.timeout&&this.greeting&&(this.greeting.delaySeconds=parseInt(this.widgetStyle.delaytype.timeout)),this.timeline=new lc.components.TimeLine({greeting:this.greeting,send_goal:!0}),this.timeline.on("TIME_LINE_STATE_COMPLETE",function(e){if(!this.chatstorage.get("adminInitChat")){this.storage.set("_timelineStarted",!0);var t=this.appsFlip().getActiveElByVal("chat")
;switch(e.action){case"waiting_complete":this.firstOpen=!1,this.consts.startWriteGreetingMsg=1,this.messageTypingGreeting.mount(this.element_chat(t)[0]),function(e,i){e.messageTypingGreeting.once("mount",function(){e.timelineStepCompleteCallback(i,t,"_waiting")})}(this,e.index),this.needToBeExpanded(),this.bodyScrollBarHeight(!1,this.appsFlip().getActiveEl());break;case"writing_complete":this.messageTypingGreeting.unmount();var i={text:this.timeline.messages[e.index],isMe:!0,time:new Date,locale:this.locale||{}};this.robotmsg={},this.robotmsg["rm"+e.index]=new lc.components.Message(i),this.robotmsg["rm"+e.index].on("render",function(){if(this.robotmsg["rm"+e.index].mount(this.element_chat(t)[0]),function(e,i,n){i.once("mount",function(){e.timelineStepCompleteCallback(n,t,"_writing")})}(this,this.robotmsg["rm"+e.index],e.index),this.timeline.props.send_goal&&this.callgoalTrigger("send"+e.index+"greeting_msg"),this.chat&&!this.chat.needToSendRobotMessages)if(this.chatloaded)this.chat.sendRobotMessage(this.timeline.messages[e.index],0===e.index,e.index);else{var i=this.chatstorage.getJSON("_greeting_store")||[];-1===i.indexOf(e.index)&&(i.push(e.index),this.chatstorage.setJSON("_greeting_store",i))}}.bind(this)),this.checkAppsFlip(t)&&this.sizeState===this.consts.minimized&&!this.greeting.alreadyWritten&&this.bell.show(),this.bodyScrollBarHeight(!1,this.appsFlip().getActiveEl())}this.timeline.startTimeLine(e.step)}}.bind(this)),this.timeline.on("TIME_LINE_ALL_STATE_COMPLETE",function(){this.setGrettingTrueAndShowIconMinimize(),this.storage.remove("__events"),this.firstOpen=!1,this.scrollToBottom(!0,this.appsFlip().getActiveEl()),this.bodyScrollBarHeight(!1,this.appsFlip().getActiveEl())}.bind(this))}catch(e){}},this.flipInit=function(){try{this.flip=new lc.components.Flip({storage:{app:"__flip",state:"__flip_state"}});var e=this.storage.getJSON(this.flip.props.storage.state);e?this.flip.props.state=e:(this.flip.setState(),this.storage.setJSON(this.flip.props.storage.state,this.flip.props.state)),this.flip.on("FLIP_TRIGGER_CHANGE_EVENT",function(){this.isMinimized()&&this.flip.props.flipisactive&&this.flip.props.state.status===this.flip.status.START?(this.flip.next(),this.flip.start()):this.flip.stop()}.bind(this)),this.flip.on("FLIP_CHANGE_STATE",function(){if(!this.apps||!this.settings.flipisactive||!this.apps.hasOwnProperty(this.flip.app))return!1;this.storage.set(this.flip.props.storage.app,this.flip.app),this.flip.setState(),this.storage.setJSON(this.flip.props.storage.state,this.flip.props.state),this.flipState=this.flip.app;var e=this.apps[this.flip.app].consultant;this.element_workerName().text(e.name),this.element_jobTitle().text(e.jobTitle),this.element_leadiawidgetphoto_flip()["call"===this.flip.app?"addClass":"removeClass"]("leadia_widget_photo_flipped"),this.element_widgetBody().find('div[id^="_"]').hide();var t=this.element_widgetBody().find("#_"+this.flip.app);t[0].style.display="block",this.bodyScrollBarHeight("call"===this.flip.app,t),this.bell instanceof lc.components.Bell&&("chat"!==this.flip.app?this.bell.unmount():this.bell.mount(this.element_header()[0]));try{var i=this.storage.get("_sbstate");"call"===this.flip.app?this.changeStatusbarText("defaultState",!0):this.changeStatusbarText(i)}catch(e){}}.bind(this))}catch(e){}},this.checkAdminStatusFn=function(){clearTimeout(this.initChatTimeout),this.chat.adminStatus(this.default_widget_id?this.default_widget_id:this.widget_id).then(function(e){try{this.adminstatusgoal(e,"initwidget")}catch(e){}if(!lc.utils.checkIsJson(e))return!1;var t=this.chatstorage.get("_closedConversation"),i=JSON.parse(e);if(i.status||!i.status&&"0"===t){var n=this.chatstorage.get("_chatclosed");if(!this.greeting.alreadyWritten||this.greeting.alreadyWritten&&this.chat.roomIdExist()||null===n){var a={profileId:this.widget_id,projectId:this.default_widget_id?this.default_widget_id:this.widget_id};this.locale&&(a.locale=this.locale),this.chat.emit("widgetPlaced"),(isNaN(parseInt(t))||0!==parseInt(t))&&(i.type&&"new"==i.type?(this.chatstorage.set("adminInitChat",!0),this.chatstorage.set("_closedConversation",0),this.chat.start(this.getStartChatProps(i)),this.setGreetingAlreadyWrittenTrue(),this.storage.remove("_events"),this.timeline.clearTimeouts(),this.messageTypingGreeting.unmount(),clearTimeout(this.timeoutWaiting),clearTimeout(this.consts.firstMsgTimer),clearTimeout(this.consts.placeMesTimeout)):this.chat.socketopen(a),this.chat.on("chatLoaded",function(){this.p(this.chatIframeListener)()}.bind(this)))}}}.bind(this)).catch(function(e){this.callgoalTrigger("initwidgetadminonlinefaulterror"),clearTimeout(this.initChatTimeout),++this.chatAdminErrorConnects<3&&(this.initChatTimeout=this.setTimeout(function(){this.checkAdminStatusFn()},1500))}.bind(this))},this.place=function(){try{if("undefined"!=typeof Storage){var e=[];for(var t in localStorage)localStorage.hasOwnProperty(t)&&-1!==t.indexOf("user_msg_time")&&(new Date).getTime()-new Date(localStorage.getItem(t)).getTime()>=864e5&&e.push(t.split("user_msg_time")[0]);if(e.length)for(var t in localStorage)if(localStorage.hasOwnProperty(t))for(var i=0,n=e.length;i<n;i++)if(-1!==t.indexOf(e[i])){localStorage.removeItem(t);break}}}catch(e){}try{this.errorlog=new lc.components.ErrorLog({counter:lc.loader.analytic().counter.number})}catch(e){}this.initialized||this.init(),this.clearStorageData();try{"function"==typeof this.safemodController&&this.safemodController().init()}catch(e){}try{this.storage=new lc.components.utils.LS(this.stateCookie()),this.banstorage=new lc.components.utils.LS,this.chatstorage=new lc.components.utils.LS,"undefined"!=typeof Storage&&sessionStorage.setItem(this.stateCookie()+"_tab",lc.utils.generateUUID()),this.deepExtend=lc.components.utils.deepExtend}catch(e){console.log(e)}try{var a=lc.utils.getAllUrlParams(location.href)||{},o={};for(var s in a)a.hasOwnProperty(s)&&-1!==s.indexOf("utm_")&&!o[s]&&("string"==typeof a[s]?o[s]=a[s]:o[s]=a[s][0]);Object.keys(o).length&&this.banstorage.setJSON("_utm",o)}catch(e){}this.flipInit(),this.createMainBlock(),this.bell||(this.bell=new lc.components.Bell,this.bell.mount(this.element_header()[0])),this.updateMainBlock(),lc.utils.setupMessagesListener(this.p(this.messageListenerMetrika)),$("body").append(this.main),this.crosstab_subscribe(),this.timelineInit();try{this.element_chatwrapcontent().perfectScrollbar(this.consts.perfectScrollbarOptions)}catch(e){}if(this.previewMode.on)this.processPreviewMode(this.appsFlip().getActiveElByVal("chat")),this.resetView();else{try{if(-1===this.widgetClass.search("leadia_")){this.chat=new lc.components.Chat({city:"Москва",category:["налог","алименты"],webmasterId:leadiaCloud.serverEnv.userid||0,url:window.location.href,prefix:this.chatstorage.prefix,client_ip:this.client.ip,test_chat:lc.loader.settings.test_chat,test_local_chat:lc.loader.settings.test_local_chat,lang:leadiaCloud.serverEnv.params&&leadiaCloud.serverEnv.params.language}),this.chatAdminErrorConnects=0,this.initChatTimeout=0;"object"!=typeof this.chatstorage.get("_closedConversation")&&null!==c||this.checkAdminStatusFn()}}catch(e){console.log(e)}this.main.hide();var r=0===this.chatstorage.get("_closedConversation")?1700:700,l=this.appsFlip().getActiveElByVal("chat");if(this.greeting.alreadyWritten||"true"!==this.chatstorage.get("timeoutStatus")||(this.setGreetingAlreadyWrittenTrue(),this._placeGreetingMessageNow(l)),this.greeting.alreadyWritten){void 0!==this.cold_field_json&&1==parseInt(this.cold_field_json.active)&&lc.lc_controllers.coldUserController.ctrl.setClosedModalCookies();var d=this.storage.get("_scenario");this.chatstorage.get("_chatclosed")&&lc.utils.checkIsJson(d)&&JSON.parse(d).stepHistory||this._placeGreetingMessageNow(l),this.chatConnect({localstorage:!0},this.p(function(){this.isMinimized()&&this.flip.start(),this.setTimeout(function(){this.setTimeout(function(){this.setTimeout(function(){this.setTimeout(function(){this.getFromLocalStorage(),this.bodyScrollBarHeight(!0,this.appsFlip().getActiveEl())},0)},0)},0)},0)}))}else{this.setupInlineStyles(l),this.storage.remove("_scenario");var c=this.storage.getJSON("__events");"object"!=typeof c||null===c?(this.timeline.generate(),this.storage.setJSON("__events",this.timeline.time_line_object)):this.timeline.restore(c),setTimeout(function(){var e=this.storage.get("_timelineStarted");(!this.safeModeEnabled||this.widgetStyle.delaytype.safemode_automatically_start_writting||e)&&this.timeline.startTimeLine()}.bind(this),120),this.storeDefaultLocalStorageData()}this.setTimeout(function(){this.main.show();try{this.main.css("transform","none")}catch(e){}"function"==typeof this.geoTitle&&this.widgetClass.search("leadia_")>-1&&("undefined"==typeof leadia_custom_param||"undefined"!=typeof leadia_custom_param&&!leadia_custom_param.previewMode)&&this.geoTitle(),this.element_widget().css("bottom","-"+Math.abs(2*parseInt(this.element_widget().outerHeight(!0)))+"px");var e=0;this.sizeState==this.consts.minimized&&(e="-"+Math.abs(this.element_widget().height()-this.element_header().outerHeight(!0))+"px"),this.element_widget().animate({bottom:e},200,this.p(function(){this.flipCallInit("call"),this.setInterval(this.updateSendTime,3e4),this.bodyScrollBarHeight(void 0,this.appsFlip().getActiveEl()),this.cold_field_json&&1===parseInt(this.cold_field_json.active)&&(this.coldpopup_ctrl=lc.lc_controllers.coldUserController.ctrl,this.coldpopup_ctrl.init(this.cold_field_json,this.main.find("#leadia_science_widget"))),this.lc_controllers&&this.lc_controllers.hovermenu&&this.settings.flipisactive&&(this.hoverMenuConfig={active:1,items:[{app:"chat",img:this.getConsultantPhotoUrl(this.consultant.photo),title:this.consultant.name,subtitle:this.consultant.jobTitle,goal:"chatclickhovermenu"},{app:"call",img:this.flipconfig_json.photo,title:this.flipconfig_json.texts.title,subtitle:this.flipconfig_json.texts.subtitle,goal:"callclickhovermenu"}]},this.hoverMenuInstance=this.lc_controllers.hovermenu,this.hoverMenuInstance.init(this.hoverMenuConfig)),this.callgoalTrigger("placewidgetshown")}))},r)}return this},this.setScriptNextStep=function(e,t,i){var n=this.appsFlip().getActiveElByVal(this.appsFlip().getDefaultFlipState());this.listStep=[],this.settings&&this.settings.social_auth&&this.listStep.push("socialAuth"),this.listStep.push("checkboxFieldController","formFieldController","thankyoupageController"),e=void 0!==e&&void 0!=e?this.widgetStep=e:this.widgetStep;try{if("socialAuth"===this.listStep[e]){var a=t&&!!t.fromLocalstorage||!1,o=t&&t.writing||0,s=this.storage.getJSON("_scenario");s&&s.socialAuth||(this.storeToLocalStorage({socialAuth:{fromLocalstorage:!0,complete:!1}}),this.callgoalTrigger("showsocialauthblock")),this.placeMessageFromRobot({msgText:"",isMe:!0,writing:o,scrollFast:a,isHtml:!0,showBell:!a&&o,activeEl:n,step:this.listStep[e],socialParams:lc.serverEnv.params.social_params,data:t,messageType:this.listStep[e],complete:t&&!!t.complete||!1},!0)}else this[this.listStep[e]](n).init(t,i)}catch(e){console.error(e)}this.widgetStep++},this.createDetachedMessageBlock=function(e){var t=$("<div/>"),i=$(this.messageHtml);return e.hideTimeLabel&&i.find(".leadia_msg_time").remove(),t.append(i),e.isHtml?i.addClass("leadia-widget-with-html")&&this.element_messageText(t).html(e.msgText):i.addClass("leadia-widget-without-html")&&this.element_messageText(t).text(e.msgText),this.element_messageTimeLabel(t).attr("data-time",e.msgTime?e.msgTime:new Date($.now())),e.isMe?i.addClass("leadia-widget-message-me"):i.addClass("leadia_user_msg"),this.setupInlineStyles(t),i},this.hideTextareaBlock=function(e){this.textareaEv().elWrap(e).hide()},this.processPreviewMode=function(e){this.maximize(),"1"==this.previewMode.step&&(this.element_chat(e).length<1?this._placeGreetingMessageNow(this.appsFlip().getActiveElByVal("chat")):1==this.element_chat(e).length&&this.element_chat(e).find(".leadia-widget-writetext").length>0&&this._placeGreetingMessageNow(this.appsFlip().getActiveElByVal("chat")),setTimeout(function(){this.bodyScrollBarHeight(void 0,e),this.element_chatwrapcontent(e).scrollTop(0).perfectScrollbar("update")}.bind(this),200))},this.metrikobjectcalltrigger=function(e){try{0==this.metrikobject[e]&&(this.metrikobject[e]=1,this.callgoalTrigger(e))}catch(e){}},this.callgoalTrigger=function(e){this.goalTrigger(e,this.element_iframestats())},this.maximize=function(){lc.DefaultWidget.methods.maximize.call(this),this.bell.hide(),this.tooltipEvent("hide");try{this.hoverMenuInstance.fastHideMenu()}catch(e){}},this.prepareData=function(){var e={userid:this.webmaster.userId,subaccount:this.webmaster.subaccount,client_ip:this.client.ip,template:"",product:"lawemail",form_page:location.host,referer:window.location.href,is_mobile:"0",widget_id:this.widget_id},t=lc.utils._getCookie("roistat_visit"),i=this.storage.getJSON("_scenario"),n=this.banstorage.get("_utm");t&&(e.roistat_visit=t),"call"==this.flipState&&(e.is_flip="1"),i&&i.socialAuth&&i.socialAuth.data?e.form_data_json=lc.utils.JSONSstringify(i.socialAuth.data):i&&i.step3&&i.step3.data&&(e.form_data_json=lc.utils.JSONSstringify(i.step3.data)),i&&i.hash_id&&(e.hash_id=i.hash_id),e.question="";try{e.question=i.step1&&i.step1.question}catch(e){}n&&(e.utm=n);var a=this.stateCookie()+"_coldpopup_trigger_data";void 0!=this.getCookie(a)&&this.getCookie(a).length>0&&(e.coldpopup_trigger=this.getCookie(a),this.setCookie(a,"",1));try{this.setgetLeadStatus().setVar()}catch(e){}return e},this.sendLead=function(e){try{var t=this.prepareData(),i=this.appsFlip().getActiveEl(),n=this.storage.getJSON("_scenario");if(void 0!==e)lc.utils.jsonMergeRecursive(t,e);else{t.question=i.find(".leadia_user_msg:first .leadia-widget-message-text").text(),i.find(".leadia_msg_form_row").each(function(){var e=$(this);if(e.is(":visible")){var i=e.find("input[type=text]");t[i.data("form-field")]=i.val()}});try{(n.socialAuth&&n.socialAuth.socialAuthOk||n.step3&&n.step3.socialAuthOk)&&this.callgoalTrigger("sendlead_social"),n.sendData||this.callgoalTrigger("sendlead"),n&&n.hash_id&&(t.hash_id=n.hash_id)}catch(e){}"thankyoupageController"===this.listStep[this.widgetStep]&&(t.lead_type="long")}"call"===this.flip.app&&delete t.hash_id,this.metrikobject.chatwasconnected=0;try{var a=new CustomEvent("widget:sendLead",{detail:t});document.dispatchEvent(a)}catch(e){}this.sendLeadAjax(t)}catch(e){console.log("Exception: "+e)}},this.sendLeadAjax=function(e,t){jQuery.ajax({url:"//"+this.server.host+"/lead",data:e,type:"post",success:function(e){void 0!==t&&t.call(this,e)}})},this.getConsultantPhotoUrl=function(e){return/^j?\d[_pn]+$/.test(e)?"https://133921.selcdn.ru/widget/faces/40/"+e+".png":/^j?\d+$/.test(e)?"https://133921.selcdn.ru/widget/faces/40/"+e+".png":e},this.initializeView=function(e){this.consts.msgtextLength=5,this.textScenarionRobotReplay={t1:{msgText:"Давайте я проконсультирую вас по телефону. Это будет намного быстрее.",writing:7,waiting:5},t2:{msgText:"Сейчас всплывёт форма. Оставьте в ней свои контактные данные.",writing:6,waiting:9}},lc.DefaultWidget.methods.initializeView.call(this,e),this.element_typemessage().text(this.getLocale("typing_message")||"Подождите, вам пишут сообщение..."),this.element_widget().removeClass("hide_widget"),"function"==typeof this.previewModeVenyoo&&this.previewModeVenyoo(e,this.appsFlip().getActiveEl())},this.update_typemessage_text=function(e){this.element_typemessage().text(e)},this.compareBDFieldsWithLocalstorage=function(){try{var e=this.storage.getJSON("_scenario");if("object"==typeof e&&null!==e){var t,i=$.extend(!0,{},this.form_field_json.fields);if(void 0!==e.step2&&e.step2.complete){if(1==i.phone.visible&&1==i.email.visible&&void 0!==e.step2.activefields)return!1;if(void 0!==e.step2.fields){if(1==i.phone.visible&&1==i.email.visible)return!0}else if(void 0!==e.step2.activefields&&(t=e.step2.activefields.fields,i.phone.visible==t.phone.visible&&i.email.visible==t.email.visible))return!0}return!0}return!1}catch(e){}return!0},this.getFromLocalStorage=function(){try{var e=this.storage.get("_user_msg_time"),t=this.storage.getJSON("_scenario");if(null!==e&&e.length>0)if(this.storage.get("_version")===this.widgetVersion&&lc.utils.amountDaysBetweenTwoDates(new Date,new Date(e))<1){if("object"==typeof t&&null!==t){var i=this.appsFlip().getActiveElByVal("chat");if(t.stepHistory){this.textareaEv().disable(i),this.textareaEv().elWrap(i).hide(),this.setHistory(t.stepHistory.reverse(),function(){if(lc.utils.checkIsJson(n)){if(!JSON.parse(n).showThankYouPage)return void 0!==t.step2&&t.step2.complete?(t.step2.fromLocalstorage=!0,t.step2.writing=0,this.setScriptNextStep(null,t.step2),void 0!==t.step3&&t.step3.complete?this.compareBDFieldsWithLocalstorage()?(t.step3.fromLocalstorage=!0,t.step3.writing=0,this.setScriptNextStep(null,t.step3),this.setScriptNextStep(null,{writing:0})):(delete t.step3,this.setScriptNextStep(null,{writing:0})):this.setScriptNextStep(null,{writing:0})):this.setScriptNextStep(null,{writing:0}),this.setTimeout(function(){this.scrollToBottom(!0)}.bind(this),100),!0;this.setThankYouPageBlock(i,!0)}}.bind(this));var n=this.chatstorage.get("_chatclosed")}else if(void 0!==t.step1&&t.step1.complete&&$.trim(t.step1.question).length>0){this.textareaEv().disable(i),this.textareaEv().elWrap(i).hide(),this.sendedmessageText=t.step1.question,this.placeMessage({messageType:"user-message",msgText:t.step1.question,isMe:!1,writing:.9,scrollFast:!0,isHtml:!1,hideTimeLabel:!0,activeEl:i},!0,this.p(function(){}));var a=!0;return this.settings.social_auth&&(t.socialAuth&&t.socialAuth.complete?(t.socialAuth.fromLocalstorage=!0,t.socialAuth.writing=0,this.setScriptNextStep(null,t.socialAuth)):(a=!1,this.setScriptNextStep(null,{writing:0}))),a&&(void 0!==t.step2&&t.step2.complete?(this.setTimeout(function(){this.element_textarea_edit().off()},550),t.step2.fromLocalstorage=!0,t.step2.writing=0,this.setScriptNextStep(null,t.step2),void 0!==t.step3&&t.step3.complete?this.compareBDFieldsWithLocalstorage()?(t.step3.fromLocalstorage=!0,t.step3.writing=0,this.setScriptNextStep(null,t.step3),this.setScriptNextStep(null,{writing:0})):(delete t.step3,this.setScriptNextStep(null,{writing:0})):this.setScriptNextStep(null,{writing:0})):this.setScriptNextStep(null,{writing:.9})),this.setTimeout(function(){this.scrollToBottom(!0)},100),!0}}}else this.storage.clear(),this.chatstorage.clear()}catch(e){}return!1},this.storeDefaultLocalStorageData=function(){null===this.storage.get("_user_msg_time")&&(this.storage.set("_user_msg_time",new Date),this.storage.set("_version",this.widgetVersion))},this.storeToLocalStorage=function(e){var t=this.storage.getJSON("_scenario");this.storage.set("_user_msg_time",new Date),this.storage.set("_version",this.widgetVersion),"object"==typeof t&&null!==t?(lc.utils.jsonMergeRecursive(t,e),this.storage.setJSON("_scenario",t)):this.storage.setJSON("_scenario",e)},this.updateView=function(){this.setTimeout(function(){this.element_widget().is(":hidden")&&this.element_widget().show(),this.previewMode.on?lc.DefaultWidget.methods.updateView.call(this):this.leadFormPopupShown||(this.isMinimized()?(this.element_widget().addClass("lw_minimized"),this.element_widget().addClass("leadia_widget_hover")):(this.element_widget().removeClass("lw_minimized"),this.element_widget().removeClass("leadia_widget_hover")),this.bodyScrollBarHeight("call"===this.flip.app),this.setTimeout(function(){this.scrollToBottom(!0),this.bodyScrollBarHeight("call"===this.flip.app),this.setTimeout(function(){this.scrollToBottom(!0),this.bodyScrollBarHeight("call"===this.flip.app)},200)},200))},200)},this.setupInlineStyles=function(e){if(this.__setupInlineStyles(this.inlineStyles,e),void 0!==this.productInlineStyles[this.webmaster.product]&&this.__setupInlineStyles(this.productInlineStyles[this.webmaster.product],e),void 0!==this.inlinePresetStyles[this.presetStyle]){this.__setupInlineStyles(this.inlinePresetStyles[this.presetStyle],e);try{e.find(this.textareaEv().elBtn()).css({"background-color":this.inlinePresetStyles[this.presetStyle][".leadia_widget"]["background-color"],"border-color":this.inlinePresetStyles[this.presetStyle][".leadia_widget"]["background-color"]}),this.button_bg=this.inlinePresetStyles[this.presetStyle][".leadia_widget"]["background-color"]}catch(e){}}else"#"==this.presetStyle.charAt(0)&&(e.find(this.element_widget()).css("background-color",this.presetStyle),e.find(this.textareaEv().elBtn()).css({"background-color":this.presetStyle,"border-color":this.presetStyle}),this.button_bg=this.presetStyle);if(this.styles3d&&this.styles3d.border_radius_active&&(this.styles3d.border_radius_active=0),this.previewMode.on?this.element_widget()[0].style.setProperty("bottom","20px","important"):(this.element_widget()[0].style.removeProperty("left"),this.element_widget()[0].style.removeProperty("right"),this.element_widget()[0].style.setProperty("left"==this.widgetStyle.position?"left":"right",this.widgetStyle.horizontalMargin<20?"20px":this.widgetStyle.horizontalMargin+"px","important"),this.element_widget()[0].style.setProperty("bottom",void 0!==this.widgetStyle.bottom&&null!==this.widgetStyle.bottom?this.widgetStyle.bottom+"px":"20px","important")),0===this.widgetStyle.bottom?this.element_widget()[0].style.setProperty("border-radius","10px 10px 0 0","important"):this.element_widget()[0].style.setProperty("border-radius","10px","important"),this.element_widget()[0].style.setProperty("box-shadow","3px 10px 10px 0px rgba(0,0,0,.20)","important"),void 0!==this.styles3d){var t,i;this.main.find("#widget_style3d").remove(),this.main.prepend($("<style>",{id:"widget_style3d",type:"text/css"})),t=this.main.find("#widget_style3d"),i=e.find(this.element_widget());try{var n="object"==typeof this.styles3d?this.styles3d:"string"==typeof this.styles3d?JSON.parse(this.styles3d):{},a=n.gradient_active,o=n.border_radius_active,s=n.box_shadow_active;if(i.removeClass("widget_style3d_gradient widget_style3d_border_radius widget_style3d_box_shadow"),"boolean"==typeof a&&a||parseInt(a)){var r=lc.utils.makeGradientStyle(n.gradient);t.text(t.text()+"#leadia_science_widget .widget_style3d_gradient {"+r+"}"),i.addClass("widget_style3d_gradient");try{var l=r.match(/(#.{6})/);void 0!=l&&l.length>0&&(e.find(this.textareaEv().elBtn()).css({"background-color":l[0],"border-color":l[0]}),this.button_bg=l[0])}catch(e){console.log(e)}}if("boolean"==typeof o&&o||parseInt(o)){var d=lc.utils.makeBorderRadiusStyle(n.border_radius);t.text(t.text()+"#leadia_science_widget .widget_style3d_border_radius {"+d+"}"),i.addClass("widget_style3d_border_radius");var c=this.main.find(".leadia-widget-style");c.text(c.text()+"#leadia_science_widget .leadia_widget_hover:before{"+d+"}")}if("boolean"==typeof s&&s||parseInt(s)){var p=lc.utils.makeBoxShadowStyle(n.box_shadow);t.text(t.text()+"#leadia_science_widget .widget_style3d_box_shadow {"+p+"}"),i.addClass("widget_style3d_box_shadow")}}catch(e){}}},this.watchVariableAlreadyWritten=function(e){this.greeting.alreadyWritten?(this.textareaEv().elTextarea_opt(e).disable(!0),this.questionSendEvent(e)):this.setTimeout(this.p(function(){this.watchVariableAlreadyWritten(e)}),100)},this.tooltipEvent=function(e){switch(void 0===e&&(e="hide"),e){case"show":this.tooltipstatus="show",this.tooltipTimeout=this.setTimeout(function(){this.element_tooltipNotify().stop(!0,!0).fadeIn(300,this.p(function(){this.tooltipTimeoutHide=this.setTimeout(function(){this.tooltipEvent("hide")},7e3)}))},1e3);break;case"hide":this.tooltipstatus="hide",clearTimeout(this.tooltipTimeoutHide),clearTimeout(this.tooltipTimeout),this.element_tooltipNotify().is(":visible")&&this.element_tooltipNotify().stop(!0,!0).fadeOut(300,this.p(function(){this.flip.start()}))}},this.flipCallInit=function(e){var t=this.appsFlip().getActiveElByVal(e);this.hideTextareaBlock(t),this.callFormFieldController(t).init({writing:0}),this.bodyScrollBarHeight(!0,t)},this.appsFlip=function(){var e=this,t=this,i=!!this.settings.flipisactive;return{p:function(e){return $.proxy(e,this)},isActive:function(){return i},isMinimized:function(){return e.sizeState===e.consts.minimized},getStateFromlS:function(){return t.storage.get("__flipState")},getState:function(){return t.storage.get("__flipState")||this.getDefaultFlipState()},setState:function(e){return t.storage.set("__flipState",e)},getListScenario:function(){return e.apps||void 0},getDefaultFlipState:function(){return void 0!=this.getListScenario()?Object.keys(this.getListScenario())[0]:e.webmaster.product},displayBlock:function(){return e.element_widgetBody().find('div[id^="_"]:visible')},getActiveEl:function(){return e.main.find("#_"+this.getState())},getActiveElByVal:function(t){return e.main.find("#_"+t)},getConsultantData:function(t){return e.apps[t].consultant},flipEvent:function(){if(e.apps&&e.settings.flipisactive){var t=this.getState(),i=e.element_workerName(),n=e.element_jobTitle(),a=e.element_leadiawidgetphoto_flip();if(t in e.apps){e.flipState=t;var o=this.getConsultantData(t);i.text(o.name),n.text(o.jobTitle),a["call"==t?"addClass":"removeClass"]("leadia_widget_photo_flipped"),e.element_widgetBody().find('div[id^="_"]').hide(),void 0!==e.user_filter&&e.user_filter&&("call"==t?setTimeout(function(){e.main.find(".leadia_widget_filtration").hide()},200):e.main.find(".leadia_widget_filtration").show()),e.element_widgetBody().find("#_"+t).show(),e.scrollToBottom(!0,this.displayBlock()),e.bodyScrollBarHeight(!0,this.getActiveElByVal(t)),e.bell instanceof lc.components.Bell&&("chat"!==t?e.bell.unmount():e.bell.mount(e.element_header()[0]))}}},indexAppsByKey:function(e,t){var i=0;if(Object.keys(e).length>0)for(var n in e)if(e.hasOwnProperty(n)){if(n==t)break;i++}return i},flipNextApps:function(){var e=this.getState(),t=this.getListScenario(),i=this.indexAppsByKey(t,e);return void 0!=Object.keys(t)[i+1]?Object.keys(t)[i+1]:Object.keys(t)[0]},flipCondition:function(){return(parseInt(t.storage.get("_flipStateTimer"))||0)>=e.flipconfig_json.flip_timeout},flipTimerIncrease:function(){return t.storage.set("_flipStateTimer",(parseInt(t.storage.get("_flipStateTimer"))||0)+1)},flipStart:function(){this.flipPause(),e.consts.flip.timer=setTimeout(this.p(function(){this.isMinimized()&&i?(this.flipCondition()&&(this.flipStop(),t.storage.set("__flipState",this.flipNextApps()),this.flipEvent()),this.flipTimerIncrease(),this.flipStart()):this.flipStop()}),e.consts.flip.delay)},flipPause:function(){return void 0!=e.consts.flip.timer&&clearTimeout(e.consts.flip.timer)},flipStop:function(){this.flipPause(),t.storage.set("_flipStateTimer",0)}}},this.timeoutAfterSendMessage=function(){return 3e3},this.setHistory=function(e,t){if("object"==typeof e&&null!==e){e.reverse();var i=this.appsFlip().getActiveElByVal("chat");i.find(".leadia_widget_msg").remove(),this.storeToLocalStorage({stepHistory:e}),this.historyNextMsg(e,0,i,!0,t),this.textareaEv().hide(i)}},this.read_greeting_msg_stack=function(){try{var e=this.chatstorage.getJSON("_greeting_store");if(e&&null!==e&&e.length>0){var t=e[0];this.chat.sendRobotMessage(this.timeline.messages[t],0===t,t),e.shift(),this.chatstorage.setJSON("_greeting_store",e),setTimeout(function(){this.read_greeting_msg_stack()}.bind(this),1e3)}}catch(e){}},this.chatIframeListener=function(){var e=this;e.chat.removeAllListeners("closeChat"),e.chat.removeAllListeners("chatConnected"),e.chat.removeAllListeners("newmessage"),e.chat.removeAllListeners("adminInitChat"),e.chat.removeAllListeners("listenSystemMessage"),e.chat.removeAllListeners("tryInitializeRoom"),e.chat.removeAllListeners("maximizeWidget"),this.chat.on("listenSystemMessage",function(){clearTimeout(this.chat.outfromsite),this.chatstorage.remove("last_user_activity");var e=(document.title,document.location.href,document.location.href,"Открыл страницу: <a href=' "+document.location.href+"' target='_blank'>"+document.location.href+"</a>");if(document.title?this.chat.sendPostMessage(JSON.stringify({type:"sendSystemMessage",message:e+"</br>Заголовок текущей страницы: <b>"+document.title+"</b>",messageType:"open_page_with_title",systemMessageFields:{title:document.title,link:document.location.href}})):this.chat.sendPostMessage(JSON.stringify({type:"sendSystemMessage",message:e,messageType:"open_page_without_title",systemMessageFields:{link:document.location.href}})),this.element_header()[0].addEventListener("click",function(){var e=this.isMinimized()?"Пользователь свернул виджет":"Пользователь развернул виджет";this.chat.sendPostMessage(JSON.stringify({type:"sendSystemMessage",message:e,messageType:this.isMinimized()?"minimize_widget":"maximize_widget"}))}.bind(this),!1),this.chatloaded=!0,this.chat.needToSendRobotMessages&&lc.utils.checkIsJson(lc.widget.greeting.text)){var t=JSON.parse(lc.widget.greeting.text);for(var i in t)t.hasOwnProperty(i)&&function(e,t){var i=Object.keys(e).indexOf(t);this.setTimeout(function(){var n=e[t].msgText;n&&this.chat.sendRobotMessage(n,0===i,i)}.bind(this),300*(1+i))}.bind(this)(t,i);this.chatstorage.remove("_greeting_store")}this.read_greeting_msg_stack()}.bind(this)),this.chat.on("adminInitChat",function(){this.setGreetingAlreadyWrittenTrue(),e.storage.remove("_events"),e.messageTypingGreeting.unmount(),e.timeline.clearTimeouts(),clearTimeout(e.timeoutWaiting),clearTimeout(e.consts.firstMsgTimer),clearTimeout(e.consts.placeMesTimeout),this.chatstorage.set("_closedConversation",0),this.chat.start({adminInitChat:!0}),this.maximize();try{"chat"!==e.flip.app&&(e.flip.app="chat"),e.settings.flipisactive=0,e.hoverMenuInstance.removeEvents()}catch(e){}void 0!==this.cold_field_json&&1==parseInt(this.cold_field_json.active)&&lc.lc_controllers.coldUserController.ctrl.closeModal()}.bind(this)),this.chat.on("tryInitializeRoom",function(t){if(t.msg){var i=this.appsFlip().getActiveElByVal("chat");e.timeline.clearTimeouts(),e.messageTypingGreeting.unmount(),clearTimeout(e.timeoutWaiting),clearTimeout(e.consts.firstMsgTimer),clearTimeout(e.consts.placeMesTimeout),this.element_chat(i).html(""),this._placeGreetingMessageNow(i),this.setGreetingAlreadyWrittenTrue(),this.maximize(),void 0!==this.cold_field_json&&1==parseInt(this.cold_field_json.active)&&lc.lc_controllers.coldUserController.ctrl.closeModal(),this.setTimeout(function(){this.setTimeout(function(){this.setTimeout(function(){this.setTimeout(function(){this.chatConnect({},this.p(function(){this.questionSendEventNextStep(i)}))},0)},0)},0)},0)}}.bind(this)),this.chat.on("maximizeWidget",function(){this.maximize()}.bind(this)),e.chat.on("closeChat",function(t){try{e.settings.flipisactive=1,e.hoverMenuInstance?e.hoverMenuInstance.addEvents():e.lc_controllers&&e.lc_controllers.hovermenu&&e.settings.flipisactive&&(e.hoverMenuConfig={active:1,items:[{app:"chat",img:e.getConsultantPhotoUrl(e.consultant.photo),title:e.consultant.name,subtitle:e.consultant.jobTitle,goal:"chatclickhovermenu"},{app:"call",img:e.flipconfig_json.photo,title:e.flipconfig_json.texts.title,subtitle:e.flipconfig_json.texts.subtitle,goal:"callclickhovermenu"}]},e.hoverMenuInstance=e.lc_controllers.hovermenu,e.hoverMenuInstance.init(e.hoverMenuConfig))}catch(e){}e.spinner&&e.spinner.unmount(),t=t||{},e.chatstorage.set("_closedConversation",1),e.chatstorage.set("_chatclosed",JSON.stringify(t.props));var i=e.appsFlip().getActiveElByVal("chat"),n=t.props||{};"object"==typeof n&&null!==n&&t.roomId?e.chat.getHistory(t.roomId).then(function(t){if(t&&lc.utils.checkIsJson(t)){var a=JSON.parse(t);e.setHistory(a.messages,function(){if(n.showThankYouPage){var t=n.fastScroll?{writing:0}:null;e.thankyoupageController(i).init(t)}else n.ban24?(e.banstorage.setJSON("_chat_ban24",{time:new Date,status:1}),e.questionSendEventNextStep(i,!0)):e.questionSendEventNextStep(i,!0);e.chat.stop()}.bind(e)),e.textareaEv().elTextarea_opt(i).disable(!0),e.textareaEv().disable(i),e.textareaEv().hide(),e.bodyScrollBarHeight()}}).catch(function(){e.thankyoupageController(i).init(),e.chat.stop()}):(e.questionSendEventNextStep(i),e.chat.stop())}),e.chat.on("chatConnected",function(){e.metrikobjectcalltrigger("chatwasconnected"),e.storage.remove("_events"),
e.timeline.clearTimeouts(),e.messageTypingGreeting.unmount(),clearTimeout(e.consts.firstMsgTimer),clearTimeout(e.consts.placeMesTimeout),clearTimeout(e.timeoutWaiting)}),e.chat.on("newmessage",function(){e.sizeState===e.consts.minimized&&e.element_header().click()})},this.setThankYouPageBlock=function(e,t){var i={};t&&(i.writing=0),this.thankyoupageController(e).init(i)},this.historyNextMsg=function(e,t,i,n,a){var o=e[t];if(t++,void 0!==o)if(null===o)this.historyNextMsg(e,t,i,n,a);else{var s="guest"!==o.user_role;"robot"==o.type&&(s=!0),this.placeMessage({messageType:"message",msgText:o.message,isMe:s,writing:0,isHtml:!1,scrollFast:!0,activeEl:i,msgTime:o.date,link_is_active:"guest"!==o.user_role},!0,this.p(function(){this.historyNextMsg(e,t,i,n,a)}))}else"function"==typeof a&&a()},this.getStartChatProps=function(e){var t=this,i=this.chatstorage.get("adminInitChat",!0),n={iframeInitMessage:t.sendedmessageText,profileId:t.widget_id,projectId:t.default_widget_id?t.default_widget_id:t.widget_id,coldpopup_trigger:0,client_ip:t.client.ip,robotMessages:[],button_bg:t.button_bg,adminInitChat:i,adminEntryRoom:e.adminEntryRoom};(e.adminEntryRoom||i)&&t.storage.set("timeoutStatus",!0),t.chatstorage.set("_closedConversation",0);try{"object"==typeof this.locale&&null!==this.locale&&(n.locale={time_since:this.locale.time_since,placeholders:{textarea:this.locale.placeholders.textarea},typing_message:this.locale.typing_message,chat:this.locale.chat})}catch(e){}var a=this.getCookie(this.stateCookie()+"_coldpopup_trigger_data");if(a&&a.length>0&&(n.coldpopup_trigger=a),this.greeting&&this.greeting.text&&lc.utils.checkIsJson(this.greeting.text)){var o=JSON.parse(this.greeting.text);for(var s in o)o.hasOwnProperty(s)&&function(e,t){var i=new Date;i.setSeconds(i.getSeconds()+Object.keys(e).indexOf(t)),n.robotMessages.push({message:e[t].msgText,date:i})}(o,s)}return n},this.adminstatusgoal=function(e,t){if(lc.utils.checkIsJson(e)){return JSON.parse(e).status?this.callgoalTrigger(t+"adminonlinetrue"):this.callgoalTrigger(t+"adminonlinefalse")}return this.callgoalTrigger(t+"adminonlinenotjson")},this.initChatFn=function(e){clearTimeout(this.initChatTimeout);var t=this;this.chat.adminStatus(this.default_widget_id?this.default_widget_id:this.widget_id).then(function(i){try{t.adminstatusgoal(i,"initchat")}catch(e){}var n=this.chatstorage.get("adminInitChat"),a=!1;if(lc.utils.checkIsJson(i)){var o=JSON.parse(i),s=t.chatstorage.get("_closedConversation"),r=!!o.isClosedRoom;if(o.adminEntryRoom&&(n=!0),t.chat.on("chatLoaded",function(){t.p(t.chatIframeListener)()}),r){this.chatstorage.set("_closedConversation","1");var l=this.chat.getRoom();return this.chat.emit("chatInitialized"),clearTimeout(this.chat.timer),this.chat.timer=null,this.chat.emit("closeChat",{roomId:l.id,props:{type:"closeRoom",showThankYouPage:!0,ban24:!1,fastScroll:!0}}),this.setTimeout(function(){this.chat.removeRoom()},900),!1}if(o.status&&!o.isClosedRoom||!o.status&&"0"===s){a=!0,n||this.setTimeout(function(){this.spinner||(this.spinner=new lc.components.Spinner({locale:this.locale||{}})),this.spinner.mount(document.querySelector("#_chat .leadia_widget_list")),this.spinner.on("mount",function(e){t.scrollToBottom(!0)})},350);var d=this.appsFlip().getActiveEl(),c=this.storage.getJSON("_scenario"),p=c&&c.step1&&c.step1.question||"";p&&(this.textareaEv().elTextarea_opt(d).disable(!0),this.textareaEv().disable(d),this.textareaEv().elBtn(d).addClass("leadia_widget_send_loading"),this.textareaEv().elTextarea(d).attr("value",p).text(p));var h={iframeInitMessage:t.sendedmessageText,profileId:t.widget_id,projectId:t.default_widget_id?t.default_widget_id:t.widget_id,coldpopup_trigger:0,client_ip:t.client.ip,robotMessages:[],timeout_enabled:o.timeout_enabled,waiting_timeout:o.waiting_timeout,button_bg:t.button_bg,adminInitChat:n,adminEntryRoom:o.adminEntryRoom};(o.adminEntryRoom||n)&&t.storage.set("timeoutStatus",!0),t.chatstorage.set("_closedConversation",0);try{"object"==typeof this.locale&&null!==this.locale&&(h.locale={time_since:this.locale.time_since,placeholders:{textarea:this.locale.placeholders.textarea},typing_message:this.locale.typing_message,chat:this.locale.chat})}catch(e){}var u=this.getCookie(this.stateCookie()+"_coldpopup_trigger_data");if(u&&u.length>0&&(h.coldpopup_trigger=u),this.greeting&&this.greeting.text&&lc.utils.checkIsJson(this.greeting.text)){var m=JSON.parse(this.greeting.text);for(var g in m)m.hasOwnProperty(g)&&function(e,t){var i=new Date;i.setSeconds(i.getSeconds()+Object.keys(e).indexOf(t)),h.robotMessages.push({message:e[t].msgText,date:i})}(m,g)}t.callgoalTrigger("chatconnecting");try{t.settings.flipisactive=0,t.hoverMenuInstance.removeEvents()}catch(e){}return t.chat.start(h)}o.isClosedRoom&&t.storage.remove("timeoutStatus")}if(!a)return"function"==typeof e?e.call(t):""}.bind(this)).catch(function(i){if(t.callgoalTrigger("initchatadminonlinefaulterror"),++this.chatAdminErrorConnects>=2)return"function"==typeof e?e.call(t):"";this.initChatTimeout=this.setTimeout(function(){this.initChatFn(e)},1500)}.bind(this))},this.chatConnect=function(e,t){var i=this;try{if(0===i.widgetClass.search("leadia_"))return"function"==typeof t?t.call(i):"";var n=(this.storage.getJSON("_scenario"),this.chatstorage.get("adminInitChat")),a=!1;try{var o=Object.keys(localStorage).filter(function(e){return-1!==e.indexOf("scenario")});if(o.length)for(var s=0,r=o.length;s<r;s++){var l=JSON.parse(localStorage.getItem(o[s]));if(l.step1&&l.step1.question&&l.step1.question.length){a=!0;break}}}catch(e){}if(!a&&!n)throw new Error("return callback");var d=i.banstorage.getJSON("_chat_ban24");if("object"==typeof d&&null!==d){if(!(lc.utils.amountDaysBetweenTwoDates(new Date,new Date(d.time))>=1))return"function"==typeof t?t.call(i):"";i.banstorage.remove("_chat_ban24")}if(!i.chat||i.chat&&"function"!=typeof i.chat.start)return"function"==typeof t?t.call(i):"";if(e&&e.localstorage&&!i.chat.roomIdExist())return"function"==typeof t?t.call(i):"";this.chatAdminErrorConnects=0,this.initChatTimeout=0,this.initChatFn(t)}catch(e){return"function"==typeof t?t.call(i):""}},this.questionSendEvent=function(e){if(!this.alreadysentquestion){if(this.textareaEv().elTextarea_opt(e).getLength()<this.entertextlimit)return this.textareaEv().elTextarea(e).parent().stop(!0,!0).shake(2,8,300),this.changeStatusbarText("wordlimit"),!1;if(this.trySendMess||(this.sendedmessageText=this.textareaEv().elTextarea(e).val(),this.trySendMess=!0),this.textareaEv().elTextarea_opt(e).disable(!0),this.textareaEv().disable(e),this.textareaEv().elBtn(e).addClass("leadia_widget_send_loading"),!this.greeting.alreadyWritten)return this.watchVariableAlreadyWritten(e),!1;this.alreadysentquestion=!0,this.changeStatusbarText("defaultState");var t={};t.step1={},t.step1.question=this.sendedmessageText,t.step1.complete=!0,this.storeToLocalStorage(t),this.callgoalTrigger("sendmessage"),this.chatConnect({},this.p(function(){this.questionSendEventNextStep(e)}))}return!1},this.questionSendEventNextStep=function(e,t){var i=this.storage.getJSON("_scenario");"object"==typeof i&&null!==i&&i.step1&&i.step1.question&&(this.sendedmessageText=i.step1.question);var n=function(){this.alreadysentquestion=!1,this.textareaEv().elTextarea_opt(e).clearVal(),this.textareaEv().elTextarea(e).blur(),this.textareaEv().disable(e),t&&this.textareaEv().hide(e),this.consts.placeMesTimeout=this.setTimeout(function(){try{"object"==typeof this.moduleGetPhone&&null!==this.moduleGetPhone&&this.moduleGetPhone.getPhone({userHash:this.webmaster.userHash})}catch(e){}this.questionSendLead(),this.setScriptNextStep()},this.timeoutAfterSendMessage())}.bind(this);t?this.p(n)():(this.textareaEv().elTextarea_opt(e).elTextarea_setheight(e,37),this.textareaEv().elWrap(e).fadeOut(400,this.p(function(){this.bodyScrollBarHeight(!0),this.placeMessage({messageType:"user-message",msgText:this.sendedmessageText,isMe:!1,writing:0,scrollFast:!0,isHtml:!1,fadeEvent:!0,hideTimeLabel:!0,activeEl:e},!0,this.p(n))})))},this.questionSendLead=function(){try{var e=this.storage.getJSON("_scenario"),t=this.prepareData();t.lead_type="short",e.hash_id&&(t.hash_id=e.hash_id),this.sendLeadAjax(t,function(t){lc.utils.checkIsJson(t)&&(t=JSON.parse(t)),(!e||e&&!e.hash_id)&&this.storeToLocalStorage({hash_id:t&&t.hash_id})}.bind(this))}catch(e){}},this.element_textarea_wheelevent=function(e){var t=$(this).scrollTop();$(this).scrollTop(t-(e.deltaY<0?-30:30)),e.preventDefault?e.preventDefault():e.returnValue=!1},this.bodyScrollBarHeight=function(e,t){var i=this.element_widgetBody().height();if(i=0==i&&this.sizeState!==this.consts.minimized?"327":i,void 0!==e&&e)return void this.element_chatwrapcontent(t).css("height",i+"px");if(this.textareaEv().elTextarea(t).is(":visible")){var n=this.textareaEv().elWrap(t).outerHeight(!0);this.element_chatwrapcontent(t).css("height",i-n+"px"),this.scrollToBottom(!0,t)}else this.element_chatwrapcontent(t).css("height",i+"px")},this.isMinimized=function(){return this.sizeState==this.consts.minimized},this.reapplyInteractionHandlers=function(){this.element_header().off("click"),this.element_tooltipNotify().off("click"),this.applyInteractionHandlers()},this.yaMetrikaInit=function(){try{if(this.consts.yaiframe.yametricactive=1,this.consts.yaiframe.listgoals.length>0)for(var e=0,t=this.consts.yaiframe.listgoals.length;e<t;e++)!function(e,t){e.callgoalTrigger(t)}(this,this.consts.yaiframe.listgoals[e])}catch(e){}},this.applyInteractionHandlers=function(){if(!this.previewMode.on){var e=this.appsFlip().getActiveElByVal("chat");!function(e){e.element_widget().hover(function(){e.metrikobjectcalltrigger("widgethover")},function(){})}(this),this.element_header().click(this.p(function(){this.firstOpen&&this.timeline&&void 0===this.widgetFirstOpen&&this.crosstab_broadcast(lc.widget.subscribeType.IMMEDIATELY_WRITE,{},null),this.toggleSizeState(),this.flip.stop(),this.isMinimized()?this.crosstab_broadcast(this.subscribeType.WIDGET_COLLAPSE,{},null):this.crosstab_broadcast(this.subscribeType.WIDGET_EXPAND,{},null),void 0!==this.listStep&&this.widgetStep&&"formFieldController"===this.listStep[this.widgetStep-1]&&(this.manualCloseWidget=!0),this.callgoalTrigger(this.isMinimized()?"collapse":"expand")})),this.element_tooltipNotify().on("click",this.p(function(){this.element_header().click()})),this.textareaEv().interactionHandlers(e)}},this.changeStatusbarTextEvent=function(e,t){var i=this.element_developeBy(),n=i.find(".leadia_develop_text"),a=this.statetextList();if(n.finish(),i.off(),"call"===this.flip.app&&(t=void 0,e=a.defaultState,this.settings.copyright_status&&this.element_developeBy_ctrl().applyEvent()),void 0!==t)switch(i.css("overflow","hidden"),t){case"bounceInDown":n.stop(!0,!0).fadeOut(300,function(){n.addClass("lwv_animated lwv_bounceInDown"),n.html(e),n.fadeIn(0),n.one("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){n.removeClass("lwv_animated lwv_bounceInDown"),i.css("overflow","auto")})});break;case"bounceInLeft":n.stop(!0,!0).fadeOut(300,function(){n.addClass("lwv_animated lwv_bounceInLeft"),n.html(e),n.fadeIn(0),n.one("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){n.removeClass("lwv_animated lwv_bounceInLeft"),i.css("overflow","auto")})});break;case"slideInDown":n.stop(!0,!0).fadeOut(300,function(){n.addClass("lwv_animated lwv_slideInDown"),n.html(e),n.fadeIn(0),n.one("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){n.removeClass("lwv_animated lwv_slideInDown"),i.css("overflow","auto")})})}else n.stop(!0,!0).fadeOut(300,this.p(function(){n.html(e).stop(!0,!0).fadeIn(300)}));e!=a.defaultState&&null!=e||this.settings.copyright_status&&this.element_developeBy_ctrl().applyEvent(),e!==a.social_agreement&&e!==a.text_agreement||this.element_developeBy().find(".leadia_develop_container").on("click",function(e){try{this.callgoalTrigger("social_click_terms_of_use")}catch(e){}e.preventDefault(),window.win&&(window.win.close(),window.win=null);var t=window.open("","win","width=800,height=600,scrollbars=yes");t.document.open("text/html","replace"),t.onload=function(){this.callgoalTrigger("social_terms_of_use_opened")}.bind(this);var i=this.termsofuse.replace(/MY_SITE/g,lc.utils.punnyCode(window.location.host)||"");t.document.write(i),t.document.close(),window.focus&&t.focus()}.bind(this))},this.statetextList=function(){return{pressenter:this.getLocale("status_bar_notify.press_enter")||"Нажмите Enter, чтобы отправить сообщение",wordlimit:this.getLocale("status_bar_notify.min_length")?this.getLocale("status_bar_notify.min_length").customFormat(this.entertextlimit):"Длина сообщения должна быть не меньше "+this.entertextlimit+" символов",waitwilewriting:"Подождите пока вам напишут сообщение",defaultState:this.settings.copyright_status?this.getLocale("copyright_text")||"Отдел по работе с клиентами Venyoo":"",social_agreement:'Авторизация даёт согласие на <span style="text-decoration: underline; display: inline-block; color: white;">обработку персональных данных</span>',text_agreement:'Используя чат, вы соглашаетесь на <span style="text-decoration: underline; display: inline-block; color: white;">обработку данных</span>'}},this.changeStatusbarText=function(e,t,i){if(void 0!==t&&t||this.storage.set("_sbstate",e),"social_agreement"!==e&&"text_agreement"!==e||"0"!==lc.loader.settings.rulesTermsOfUse){var n=this.statetextList();this.element_developeBy().find(".leadia_develop_text").html()!=n[e]&&(this.element_developeBy().find(".leadia_develop_container").off(),this.changeStatusbarTextEvent(n[e],i))}},this.messageListener=function(e){var t=this.appsFlip().getActiveEl();if(lc.utils.checkIsJson(e.data)){var i=JSON.parse(e.data);switch(i.name){case"region_return":t.find("input[data-form-field=region]").val(i.value),t.find("#city_selector").height(30);break;case"autocompleteheight":t.find("#city_selector").height(i.value)}}},this.messageListenerMetrika=function(e){if(lc.utils.checkIsJson(e.data)){switch(JSON.parse(e.data).name){case"yainit":this.yaMetrikaInit()}}},this.widgetHeader=function(e){var t=this;return e=void 0!==e?e:null,{get subtitle(){return t.apps&&t.apps[e]?t.apps[e].consultant.jobTitle:t.consultant.jobTitle},set subtitle(i){t.apps&&t.apps[e]?t.apps[e].consultant.jobTitle=i:t.consultant.jobTitle=i}}},this.placeMessageFromRobot=function(e,t,i){if(!this.messageTyping){var n={};this.locale&&this.locale.typing_message&&(n.text=this.locale.typing_message),this.messageTyping=new lc.components.Typing(n)}e.isMe=void 0===e.isMe||e.isMe;var a=void 0!=e.activeEl?e.activeEl:void 0;this.messageTyping.mount(this.element_chat(a)[0]),this.scrollToBottom(Boolean(e.scrollFast),a,e.scrollTop),this.consts.placeMesTimeout=this.setTimeout(function(){this.messageTyping.unmount(),this.placeMessage(e,t,i)},1e3*e.writing)},this.socialPushing=function(){this.messagesListSocial&&"socialAuth"!==this.listStep[this.widgetStep]&&(this.socialTimeout=window.setTimeout(function(){this.callgoalTrigger("social_auth_automate_skip"),this.messagesListSocial.emit("submit")}.bind(this),15e3))},this.placeMessage=function(e,t,i){this.msgCounter=this.msgCounter||0;var n="msg_"+this.msgCounter,a=void 0!=e.activeEl?e.activeEl:void 0;if(this.msgCounter++,"message"!==e.messageType&&e.messageType){if("socialAuth"===e.messageType){this.socialAuthStepName=n,e=e||{};var o={fields:["all"],social_params:lc.serverEnv.params.social_params,locale:this.locale,buttons:[{service:"vk",img:"https://133921.selcdn.ru/widget/img/social/svg/vk.svg",className:"lwi_vk"},{service:"ok",img:"https://133921.selcdn.ru/widget/img/social/svg/odk.svg",className:"lwi_odk"},{service:"fb",img:"https://133921.selcdn.ru/widget/img/social/svg/fb.svg",className:"lwi_fb"},{service:"mailru",img:"https://133921.selcdn.ru/widget/img/social/svg/mailru.svg",className:"lwi_mailru"}]};if(e.data){var s=e.data;s.active_step&&(o.active_step=s.active_step),s.data&&(o.data=s.data)}this.messagesList[n]=new lc.components.SocialAuth(o),this.messagesList[n].on("render",function(){this.messagesListSocial=this.messagesList[n],e&&e.data&&(e.data.skip||e.data.data)?this.messagesList[n].disable():(this.socialPushing(),setTimeout(function(){this.changeStatusbarText("social_agreement",void 0,"slideInDown")}.call(this),3e3))}.bind(this)),this.messagesList[n].on("social_block_closed",function(){this.socialAuthOk||this.socialPushing()}.bind(this)),this.messagesList[n].on("social_button_click",function(e){switch(clearTimeout(this.socialTimeout),e){case"vk":this.callgoalTrigger("social_auth_vk");break;case"ok":this.callgoalTrigger("social_auth_odk");break;case"fb":this.callgoalTrigger("social_auth_fb");break;case"mailru":this.callgoalTrigger("social_auth_mailru")}}.bind(this)),this.messagesList[n].on("auth_info_received",function(e){this.socialAuthOk=!0,clearTimeout(this.socialTimeout),this.callgoalTrigger("social_auth_success"),this.messagesList[n].button_disabled=!0;var t=(e.last_name||"")+" "+(e.first_name||""),i=this.prepareData();i.first_last_name=t,i.region=e.city||"",i.email=e.email||"",i.phone=e.phone||"",i.lead_type="short";var a=lc.components.utils.deepExtend({first_last_name:t,region:e.city||"",title:this.getLocale("social.greeting").customFormat(t)},e);i.form_data_json=lc.utils.JSONSstringify(e),this.form_field_json&&this.form_field_json.fields&&this.form_field_json.fields.phone&&this.form_field_json.fields.phone.visible&&this.form_field_json.fields.email&&!this.form_field_json.fields.email.visible&&delete i.email,this.sendLeadAjax(i,function(e){this.callgoalTrigger("sendlead"),lc.utils.checkIsJson(e)&&(e=JSON.parse(e));var t=this.storage.getJSON("_scenario"),i={socialAuth:{socialAuthOk:!0,data:a,active_step:"step_two",fromLocalstorage:!0,complete:!0},sendData:!0};(!t||t&&!t.hash_id)&&(i.hash_id=e&&e.hash_id),this.storeToLocalStorage(i)}.bind(this)),this.messagesList[n].gotoSlideStep("step_two",{title:this.getLocale("social.greeting").customFormat(t),photo:e.photo||""}),this.consts.placeMesTimeout=setTimeout(function(){this.changeStatusbarText("defaultState"),this.setScriptNextStep()}.bind(this),1e3)}.bind(this)),this.messagesList[n].on("disable",function(){$(this.messagesList[n].element).find(".sg_button").addClass("sg_disabled"),$(this.messagesList[n].element).find(".sg_skip_step").addClass("sg_disabled")}.bind(this)),this.messagesList[n].on("submit",function(){clearTimeout(this.socialTimeout),this.callgoalTrigger("social_auth_skip"),this.messagesList[n].disable(),this.storeToLocalStorage({socialAuth:{fromLocalstorage:!0,complete:!0,skip:!0}}),this.changeStatusbarText("defaultState"),this.setScriptNextStep(null,{})}.bind(this)),this.messagesList[n].on("slide-next-step-call",function(e){if(!this.messagesList[this.socialAuthStepName].disabled&&"step_one"===e){this.messagesList[n].button_disabled=!1,clearTimeout(this.consts.placeMesTimeout),this.messageTyping.unmount(),this.widgetStep=2;var t=Object.keys(this.messagesList).indexOf(this.socialAuthStepName)+1,i=this.storage.getJSON("_scenario");i.socialAuth={complete:!1,fromLocalstorage:!0};var a,o,s,r=Object.keys(i).indexOf("socialAuth")+1;for(a=r,o=Object.keys(i).length;a<o;a++)(s=i[Object.keys(i)[a]])&&delete s;for(this.storage.setJSON("_scenario",i),a=t,o=Object.keys(this.messagesList).length;a<o;a++)(s=this.messagesList[Object.keys(this.messagesList)[a]])&&(s.unmount(),s.on("unmount",function(){delete s,this.scrollToBottom(!0)}.bind(this)));this.callgoalTrigger("social_auth_reset")}}.bind(this))}else if("feedback-selection"===e.messageType){var r={title:e.title,fields:e.fields.fields,onlytext:e.onlytext};e.locale&&(r.locale=e.locale),this.messagesList[n]=new lc.components.FeedbackSelection(r),this.messagesList[n].on("submit",function(e){var t=!1,i={};if(i.step2={},i.step2.fields={},"object"==typeof e&&null!==e){for(var a in e)e.hasOwnProperty(a)&&(i.step2.fields[a]={visible:1,checked:e[a]?1:0},e[a]&&(t=!0));t&&(this.messagesList[n].disable(),i.step2.viewcheckbox=!0,i.step2.complete=!0,this.storeToLocalStorage(i),this.callgoalTrigger("stepcheckboxpassed"),this.setTimeout(function(){this.setScriptNextStep(null,i.step2)},1e3))}}.bind(this))}else if("user-message"===e.messageType){var l={text:e.msgText};this.locale&&(l.locale=this.locale),this.messagesList[n]=new lc.components.UserMessage(l),this.messagesList[n].on("focus",function(){this.questionEdit=!0,this.old_question=this.messagesList[n].props.text,this.metrikobjectcalltrigger("editquestion"),clearTimeout(this.socialTimeout)}.bind(this)),this.messagesList[n].on("blur",function(){this.changeStatusbarText("defaultState"),this.questionEdit=!1,this.storeToLocalStorage({step1:{question:this.messagesList[n].props.text,complete:!0}}),"socialAuth"===this.listStep[this.widgetStep-1]&&this.socialPushing(),this.old_question!==this.messagesList[n].props.text&&this.questionSendLead()}.bind(this)),this.messagesList[n].on("change",function(){this.storeToLocalStorage({step1:{question:this.messagesList[n].props.text,complete:!0}})}.bind(this)),this.messagesList[n].on("paste",function(){this.changeStatusbarText("pressenter")}.bind(this))}else if("thankyou-page"===e.messageType){var d={text:e.msgText,image:e.image,buttonHide:e.buttonHide};e.locale&&(d.locale=e.locale),this.messagesList[n]=new lc.components.ThankyouPage(d),this.messagesList[n].on("render",function(){this.messagesList.msg_0 instanceof lc.components.UserMessage&&this.messagesList.msg_0.disable()}.bind(this)),this.messagesList[n].on("repeat",function(){return this.storage.clear(),this.chatstorage.clear(),this.chat&&(this.chat.setRoomId(),this.chat&&(this.chat.needToSendRobotMessages=!0)),this.crosstab_broadcast(this.subscribeType.REPEAT_QUESTION,{},null),!1}.bind(this))}}else{var c={text:e.msgText,isMe:!(void 0!==e.isMe&&!e.isMe),isHtml:!(void 0!==e.isHtml&&!e.isHtml),link_is_active:e.link_is_active||!1};e.msgTime&&e.msgTime,this.messagesList[n]=new lc.components.Message(c)}if("callback-form"===e.messageType||"feedback-form"===e.messageType){var c={text:e.msgText,isMe:!(void 0!==e.isMe&&!e.isMe),isHtml:!!e.isHtml};e.msgTime&&e.msgTime,this.messagesList[n]=new lc.components.Message(c)}this.messagesList[n]&&this.messagesList[n].on("render",function(o){e.isFromLS&&this.messagesList[n].disable();try{this.messagesList[n].hide(),this.messagesList[n].mount(this.element_chat(a)[0]),e.fadeEvent?$(this.messagesList[n].element).fadeIn(400,this.p(function(){"function"==typeof i&&i.call(this)})):(this.messagesList[n].show(),"function"==typeof i&&i.call(this))}catch(e){console.log(e)}this.widgetProperty.sound||(this.widgetProperty.sound=new lc.components.Sound),e.isMe&&this.settings.msgsound&&e.writing>0&&this.widgetProperty.sound.play(),this.setupInlineStyles($(this.messagesList[n].element)),e.showBell&&this.checkAppsFlip(a)&&this.sizeState===this.consts.minimized&&this.bell.show(),this.updateSendTime(),"boolean"!=typeof t||t||this.maximize(),0===e.writing?this.scrollToBottom(!0,a,e.scrollTop):this.scrollToBottom(Boolean(e.scrollFast),a,e.scrollTop),0===e.writing&&this.setTimeout(function(){this.scrollToBottom(!0,a,e.scrollTop)}.bind(this),700)}.bind(this))},this.repeatcheckAdminStatusFn=function(e){clearTimeout(this.initChatTimeout),this.chat.adminStatus(this.default_widget_id?this.default_widget_id:this.widget_id).then(function(t){try{this.adminstatusgoal(t,"initwidget")}catch(e){}if(lc.utils.checkIsJson(t)){var i=this.chatstorage.get("_closedConversation"),n=JSON.parse(t);if(n.isClosedRoom&&(this.storage.clear(),this.chatstorage.clear(),this.storage.remove("_scenario"),this.chatstorage.remove("_chatclosed"),this.chat.removeRoom()),n.status||!n.status&&"0"===i){var a=this.chatstorage.get("_chatclosed");if(!this.greeting.alreadyWritten||this.greeting.alreadyWritten&&this.chat.roomIdExist()||null===a){var o={profileId:this.widget_id,projectId:this.default_widget_id?this.default_widget_id:this.widget_id};this.locale&&(o.locale=this.locale),this.chat.emit("widgetPlaced"),(isNaN(parseInt(i))||0!==parseInt(i))&&(n.type&&"new"==n.type?(this.chatstorage.set("adminInitChat",!0),this.chatstorage.set("_closedConversation",0),this.chat.start(this.getStartChatProps(n)),this.setGreetingAlreadyWrittenTrue(),this.storage.remove("_events"),this.messageTypingGreeting.unmount(),this.timeline.clearTimeouts(),clearTimeout(this.timeoutWaiting),clearTimeout(this.consts.firstMsgTimer),clearTimeout(this.consts.placeMesTimeout)):(this.chat.delete(),this.chat.socketopen(o)),this.chat.on("chatLoaded",function(){this.p(this.chatIframeListener)()}.bind(this)))}}}e()}.bind(this)).catch(function(t){this.callgoalTrigger("initwidgetadminonlinefaulterror"),clearTimeout(this.initChatTimeout),this.chatAdminErrorConnects++,this.chatAdminErrorConnects<3?this.initChatTimeout=this.setTimeout(function(){this.repeatcheckAdminStatusFn(e)},1500):e()}.bind(this))},this.startChatListener=function(e){try{-1===this.widgetClass.search("leadia_")?(this.chatAdminErrorConnects=0,this.initChatTimeout=null,this.repeatcheckAdminStatusFn(e)):e()}catch(t){e()}}}),function(e){void 0==e.lc_controllers&&(e.lc_controllers=[]);var t={ctrl_template:'<div id="modal_wrap" class="lwp-modal_wrap">\n    <div id="modal_window" class="lwp-modal_window"><img src="<%= photo %>" width="116" height="116" alt="" class="lwp-modal_image">\n        <div class="lwp-modal_title"><%= title.replace(new RegExp(\'&lt;br/&gt;\', \'g\'), \'<br />\') %></div>\n        <div class="lwp-modal_subtitle"><%= mainText.replace(new RegExp(\'&lt;br/&gt;\', \'g\'), \'<br />\') %></div>\n        <div class="lwp-buttons_block">\n            <div id="btnYes" class="lwp-btn"><%- buttons.yes.text %></div>\n            <div id="btnNo" class="lwp-btn"><%- buttons.no.text %></div>\n        </div>\n    </div>\n</div>\n<style style="display:none;">#leadia_science_widget .lwp-modal_wrap .lwp-animate_modal{-webkit-animation-duration:.3s;-moz-animation-duration:.3s;-o-animation-duration:.3s;-ms-animation-duration:.3s;animation-duration:.3s;-webkit-animation-fill-mode:both;-moz-animation-fill-mode:both;-o-animation-fill-mode:both;-ms-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-name:slideInDown;-moz-animation-name:slideInDown;-o-animation-name:slideInDown;-ms-animation-name:slideInDown;animation-name:slideInDown}#leadia_science_widget .lwp-modal_wrap .lwp-fade_modal{-webkit-animation-duration:.3s;-moz-animation-duration:.3s;-o-animation-duration:.3s;-ms-animation-duration:.3s;animation-duration:.3s;-webkit-animation-fill-mode:both;-moz-animation-fill-mode:both;-o-animation-fill-mode:both;-ms-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-name:fadeOut;-moz-animation-name:fadeOut;-o-animation-name:fadeOut;-ms-animation-name:fadeOut;animation-name:fadeOut}#leadia_science_widget .lwp-modal_wrap .lwp-transit-to-widget{transition:all .3s ease-in}@-moz-keyframes slideInDown{from{-webkit-transform:translate3d(0,-100%,0);-moz-transform:translate3d(0,-100%,0);-o-transform:translate3d(0,-100%,0);-ms-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0);visibility:visible}to{-webkit-transform:translate3d(0,0,0);-moz-transform:translate3d(0,0,0);-o-transform:translate3d(0,0,0);-ms-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}@-webkit-keyframes slideInDown{from{-webkit-transform:translate3d(0,-100%,0);-moz-transform:translate3d(0,-100%,0);-o-transform:translate3d(0,-100%,0);-ms-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0);visibility:visible}to{-webkit-transform:translate3d(0,0,0);-moz-transform:translate3d(0,0,0);-o-transform:translate3d(0,0,0);-ms-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}@-o-keyframes slideInDown{from{-webkit-transform:translate3d(0,-100%,0);-moz-transform:translate3d(0,-100%,0);-o-transform:translate3d(0,-100%,0);-ms-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0);visibility:visible}to{-webkit-transform:translate3d(0,0,0);-moz-transform:translate3d(0,0,0);-o-transform:translate3d(0,0,0);-ms-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}@keyframes slideInDown{from{-webkit-transform:translate3d(0,-100%,0);-moz-transform:translate3d(0,-100%,0);-o-transform:translate3d(0,-100%,0);-ms-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0);visibility:visible}to{-webkit-transform:translate3d(0,0,0);-moz-transform:translate3d(0,0,0);-o-transform:translate3d(0,0,0);-ms-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}@-moz-keyframes fadeOut{from{opacity:1;-ms-filter:none;filter:none}to{opacity:0;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0)}}@-webkit-keyframes fadeOut{from{opacity:1;-ms-filter:none;filter:none}to{opacity:0;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0)}}@-o-keyframes fadeOut{from{opacity:1;-ms-filter:none;filter:none}to{opacity:0;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0)}}@keyframes fadeOut{from{opacity:1;-ms-filter:none;filter:none}to{opacity:0;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0)}}#leadia_science_widget .lwp-modal_wrap{background:rgba(0,0,0,0.4);position:fixed;top:0;left:0;right:0;bottom:0;display:none;z-index:1000001;}#leadia_science_widget .lwp-modal_wrap.lwp-modal_visible{display:block}#leadia_science_widget .lwp-modal_wrap *{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}#leadia_science_widget .lwp-modal_wrap .lwp-modal_window{background-color:#fff;width:430px;height:auto;padding:30px 30px 30px 30px;font-family:"Helvetica Neue",HelveticaNeue,Helvetica,Arial,sans-serif;font-size:15px;line-height:1.3;color:#000;position:absolute;top:100px;left:0;-webkit-border-radius:5px;border-radius:5px;-webkit-box-shadow:0 0 15px rgba(0,0,0,0.5);box-shadow:0 0 15px rgba(0,0,0,0.5);}#leadia_science_widget .lwp-modal_wrap .lwp-modal_window .lwp-modal_image{width:116px;height:116px;-webkit-border-radius:100% !important;border-radius:100% !important;display:block;margin:0 auto 30px;float:none}#leadia_science_widget .lwp-modal_wrap .lwp-modal_window .lwp-modal_title{font-size:18px;text-align:center;margin-bottom:10px;font-weight:bold;-webkit-hyphens:auto;-moz-hyphens:auto;-ms-hyphens:auto;hyphens:auto;-webkit-hyphenate-before:2;-webkit-hyphenate-after:3;hyphenate-lines:3;white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;}#leadia_science_widget .lwp-modal_wrap .lwp-modal_window .lwp-modal_subtitle{font-size:17px;text-align:center;margin-bottom:30px;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;-moz-hyphens:auto;-ms-hyphens:auto;hyphens:auto;-webkit-hyphenate-before:2;-webkit-hyphenate-after:3;hyphenate-lines:3}#leadia_science_widget .lwp-modal_wrap .lwp-modal_window .lwp-buttons_block{text-align:center;}#leadia_science_widget .lwp-modal_wrap .lwp-modal_window .lwp-buttons_block .lwp-btn{padding:15px;margin:0 20px;font-size:17px;font-weight:normal;-webkit-border-radius:200px !important;border-radius:200px !important;background-color:#fff;text-align:center;text-transform:uppercase;border:2px solid #e2e8ef;display:inline-block;cursor:pointer;width:130px;white-space:nowrap;display:inline-block;max-width:100%;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;word-wrap:normal;}#leadia_science_widget .lwp-modal_wrap .lwp-modal_window .lwp-buttons_block .lwp-btn#btnYes{background-color:#1d4af0;border-color:#1d4af0;color:#fff;}#leadia_science_widget .lwp-modal_wrap .lwp-modal_window .lwp-buttons_block .lwp-btn#btnYes:hover{-webkit-box-shadow:inset 0 0 15px rgba(0,0,0,0.4);box-shadow:inset 0 0 15px rgba(0,0,0,0.4)}#leadia_science_widget .lwp-modal_wrap .lwp-modal_window .lwp-buttons_block .lwp-btn:hover{-webkit-box-shadow:inset 0 0 15px rgba(0,0,0,0.1);box-shadow:inset 0 0 15px rgba(0,0,0,0.1)}</style>',ctrl:function(e,t,i){var n,a,o,s,r,l,d,c,p={photofromwidget:!1,photo:"https://133921.selcdn.ru/widget/faces/man.jpg",title:"У вас возник вопрос?",
mainText:"Хотите получить бесплатную консультацию?",buttons:{no:{text:"Нет"},yes:{text:"Да"}},customGreetingMsg:"",yaMetric:!1,previewMode:!1},h=t(window).outerWidth(),u=t(window).outerHeight(),m=null;return{p:function(e){return t.proxy(e,this)},set elem(e){c=e},get elem(){return c},init:function(i,d){return n=t.extend(!0,{},p),"object"==typeof i&&e.utils.jsonMergeRecursive(n,i),a=d,o=a.find("#modal_wrap"),s=a.find("#modal_window"),r=s.outerWidth(),h=t(window).outerWidth(),l=e.widget.stateCookie()+"_coldpopupshown",this.elem=a,this.render()},addEvent:function(e,t,i,n){return n="boolean"==typeof n&&n,e.addEventListener?e.addEventListener(t,i,!1,n):e.attachEvent?e.attachEvent("on"+t,i):void 0},leftPosition:function(e){var t,i=a.find("#modal_window"),n=i.outerWidth();return t=e.pageX,t<n/2?0:t>h-n/2?h-n:t-n/2},getCoordinates:function(e){return{x:e.clientX,y:e.clientY}},modalControl:function(t){d&&(t=d);var i=this.elem;if(void 0==e.utils.getCookie(l)&&e.widget.sizeState==e.widget.consts.minimized&&!e.widget.greeting.alreadyWritten&&e.widget.firstOpen){try{e.widget.lc_controllers&&e.widget.lc_controllers.hovermenu&&e.widget.lc_controllers.hovermenu.hoverMenuGrettingClear()}catch(e){}e.widget.flip.pause();var a=i.find("#modal_wrap"),o=i.find("#modal_window");if(a.is(":hidden")){a.addClass("lwp-modal_visible"),o.addClass("lwp-animate_modal"),o.addClass("lwp-animate_modal").one("animationend webkitAnimationEnd MSAnimationEnd oAnimationEnd",function(){return o.removeClass("lwp-animate_modal")}),n.yaMetric&&e.widget.callgoalTrigger("opencoldpopup");try{e.widget.timeline.clearTimeouts(),clearTimeout(e.widget.timeoutWaiting)}catch(e){}return o.css({left:this.leftPosition(t)})}}},closeModal:function(){var e=this.elem;e.find("#modal_wrap").removeClass("lwp-modal_visible"),e.find("#modal_window").removeClass("lwp-animate_modal"),this.setClosedModalCookies()},setClosedModalCookies:function(){e.utils.setCookie(l,1,{expires:86400,path:"/"})},modalWrap_mouseup:function(e){var t=a.find("#modal_wrap"),i=a.find("#modal_window");if(!i.is(e.target)&&0===i.has(e.target).length)return t.removeClass("lwp-modal_visible"),i.removeClass("lwp-animate_modal")},document_mouseout:function(t){this.getCoordinates(t).y<=1&&(m=setTimeout(this.p(function(){if(d=t,!e.utils.getCookie(l)&&e.widget.sizeState===e.widget.consts.minimized&&!e.widget.greeting.alreadyWritten&&e.widget.firstOpen)try{e.widget.crosstab_broadcast(e.widget.subscribeType.MODAL_OPEN,{evt:{pageX:t.pageX}},null)}catch(e){}}),200))},document_mouseover:function(e){return clearTimeout(m)},coldpopup_trigger:function(t){e.widget.setCookie(e.widget.stateCookie()+"_coldpopup_trigger_data",t)},btn_click:function(i){var a=this;switch(t(i.target).attr("id")){case"btnYes":n.yaMetric&&e.widget.callgoalTrigger("yesbtncoldpopup"),e.widget.sizeState==e.widget.consts.minimized&&(""!==n.customGreetingMsg&&(e.widget.greeting.text=n.customGreetingMsg),this.flyAway(e.widget.widgetStyle.position).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){a.coldpopup_trigger(2),e.widget.crosstab_broadcast(e.widget.subscribeType.PLACE_GREETING_MSG_NOW,{},null),e.widget.crosstab_broadcast(e.widget.subscribeType.MODAL_CLOSE_TRANSITION,{},null)}));break;case"btnNo":try{e.widget.crosstab_broadcast(e.widget.subscribeType.START_TIMELINE,{value:5},null)}catch(i){}n.yaMetric&&e.widget.callgoalTrigger("nobtncoldpopup"),this.coldpopup_trigger(1),setTimeout(function(){this.closeModalWrap()}.bind(this),100)}},closeModalWrap:function(){try{e.widget.crosstab_broadcast(e.widget.subscribeType.MODAL_CLOSE,{},null)}catch(e){}},events:function(){this.addEvent(o,"mouseup",this.p(this.modalWrap_mouseup),!1),this.addEvent(document,"mouseout",this.p(this.document_mouseout),!1),this.addEvent(document,"mouseover",this.p(this.document_mouseover),!1),this.addEvent(a.find("#btnNo")[0],"click",this.p(this.btn_click),!1),this.addEvent(a.find("#btnYes")[0],"click",this.p(this.btn_click),!1)},flyAway:function(e){var i,n,o,s=a.find("#modal_window");return o=u-(s.offset().top-t(window).scrollTop()+s.outerHeight()),i=-s.offset().left,n=h-s.outerWidth()-s.offset().left,s.addClass("lwp-transit-to-widget"),"right"===e?s.css({"-webkit-transform":"translate("+n+"px,"+o+"px)","-moz-transform":"translate("+n+"px,"+o+"px)","-o-transform":"translate("+n+"px,"+o+"px)","-ms-transform":"translate("+n+"px,"+o+"px)",transform:"translate("+n+"px,"+o+"px)"}):s.css({"-webkit-transform":"translate("+i+"px,"+o+"px)","-moz-transform":"translate("+i+"px,"+o+"px)","-o-transform":"translate("+i+"px,"+o+"px)","-ms-transform":"translate("+i+"px,"+o+"px)",transform:"translate("+i+"px,"+o+"px)"})},removeTransition:function(e){a=a||this.elem,e=e||a.find("#modal_window");var t=this;return o=a.find("#modal_wrap"),e.removeClass("lwp-transit-to-widget"),e.addClass("lwp-fade_modal").one("animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",function(){return e.removeAttr("style"),e.removeClass("lwp-fade_modal"),t.closeModal()})},render:function(){void 0!=n.photofromwidget&&n.photofromwidget&&(n.photo=e.widget.consultant.photo);var o=e.lc_controllers.coldUserController.ctrl_template,s=i.template(o),r=s(n),l=t(r).find(":first-child").andSelf().attr("id");if(a.find("#"+l).length>0&&a.find("#"+l).remove(),a.append(r),n.previewMode){var d=a.find("#modal_wrap"),c=a.find("#modal_window");d.addClass("lwp-modal_visible"),c.css({left:"50%","margin-left":-c.outerWidth(!0)/2,top:"50%","margin-top":-c.outerHeight(!0)/2})}else this.events()}}}(e,e.jQuery,e.underscore)};e.lc_controllers.coldUserController=t}(lc),function e(t,i,n){function a(s,r){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!r&&l)return l(s,!0);if(o)return o(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var c=i[s]={exports:{}};t[s][0].call(c.exports,function(e){return a(t[s][1][e]||e)},c,c.exports,e,t,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)a(n[s]);return a}({1:[function(e,t,i){t.exports={NODE_ENV:"production",leadiaCloudSrc:"/Users/qqqq/work/leadia-cloud/",url:"https://chatclient.venew.io",iframeUrl:"https://chatclient.venew.io/chat_client/websocket-chat/client/build/client.html"}},{}],2:[function(e,t,i){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function a(e){return 3*e.length/4-n(e)}function o(e){var t,i,a,o,s,r,l=e.length;s=n(e),r=new p(3*l/4-s),a=s>0?l-4:l;var d=0;for(t=0,i=0;t<a;t+=4,i+=3)o=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)],r[d++]=o>>16&255,r[d++]=o>>8&255,r[d++]=255&o;return 2===s?(o=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4,r[d++]=255&o):1===s&&(o=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2,r[d++]=o>>8&255,r[d++]=255&o),r}function s(e){return d[e>>18&63]+d[e>>12&63]+d[e>>6&63]+d[63&e]}function r(e,t,i){for(var n,a=[],o=t;o<i;o+=3)n=(e[o]<<16)+(e[o+1]<<8)+e[o+2],a.push(s(n));return a.join("")}function l(e){for(var t,i=e.length,n=i%3,a="",o=[],s=0,l=i-n;s<l;s+=16383)o.push(r(e,s,s+16383>l?l:s+16383));return 1===n?(t=e[i-1],a+=d[t>>2],a+=d[t<<4&63],a+="=="):2===n&&(t=(e[i-2]<<8)+e[i-1],a+=d[t>>10],a+=d[t>>4&63],a+=d[t<<2&63],a+="="),o.push(a),o.join("")}i.byteLength=a,i.toByteArray=o,i.fromByteArray=l;for(var d=[],c=[],p="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,m=h.length;u<m;++u)d[u]=h[u],c[h.charCodeAt(u)]=u;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},{}],3:[function(e,t,i){(function(t){"use strict";function n(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=o.prototype):(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,i){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(e,t,i);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return s(this,e,t,i)}function s(e,t,i,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?h(e,t,i,n):"string"==typeof t?c(e,t,i):u(e,t)}function r(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t,i,n){return r(t),t<=0?a(e,t):void 0!==i?"string"==typeof n?a(e,t).fill(i,n):a(e,t).fill(i):a(e,t)}function d(e,t){if(r(t),e=a(e,t<0?0:0|m(t)),!o.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function c(e,t,i){if("string"==typeof i&&""!==i||(i="utf8"),!o.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|f(t,i);e=a(e,n);var s=e.write(t,i);return s!==n&&(e=e.slice(0,s)),e}function p(e,t){var i=t.length<0?0:0|m(t.length);e=a(e,i);for(var n=0;n<i;n+=1)e[n]=255&t[n];return e}function h(e,t,i,n){if(t.byteLength,i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===i&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,i):new Uint8Array(t,i,n),o.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=o.prototype):e=p(e,t),e}function u(e,t){if(o.isBuffer(t)){var i=0|m(t.length);return e=a(e,i),0===e.length?e:(t.copy(e,0,0,i),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||q(t.length)?a(e,0):p(e,t);if("Buffer"===t.type&&Q(t.data))return p(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function g(e){return+e!=e&&(e=0),o.alloc(+e)}function f(e,t){if(o.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return X(e).length;default:if(n)return U(e).length;t=(""+t).toLowerCase(),n=!0}}function _(e,t,i){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if(i>>>=0,t>>>=0,i<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return L(this,t,i);case"utf8":case"utf-8":return M(this,t,i);case"ascii":return O(this,t,i);case"latin1":case"binary":return C(this,t,i);case"base64":return z(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function w(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function b(e,t,i,n,a){if(0===e.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=a?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(a)return-1;i=e.length-1}else if(i<0){if(!a)return-1;i=0}if("string"==typeof t&&(t=o.from(t,n)),o.isBuffer(t))return 0===t.length?-1:v(e,t,i,n,a);if("number"==typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):v(e,[t],i,n,a);throw new TypeError("val must be string, number or Buffer")}function v(e,t,i,n,a){function o(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var s=1,r=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,r/=2,l/=2,i/=2}var d;if(a){var c=-1;for(d=i;d<r;d++)if(o(e,d)===o(t,-1===c?0:d-c)){if(-1===c&&(c=d),d-c+1===l)return c*s}else-1!==c&&(d-=d-c),c=-1}else for(i+l>r&&(i=r-l),d=i;d>=0;d--){for(var p=!0,h=0;h<l;h++)if(o(e,d+h)!==o(t,h)){p=!1;break}if(p)return d}return-1}function y(e,t,i,n){i=Number(i)||0;var a=e.length-i;n?(n=Number(n))>a&&(n=a):n=a;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var r=parseInt(t.substr(2*s,2),16);if(isNaN(r))return s;e[i+s]=r}return s}function x(e,t,i,n){return V(U(t,e.length-i),e,i,n)}function k(e,t,i,n){return V(J(t),e,i,n)}function S(e,t,i,n){return k(e,t,i,n)}function T(e,t,i,n){return V(X(t),e,i,n)}function E(e,t,i,n){return V(G(t,e.length-i),e,i,n)}function z(e,t,i){return 0===t&&i===e.length?$.fromByteArray(e):$.fromByteArray(e.slice(t,i))}function M(e,t,i){i=Math.min(e.length,i);for(var n=[],a=t;a<i;){var o=e[a],s=null,r=o>239?4:o>223?3:o>191?2:1;if(a+r<=i){var l,d,c,p;switch(r){case 1:o<128&&(s=o);break;case 2:128==(192&(l=e[a+1]))&&(p=(31&o)<<6|63&l)>127&&(s=p);break;case 3:l=e[a+1],d=e[a+2],128==(192&l)&&128==(192&d)&&(p=(15&o)<<12|(63&l)<<6|63&d)>2047&&(p<55296||p>57343)&&(s=p);break;case 4:l=e[a+1],d=e[a+2],c=e[a+3],128==(192&l)&&128==(192&d)&&128==(192&c)&&(p=(15&o)<<18|(63&l)<<12|(63&d)<<6|63&c)>65535&&p<1114112&&(s=p)}}null===s?(s=65533,r=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),a+=r}return A(n)}function A(e){var t=e.length;if(t<=K)return String.fromCharCode.apply(String,e);for(var i="",n=0;n<t;)i+=String.fromCharCode.apply(String,e.slice(n,n+=K));return i}function O(e,t,i){var n="";i=Math.min(e.length,i);for(var a=t;a<i;++a)n+=String.fromCharCode(127&e[a]);return n}function C(e,t,i){var n="";i=Math.min(e.length,i);for(var a=t;a<i;++a)n+=String.fromCharCode(e[a]);return n}function L(e,t,i){var n=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>n)&&(i=n);for(var a="",o=t;o<i;++o)a+=W(e[o]);return a}function j(e,t,i){for(var n=e.slice(t,i),a="",o=0;o<n.length;o+=2)a+=String.fromCharCode(n[o]+256*n[o+1]);return a}function I(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,i,n,a,s){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<s)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}function R(e,t,i,n){t<0&&(t=65535+t+1);for(var a=0,o=Math.min(e.length-i,2);a<o;++a)e[i+a]=(t&255<<8*(n?a:1-a))>>>8*(n?a:1-a)}function N(e,t,i,n){t<0&&(t=4294967295+t+1);for(var a=0,o=Math.min(e.length-i,4);a<o;++a)e[i+a]=t>>>8*(n?a:3-a)&255}function D(e,t,i,n,a,o){if(i+n>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function F(e,t,i,n,a){return a||D(e,t,i,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(e,t,i,n,23,4),i+4}function B(e,t,i,n,a){return a||D(e,t,i,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(e,t,i,n,52,8),i+8}function Y(e){if(e=H(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function H(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function W(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){t=t||1/0;for(var i,n=e.length,a=null,o=[],s=0;s<n;++s){if((i=e.charCodeAt(s))>55295&&i<57344){if(!a){if(i>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}a=i;continue}if(i<56320){(t-=3)>-1&&o.push(239,191,189),a=i;continue}i=65536+(a-55296<<10|i-56320)}else a&&(t-=3)>-1&&o.push(239,191,189);if(a=null,i<128){if((t-=1)<0)break;o.push(i)}else if(i<2048){if((t-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function J(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}function G(e,t){for(var i,n,a,o=[],s=0;s<e.length&&!((t-=2)<0);++s)i=e.charCodeAt(s),n=i>>8,a=i%256,o.push(a),o.push(n);return o}function X(e){return $.toByteArray(Y(e))}function V(e,t,i,n){for(var a=0;a<n&&!(a+i>=t.length||a>=e.length);++a)t[a+i]=e[a];return a}function q(e){return e!==e}var $=e("base64-js"),Z=e("ieee754"),Q=e("isarray");i.Buffer=o,i.SlowBuffer=g,i.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),i.kMaxLength=n(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,i){return s(null,e,t,i)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,i){return l(null,e,t,i)},o.allocUnsafe=function(e){return d(null,e)},o.allocUnsafeSlow=function(e){return d(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,n=t.length,a=0,s=Math.min(i,n);a<s;++a)if(e[a]!==t[a]){i=e[a],n=t[a];break}return i<n?-1:n<i?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Q(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=o.allocUnsafe(t),a=0;for(i=0;i<e.length;++i){var s=e[i];if(!o.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,a),a+=s.length}return n},o.byteLength=f,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)w(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)w(this,t,t+3),w(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)w(this,t,t+7),w(this,t+1,t+6),w(this,t+2,t+5),w(this,t+3,t+4);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?M(this,0,e):_.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",t=i.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,i,n,a){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===a&&(a=this.length),t<0||i>e.length||n<0||a>this.length)throw new RangeError("out of range index");if(n>=a&&t>=i)return 0;if(n>=a)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,a>>>=0,this===e)return 0;for(var s=a-n,r=i-t,l=Math.min(s,r),d=this.slice(n,a),c=e.slice(t,i),p=0;p<l;++p)if(d[p]!==c[p]){s=d[p],r=c[p];break}return s<r?-1:r<s?1:0},o.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},o.prototype.indexOf=function(e,t,i){return b(this,e,t,i,!0)},o.prototype.lastIndexOf=function(e,t,i){return b(this,e,t,i,!1)},o.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var a=this.length-t;if((void 0===i||i>a)&&(i=a),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return y(this,e,t,i);case"utf8":case"utf-8":return x(this,e,t,i);case"ascii":return k(this,e,t,i);case"latin1":case"binary":return S(this,e,t,i);case"base64":return T(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var K=4096;o.prototype.slice=function(e,t){var i=this.length;e=~~e,t=void 0===t?i:~~t,e<0?(e+=i)<0&&(e=0):e>i&&(e=i),t<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e);var n;if(o.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=o.prototype;else{var a=t-e;n=new o(a,void 0);for(var s=0;s<a;++s)n[s]=this[s+e]}return n},o.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||I(e,t,this.length);for(var n=this[e],a=1,o=0;++o<t&&(a*=256);)n+=this[e+o]*a;return n},o.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||I(e,t,this.length);for(var n=this[e+--t],a=1;t>0&&(a*=256);)n+=this[e+--t]*a;return n},o.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||I(e,t,this.length);for(var n=this[e],a=1,o=0;++o<t&&(a*=256);)n+=this[e+o]*a;return a*=128,n>=a&&(n-=Math.pow(2,8*t)),n},o.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||I(e,t,this.length);for(var n=t,a=1,o=this[e+--n];n>0&&(a*=256);)o+=this[e+--n]*a;return a*=128,o>=a&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},o.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},o.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),Z.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),Z.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),Z.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),Z.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,i,n){e=+e,t|=0,i|=0,n||P(this,e,t,i,Math.pow(2,8*i)-1,0);var a=1,o=0;for(this[t]=255&e;++o<i&&(a*=256);)this[t+o]=e/a&255;return t+i},o.prototype.writeUIntBE=function(e,t,i,n){e=+e,t|=0,i|=0,n||P(this,e,t,i,Math.pow(2,8*i)-1,0);var a=i-1,o=1;for(this[t+a]=255&e;--a>=0&&(o*=256);)this[t+a]=e/o&255;return t+i},o.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*i-1);P(this,e,t,i,a-1,-a)}var o=0,s=1,r=0;for(this[t]=255&e;++o<i&&(s*=256);)e<0&&0===r&&0!==this[t+o-1]&&(r=1),this[t+o]=(e/s>>0)-r&255;return t+i},o.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*i-1);P(this,e,t,i,a-1,-a)}var o=i-1,s=1,r=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===r&&0!==this[t+o+1]&&(r=1),this[t+o]=(e/s>>0)-r&255;return t+i},o.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,i){return F(this,e,t,!0,i)},o.prototype.writeFloatBE=function(e,t,i){return F(this,e,t,!1,i)},o.prototype.writeDoubleLE=function(e,t,i){return B(this,e,t,!0,i)},o.prototype.writeDoubleBE=function(e,t,i){return B(this,e,t,!1,i)},o.prototype.copy=function(e,t,i,n){if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var a,s=n-i;if(this===e&&i<t&&t<n)for(a=s-1;a>=0;--a)e[a+t]=this[a+i];else if(s<1e3||!o.TYPED_ARRAY_SUPPORT)for(a=0;a<s;++a)e[a+t]=this[a+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+s),t);return s},o.prototype.fill=function(e,t,i,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0);var s;if("number"==typeof e)for(s=t;s<i;++s)this[s]=e;else{var r=o.isBuffer(e)?e:U(new o(e,n).toString()),l=r.length;for(s=0;s<i-t;++s)this[s+t]=r[s%l]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":2,ieee754:6,isarray:7}],4:[function(e,t,i){(function(e){"use strict";function i(t){return t instanceof e||t instanceof Date||t instanceof RegExp}function n(t){if(t instanceof e){var i=new e(t.length);return t.copy(i),i}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return new RegExp(t);throw new Error("Unexpected situation")}function a(e){var t=[];return e.forEach(function(e,s){"object"==typeof e&&null!==e?Array.isArray(e)?t[s]=a(e):i(e)?t[s]=n(e):t[s]=o({},e):t[s]=e}),t}var o=t.exports=function(){if(arguments.length<1||"object"!=typeof arguments[0])return!1;if(arguments.length<2)return arguments[0];var e,t,s=arguments[0];return Array.prototype.slice.call(arguments,1).forEach(function(r){"object"!=typeof r||Array.isArray(r)||Object.keys(r).forEach(function(l){return t=s[l],e=r[l],e===s?void 0:"object"!=typeof e||null===e?void(s[l]=e):Array.isArray(e)?void(s[l]=a(e)):i(e)?void(s[l]=n(e)):"object"!=typeof t||null===t||Array.isArray(t)?void(s[l]=o({},e)):void(s[l]=o(t,e))})}),s}}).call(this,e("buffer").Buffer)},{buffer:3}],5:[function(e,t,i){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function a(e){return"function"==typeof e}function o(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function r(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,i,n,o,l,d;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(i=this._events[e],r(i))return!1;if(a(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),i.apply(this,o)}else if(s(i))for(o=Array.prototype.slice.call(arguments,1),d=i.slice(),n=d.length,l=0;l<n;l++)d[l].apply(this,o);return!0},n.prototype.addListener=function(e,t){var i;if(!a(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,a(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned&&(i=r(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}if(!a(t))throw TypeError("listener must be a function");var n=!1;return i.listener=t,this.on(e,i),this},n.prototype.removeListener=function(e,t){var i,n,o,r;if(!a(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=this._events[e],o=i.length,n=-1,i===t||a(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(i)){for(r=o;r-- >0;)if(i[r]===t||i[r].listener&&i[r].listener===t){n=r;break}if(n<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[e],a(i))this.removeListener(e,i);else if(i)for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){
return this._events&&this._events[e]?a(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(a(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},{}],6:[function(e,t,i){i.read=function(e,t,i,n,a){var o,s,r=8*a-n-1,l=(1<<r)-1,d=l>>1,c=-7,p=i?a-1:0,h=i?-1:1,u=e[t+p];for(p+=h,o=u&(1<<-c)-1,u>>=-c,c+=r;c>0;o=256*o+e[t+p],p+=h,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=n;c>0;s=256*s+e[t+p],p+=h,c-=8);if(0===o)o=1-d;else{if(o===l)return s?NaN:1/0*(u?-1:1);s+=Math.pow(2,n),o-=d}return(u?-1:1)*s*Math.pow(2,o-n)},i.write=function(e,t,i,n,a,o){var s,r,l,d=8*o-a-1,c=(1<<d)-1,p=c>>1,h=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,u=n?0:o-1,m=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(r=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),t+=s+p>=1?h/l:h*Math.pow(2,1-p),t*l>=2&&(s++,l/=2),s+p>=c?(r=0,s=c):s+p>=1?(r=(t*l-1)*Math.pow(2,a),s+=p):(r=t*Math.pow(2,p-1)*Math.pow(2,a),s=0));a>=8;e[i+u]=255&r,u+=m,r/=256,a-=8);for(s=s<<a|r,d+=a;d>0;e[i+u]=255&s,u+=m,s/=256,d-=8);e[i+u-m]|=128*g}},{}],7:[function(e,t,i){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],8:[function(e,t,i){!function(e){function i(){}function n(e,t){return function(){e.apply(t,arguments)}}function a(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function o(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,a._immediateFn(function(){var i=1===e._state?t.onFulfilled:t.onRejected;if(null===i)return void(1===e._state?s:r)(t.promise,e._value);var n;try{n=i(e._value)}catch(e){return void r(t.promise,e)}s(t.promise,n)})}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var i=t.then;if(t instanceof a)return e._state=3,e._value=t,void l(e);if("function"==typeof i)return void c(n(i,t),e)}e._state=1,e._value=t,l(e)}catch(t){r(e,t)}}function r(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&a._immediateFn(function(){e._handled||a._unhandledRejectionFn(e._value)});for(var t=0,i=e._deferreds.length;t<i;t++)o(e,e._deferreds[t]);e._deferreds=null}function d(e,t,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=i}function c(e,t){var i=!1;try{e(function(e){i||(i=!0,s(t,e))},function(e){i||(i=!0,r(t,e))})}catch(e){if(i)return;i=!0,r(t,e)}}var p=setTimeout;a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(i);return o(this,new d(e,t,n)),n},a.all=function(e){var t=Array.prototype.slice.call(e);return new a(function(e,i){function n(o,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var r=s.then;if("function"==typeof r)return void r.call(s,function(e){n(o,e)},i)}t[o]=s,0==--a&&e(t)}catch(e){i(e)}}if(0===t.length)return e([]);for(var a=t.length,o=0;o<t.length;o++)n(o,t[o])})},a.resolve=function(e){return e&&"object"==typeof e&&e.constructor===a?e:new a(function(t){t(e)})},a.reject=function(e){return new a(function(t,i){i(e)})},a.race=function(e){return new a(function(t,i){for(var n=0,a=e.length;n<a;n++)e[n].then(t,i)})},a._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){p(e,0)},a._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},a._setImmediateFn=function(e){a._immediateFn=e},a._setUnhandledRejectionFn=function(e){a._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=a:e.Promise||(e.Promise=a)}(this)},{}],9:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("./component"),d=n(l),c=e("deep-extend"),p=n(c),h=e("../helpers/html"),u='<div class="leadia_widget_bell">\n    <div class="leadia_widget_bell_icon"></div>\n    <div class="leadia_widget_bell_notif"></div>\n</div>',m=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a(this,t);var s={show_class:"leadia_widget_bell_show"};null===n&&(n=u),i=(0,p.default)({},s,i);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i,n));return e=r,o(r,e)}return s(t,e),r(t,[{key:"show",value:function(){this.element instanceof HTMLElement&&(0,h.addClass)(this.element,this.props.show_class)}},{key:"hide",value:function(){this.element instanceof HTMLElement&&(0,h.removeClass)(this.element,this.props.show_class)}}]),t}(d.default);i.default=m},{"../helpers/html":25,"./component":11,"deep-extend":4}],10:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=e("./component"),l=n(r),d=e("deep-extend"),c=n(d),p='<div class="<%= prefix %>_chat_preloader">\n    <style>\n        .<%= prefix %>_chat_preloader {\n            position: absolute;\n            z-index: 2;\n            top: 0px;\n            left: 0px;\n            width: 100%;\n            height: 100%;\n            display: block !important;\n          background: rgba(255,255,255,1);\n          }\n\n        .<%= prefix %>_chat_preloader .leadia-widget-writetext {\n            text-align: center;\n            position: absolute;\n            width: 100%;\n            top: 50%;\n            transform: translateY(-50%);\n        }\n\n\n        .cs-loader {\n            position: absolute;\n            top: 0;\n            left: 0;\n            height: 100%;\n            width: 100%;\n        }\n\n        .cs-loader-inner {\n            transform: translate3d(-50%, -50%, 0) !important;\n            top: 50%;\n            left: 50%;\n            position: relative;\n            width: calc(100% - 200px);\n            color: #3498db !important;\n            padding: 0 100px;\n            text-align: center !important;\n        }\n\n\n        .cs-loader-inner div.label {\n            font-size: 16px;\n            opacity: 0;\n            display: inline-block !important;\n            color: #3498db !important;\n        }\n\n        @keyframes lol {\n            0% {\n                opacity: 0;\n                transform: translateX(-100px);\n            }\n            33% {\n                opacity: 1;\n                transform: translateX(0px);\n            }\n            66% {\n                opacity: 1;\n                transform: translateX(0px);\n            }\n            100% {\n                opacity: 0;\n                transform: translateX(100px);\n            }\n        }\n\n        @-webkit-keyframes lol {\n            0% {\n                opacity: 0;\n                -webkit-transform: translateX(-100px);\n            }\n            33% {\n                opacity: 1;\n                -webkit-transform: translateX(0px);\n            }\n            66% {\n                opacity: 1;\n                -webkit-transform: translateX(0px);\n            }\n            100% {\n                opacity: 0;\n                -webkit-transform: translateX(100px);\n            }\n        }\n\n        .cs-loader-inner div.label:nth-child(6) {\n            -webkit-animation: lol 3s infinite ease-in-out;\n            animation: lol 3s infinite ease-in-out;\n        }\n\n        .cs-loader-inner div.label:nth-child(5) {\n            -webkit-animation: lol 3s 100ms infinite ease-in-out;\n            animation: lol 3s 100ms infinite ease-in-out;\n        }\n\n        .cs-loader-inner div.label:nth-child(4) {\n            -webkit-animation: lol 3s 200ms infinite ease-in-out;\n            animation: lol 3s 200ms infinite ease-in-out;\n        }\n\n        .cs-loader-inner div.label:nth-child(3) {\n            -webkit-animation: lol 3s 300ms infinite ease-in-out;\n            animation: lol 3s 300ms infinite ease-in-out;\n        }\n\n        .cs-loader-inner div.label:nth-child(2) {\n            -webkit-animation: lol 3s 400ms infinite ease-in-out;\n            animation: lol 3s 400ms infinite ease-in-out;\n        }\n\n        .cs-loader-inner div.label:nth-child(1) {\n            -webkit-animation: lol 3s 500ms infinite ease-in-out;\n            animation: lol 3s 500ms infinite ease-in-out;\n        }\n    </style>\n\n    <div class="leadia-widget-writetext" style="text-align: center;">\n        <div class="cs-loader-inner">\n            <div class="label">\t●</div>\n            <div class="label">\t●</div>\n            <div class="label">\t●</div>\n            <div class="label">\t●</div>\n            <div class="label">\t●</div>\n            <div class="label">\t●</div>\n        </div>\n        <div class="leadia_msg_time leadia_msg_typemessage"><%= locale.chat.connect %></div>\n    </div>\n\n</div>\n',h=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a(this,t);var s={locale:{chat:{connect:"Соединяем с оператором"}}};null===n&&(n=p),i=(0,c.default)({},s,i),i.prefix=i.prefix.replace(".","");var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i,n));return e=r,o(r,e)}return s(t,e),t}(l.default);i.default=h},{"./component":11,"deep-extend":4}],11:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("events"),d=n(l),c=e("deep-extend"),p=n(c),h=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];a(this,t);var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s.layout=n,s.props=i,s.element=s.render(s.props),setTimeout(function(){return s.emit("render",s.element)},0),e=s,o(s,e)}return s(t,e),r(t,[{key:"render",value:function(){if(!this.layout||0===this.layout.length)return this;var e=document.createElement("div"),t=window.leadiaCloud.underscore.template(this.layout);this.template=t(this.props),e.innerHTML=this.template;var i=e.firstElementChild;return e.removeChild(i),i}},{key:"mount",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e instanceof HTMLElement&&this.element instanceof HTMLElement&&(null!==i&&"prepend"===i?e.insertBefore(this.element,e.firstChild):e.appendChild(this.element),setTimeout(function(){return t.emit("mount",t.element)},0),this.status="mount"),this}},{key:"unmount",value:function(){var e=this;return this.element instanceof HTMLElement&&this.element.parentNode&&this.element.parentNode instanceof HTMLElement&&(this.element.parentNode.removeChild(this.element),setTimeout(function(){return e.emit("unmount",e.element)},0),this.status="unmount"),this}},{key:"show",value:function(){this.element instanceof HTMLElement&&this.element.style.setProperty("display","block","important")}},{key:"hide",value:function(){this.element instanceof HTMLElement&&this.element.style.setProperty("display","none","important")}},{key:"update",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.props=(0,p.default)({},this.props,t);var i=this.render();return this.element.parentNode instanceof HTMLElement&&this.element.parentNode.replaceChild(i,this.element),this.element=i,setTimeout(function(){return e.emit("render",e.element)},0),setTimeout(function(){return e.emit("update")},0),this}},{key:"enable",value:function(){var e=this;this.disabled=!1;for(var t=this.element.querySelectorAll("input, select, textarea"),i=0,n=t.length;i<n;i++)t[i].removeAttribute("disabled");return setTimeout(function(){return e.emit("enable")},0),this}},{key:"disable",value:function(){var e=this;this.disabled=!0;for(var t=this.element.querySelectorAll("input, select, textarea"),i=0,n=t.length;i<n;i++)t[i].setAttribute("disabled","disabled");return setTimeout(function(){return e.emit("disable")},0),this}}]),t}(d.default.EventEmitter);i.default=h},{"deep-extend":4,events:5}],12:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=e("./form"),l=n(r),d=e("deep-extend"),c=n(d),p='<div class="leadia_widget_msg leadia-widget-message-block leadia-widget-message-me">\n    <div class="msg_wrap">\n        <div class="leadia-widget-message-text">\n            <div class="leadia-widget-message-text"><%- title %></div>\n            <% if (!onlytext) { %>\n            <div class="leadia_msg_checkboxes">\n                <% if (!!fields.phone.visible) { %>\n                <div class="leadia_msg_checkbox_row" data-block-label="true">\n                    <input type="checkbox" class="leadia_msg_checkbox"\n                    <% if (!!fields.phone.checked) { %>\n                        checked="checked"\n                    <% } %>\n                    data-form-field="phone"/> <%= locale.by_phone %>\n                </div>\n                <% } %>\n                <% if (!!fields.email.visible) { %>\n                <div class="leadia_msg_checkbox_row" data-block-label="true">\n                    <input type="checkbox" class="leadia_msg_checkbox"\n                    <% if (!!fields.email.checked) { %>\n                    checked="checked"\n                    <% } %>\n                    data-form-field="email"/> <%= locale.by_email %>\n                </div>\n                <% } %>\n            </div>\n            <div class="leadia_element_center">\n                <div class="leadia_widget_button_in_chat" id="checkboxBtnNext" data-widget-button="submit"><%= locale.btns.next %></div>\n            </div>\n            <% } %>\n        </div>\n        <div class="msg_wrap_corner"></div>\n    </div>\n    <div class="leadia_msg_time" data-time="<%= time %>"><%= locale.time_since.now %></div>\n</div>',h=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a(this,t);var s={title:"",fields:{phone:{checked:0,visible:0},email:{checked:0,visible:0}},time:new Date,locale:{time_since:{now:" сейчас"}},onlytext:!1};n="string"==typeof n?n:p,i=(0,c.default)({},s,i);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i,n));return r.on("render",function(e){var t=e.querySelectorAll('[data-block-label="true"]');if(t instanceof NodeList)for(var i=0,n=t.length;i<n;i++)t[i].addEventListener("click",function(e){if(r.disabled)return!1;var t=e.target.querySelector('input[type="checkbox"]');t&&(t.checked=!t.checked)},!1)}),e=r,o(r,e)}return s(t,e),t}(l.default);i.default=h},{"./form":13,"deep-extend":4}],13:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=e("./component"),l=function(e){return e&&e.__esModule?e:{default:e}}(r),d=function(e){function t(e,i){var o;n(this,t);var s=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return s.on("render",function(e){for(var t=e.querySelectorAll('input[type="text"]'),i=e.querySelectorAll('input[type="text"][data-widget-autocomplete]'),n=e.querySelectorAll('[data-widget-button="submit"]'),a=0,o=n.length;a<o;a++)n[a].addEventListener("click",function(){if(s.disabled)return!1;s.emit("submit",s.getFormData())},!1);for(var r=0,l=t.length;r<l;r++)t[r].addEventListener("keydown",function(e){if(s.disabled)return!1;13===(e.which||e.keyCode)&&s.emit("submit",s.getFormData())},!1);for(var d=0,c=i.length;d<c;d++)!function(e,t){var n=i[e],a=n.getAttribute("data-widget-autocomplete");document.createElement("iframe").src="",window.addEventListener("message",function(e){if(e.data.id!==a)return!1},!1),n.addEventListener("focus",function(){},!1)}(d)}),o=s,a(s,o)}return o(t,e),s(t,[{key:"getFormData",value:function(){for(var e={},t=this.element.querySelectorAll("input[data-form-field], select[data-form-field], textarea[data-form-field]"),i=0,n=t.length;i<n;i++){var a=t[i],o=a.getAttribute("data-form-field");if(o)switch(a.tagName.toLowerCase()){case"input":switch((a.type||"text").toLowerCase()){case"checkbox":e[o]=a.checked;break;default:e[o]=a.value}break;default:e[o]=a.value}}return e}}]),t}(l.default);i.default=d},{"./component":11}],14:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=e("./component"),l=n(r),d=e("deep-extend"),c=n(d),p=e("../../.env.json"),h=n(p),u='<iframe src="<%= src %>" name="<%= name %>" class="<%= className %>" frameborder="0" height="100%" width="100%"\n        style="position: absolute;z-index: 1;top: 0;left: 0; display: none; width:100%!important; height:100% !important; right:0px; bottom:0px;"></iframe>',m=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a(this,t);var s={src:h.default.iframeUrl,name:"chatclient.venew.io",className:"venyoo-chat-iframe js-venyoo-chat",width:"100%",height:"100%"};i=(0,c.default)({},s,i),null===n&&(n=u);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i,n));return e=r,o(r,e)}return s(t,e),t}(l.default);i.default=m},{"../../.env.json":1,"./component":11,"deep-extend":4}],15:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=e("./component"),l=n(r),d=e("deep-extend"),c=n(d),p='<% if (isMe) { %>\n<div class="leadia_widget_msg leadia-widget-message-block leadia-widget-message-me">\n<% } else { %>\n<div class="leadia_widget_msg leadia-widget-message-block leadia_user_msg">\n<% } %>\n    <div class="msg_wrap">\n        <div class="leadia-widget-message-text <% print(isHtml ? \'message-with-html\': \'message-without-html\' ) %>" data-block-message="true"><% if (isHtml) { %><%= text %><% } else { %><%- text %><% } %></div>\n        <div class="msg_wrap_corner"></div>\n    </div>\n    <div class="leadia_msg_time" data-time="<%= time %>"><%= locale.time_since.now %></div>\n</div>',h=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a(this,t);var s={text:"",time:new Date,locale:{time_since:{now:" Только что"}},isMe:!1,isHtml:!1,link_is_active:!1};n="string"==typeof n?n:p,i=(0,c.default)({},s,i);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i,n));return r.on("render",function(e){if(r.props.link_is_active){if(!(e instanceof HTMLElement))return r;var t=e.querySelector('[data-block-message="true"]');t instanceof HTMLElement&&(t.innerHTML=t.textContent.replace(/((https?):\/\/[\w.?&=#+-_%]+)+/g,'<a style="color:#1a0dab" target="_blank" href="$1">$1</a>'))}}),e=r,o(r,e)}return s(t,e),t}(l.default);i.default=h},{"./component":11,"deep-extend":4}],16:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("./form"),d=n(l),c=e("deep-extend"),p=n(c),h=e("../helpers/utils"),u=n(h),m='<div class="leadia_widget_msg leadia-widget-message-block leadia-widget-message-me">\n    <div class="msg_wrap social_greeting">\n        <div class="leadia-widget-message-text" data-slide-step="step_one">\n            <div data-block="title" class="sg_title"><%= locale.social.title %></div>\n            <div class="sg_buttons_wrap">\n\t\t\t\t<% for (var item in buttons) { %>\n                    <% if (!buttons.hasOwnProperty(item)) continue; %>\n\t\t\t\t\t<img class="sg_button <%= buttons[item].className %>" src="<%- buttons[item].img %>" data-service="<%- buttons[item].service %>" data-button="true" />\n\t\t\t\t<% } %>\n\t\t\t</div>\n            <div class="sg_action_ctn">\n                <div class="sg_skip_step" data-widget-button="submit"><%= locale.social.skip %></div>\n            </div>\n        </div>\n        <div data-slide-step="step_two">\n            <div data-block="title" class="sg_title"><%= locale.social.greeting %></div>\n            <div data-block="photo" style="text-align: center"></div>\n            \x3c!-- <div class="sg_action_ctn">\n                <div class="sg_skip_step" data-slide-step-goto="step_one" data-widget-button="slide">Это не вы?</div>\n            </div> --\x3e\n        </div>\n        <div class="msg_wrap_corner"></div>\n    </div>\n    <div class="leadia_msg_time" data-time="<%= time %>"><%= locale.time_since.now %></div>\n</div>',g=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a(this,t);var n={title:"Представьтесь, пожалуйста. Авторизируйтесь через одну из соцсетей.",time:new Date,locale:{social:{title:"Представьтесь, пожалуйста. Авторизируйтесь через одну из соцсетей.",skip:"Представиться позже →",greeting:"Приятно познакомиться."},time_since:{now:" сейчас"}},active_step:"step_one",data:{},popup:{width:660,height:420},fields:["first_name","last_name","email","phone","city","photo"],buttons:[{service:"vk",img:"https://133921.selcdn.ru/widget/img/social/svg/vk.svg",className:"lwi_vk"},{service:"ok",img:"https://133921.selcdn.ru/widget/img/social/svg/odk.svg",className:"lwi_odk"},{service:"fb",img:"https://133921.selcdn.ru/widget/img/social/svg/fb.svg",className:"lwi_fb"},{service:"mailru",img:"https://133921.selcdn.ru/widget/img/social/svg/mailru.svg",className:"lwi_mailru"}],social_params:""};e=(0,p.default)({},n,e),i=i||m;var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return s.props=e,s.on("render",function(e){if(e instanceof HTMLElement){var t=e.querySelectorAll('[data-button="true"]');if(t instanceof NodeList)for(var i=0,n=t.length;i<n;i++)!function(e,i){t[e].addEventListener("click",function(i){if(s.disabled)return!1;var n=t[e].getAttribute("data-service");setTimeout(function(){return s.emit("social_button_click",n)},0),s.openWindow(n)},!1)}(i);var a=e.querySelectorAll('[data-widget-button="slide"]'),o=e.querySelectorAll("[data-slide-step]");if(a instanceof NodeList)for(var i=0,n=a.length;i<n;i++)!function(e,t){a[e].addEventListener("click",function(){if(!s.disabled){var t=a[e].getAttribute("data-slide-step-goto");s.emit("slide-next-step-call",t),s.gotoSlideStep(t)}},!1)}(i);if(o instanceof NodeList)for(var i=0,n=o.length;i<n;i++)o[i].style.display="none";s.gotoSlideStep(s.props.active_step,s.props.data)}}),removeEventListener("message",s.messageData.bind(s),!1),s.addListener(),s}return s(t,e),r(t,[{key:"clearIntervalCallback",value:function(){window.clearInterval(this.windowInterval),this.win=null,this.selected_service=""}},{key:"openWindow",value:function(e){var t=this;this.disabled||(this.win?this.selected_service!==e?(this.win&&this.win.close(),this.clearIntervalCallback(),this.openWindow(e)):this.win.focus():(this.win=window.open("https://venyoo.ru/auth/"+e+"?fields="+this.props.fields.join(",")+this.props.social_params+"&type=iframe","venyoo_window","width="+this.props.popup.width+",height="+this.props.popup.height+",left="+(screen.width-this.props.popup.width)/2+",top="+(screen.height-this.props.popup.height)/2+",menubar=0,status=0,titlebar=0"),this.windowInterval=window.setInterval(function(){!1!==t.win.closed&&(t.clearIntervalCallback(),t.emit("social_block_closed"))},300)),this.selected_service=e)}},{key:"addListener",value:function(){this.disabled||(addEventListener?addEventListener("message",this.messageData.bind(this),!1):attachEvent("onmessage",this.messageData.bind(this)))}},{key:"messageData",value:function(e){if(!this.disabled&&u.default.isJson(e.data)){var t=JSON.parse(e.data);switch(t.name){case"received_data":"success"===t.status&&(this.responseData=t.result,this.emit("auth_info_received",t.result)),this.win&&this.win.close()}}}},{key:"gotoSlideStep",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.disabled){var i=this.element.querySelector('[data-slide-step="'+e+'"]'),n=this.element.querySelector('[data-slide-step="'+this.props.active_step+'"]');if(i instanceof HTMLElement&&n instanceof HTMLElement){if(Object.keys(t).length>0&&(t.title&&(i.querySelector('[data-block="title"]').textContent=t.title),t.photo)){var a=i.querySelector('[data-block="photo"]');-1===t.photo.indexOf("vk.com/images/camera_50.png")&&-1===t.photo.indexOf("ulogin.ru/img/photo.png")&&(a.innerHTML='<img src="'+t.photo+'" alt="avatar" class="lw_socialstepsecond_photo">')}n.style.display="none",i.style.display="block",this.props.active_step=e}}}}]),t}(d.default);i.default=g},{"../helpers/utils":27,"./form":13,"deep-extend":4}],17:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("./component"),d=n(l),c=e("deep-extend"),p=n(c),h=e("promise-polyfill"),u=n(h);window.Promise||(window.Promise=u.default);var m=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a(this,t);var s={sound:"https://133921.selcdn.ru/widget/audio/pop2.mp3",preload:"auto",autoplay:"false"};i=(0,p.default)({},s,i);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i,n)),l=document.createElement("audio");return l.src=r.props.sound,l.setAttribute("preload","auto"),l.setAttribute("autiplay","false"),r.audio=l,e=r,o(r,e)}return s(t,e),r(t,[{key:"play",value:function(){
if(!(this.audio instanceof HTMLMediaElement))return this;this.audio.play()}},{key:"pause",value:function(){if(!(this.audio instanceof HTMLMediaElement))return this;this.audio.pause()}},{key:"stop",value:function(){if(!(this.audio instanceof HTMLMediaElement))return this;this.pause(),this.audio.currentTime=0}}]),t}(d.default);i.default=m},{"./component":11,"deep-extend":4,"promise-polyfill":8}],18:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=e("./component"),l=n(r),d=e("deep-extend"),c=n(d),p='<div>\n\n    <style>\n\n        .spinner_wrap {\n            height: 100%;\n            width: 100%;\n            position: absolute;\n            top: 0;\n            left: 0;\n            background: rgba(255,255,255,0.9);\n            z-index: 1;\n        }\n\n        .cs-loader {\n            position: absolute;\n            top: 0;\n            left: 0;\n            height: 100%;\n            width: 100%;\n        }\n\n        .cs-loader-inner {\n            transform: translate3d(-50%, -50%, 0) !important;\n            top: 50%;\n            left: 50%;\n            position: relative;\n            width: calc(100% - 200px);\n            color: #3498db !important;\n            padding: 0 100px;\n            text-align: center !important;\n        }\n\n        /*.wn-loader-text {*/\n            /*position: absolute;*/\n            /*top: 50%;*/\n            /*left: 50%;*/\n            /*transform: translate3d(-50%, -50%, 0);*/\n            /*padding-bottom: 40px !important;*/\n            /*color: #7F7F7F !important;*/\n            /*width: 100%;*/\n            /*text-align: center !important;*/\n\n        /*}*/\n\n        .cs-loader-inner div.label {\n            font-size: 16px;\n            opacity: 0;\n            display: inline-block !important;\n            color: #3498db !important;\n        }\n\n        @keyframes lol {\n            0% {\n                opacity: 0;\n                transform: translateX(-100px);\n            }\n            33% {\n                opacity: 1;\n                transform: translateX(0px);\n            }\n            66% {\n                opacity: 1;\n                transform: translateX(0px);\n            }\n            100% {\n                opacity: 0;\n                transform: translateX(100px);\n            }\n        }\n\n        @-webkit-keyframes lol {\n            0% {\n                opacity: 0;\n                -webkit-transform: translateX(-100px);\n            }\n            33% {\n                opacity: 1;\n                -webkit-transform: translateX(0px);\n            }\n            66% {\n                opacity: 1;\n                -webkit-transform: translateX(0px);\n            }\n            100% {\n                opacity: 0;\n                -webkit-transform: translateX(100px);\n            }\n        }\n\n        .cs-loader-inner div.label:nth-child(6) {\n            -webkit-animation: lol 3s infinite ease-in-out;\n            animation: lol 3s infinite ease-in-out;\n        }\n\n        .cs-loader-inner div.label:nth-child(5) {\n            -webkit-animation: lol 3s 100ms infinite ease-in-out;\n            animation: lol 3s 100ms infinite ease-in-out;\n        }\n\n        .cs-loader-inner div.label:nth-child(4) {\n            -webkit-animation: lol 3s 200ms infinite ease-in-out;\n            animation: lol 3s 200ms infinite ease-in-out;\n        }\n\n        .cs-loader-inner div.label:nth-child(3) {\n            -webkit-animation: lol 3s 300ms infinite ease-in-out;\n            animation: lol 3s 300ms infinite ease-in-out;\n        }\n\n        .cs-loader-inner div.label:nth-child(2) {\n            -webkit-animation: lol 3s 400ms infinite ease-in-out;\n            animation: lol 3s 400ms infinite ease-in-out;\n        }\n\n        .cs-loader-inner div.label:nth-child(1) {\n            -webkit-animation: lol 3s 500ms infinite ease-in-out;\n            animation: lol 3s 500ms infinite ease-in-out;\n        }\n    </style>\n\n    <div class="leadia-widget-writetext" style="text-align: center;">\n        <div class="cs-loader-inner">\n            <div class="label">\t●</div>\n            <div class="label">\t●</div>\n            <div class="label">\t●</div>\n            <div class="label">\t●</div>\n            <div class="label">\t●</div>\n            <div class="label">\t●</div>\n        </div>\n        <div class="leadia_msg_time leadia_msg_typemessage"><%= locale.chat.connect %></div>\n    </div>\n</div>',h=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a(this,t);var s={locale:{chat:{connect:"Соединяем с оператором"}}};null===n&&(n=p),i=(0,c.default)({},s,i);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i,n));return e=r,o(r,e)}return s(t,e),t}(l.default);i.default=h},{"./component":11,"deep-extend":4}],19:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=e("./form"),l=n(r),d=e("deep-extend"),c=n(d),p='<div class="leadia_widget_msg leadia-widget-message-block leadia-widget-message-me">\n    <div class="msg_wrap">\n        <div class="leadia-widget-message-text">\n            <div style="width: 241px;">\n                <% if(image) { %>\n                <div class="success_send" style="background: url(\'<%= image %>\') no-repeat; height: 72px; width: 72px;"></div>\n                <% } %>\n                <div class="widget_thankyoupage_text"><%= text %></div>\n\n                <% if (!buttonHide) { %>\n                <div class="leadia_element_center" style="margin-top: 10px;">\n                    <div class="leadia_widget_button_in_chat" data-widget-button="repeat"><%= locale.btns.ask_again %></div>\n                </div>\n                <% } %>\n            </div>\n        </div>\n        <div class="msg_wrap_corner"></div>\n    </div>\n    <div class="leadia_msg_time" data-time="<%= time %>"><%= locale.time_since.now %></div>\n</div>',h=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a(this,t);var n={image:"https://133921.selcdn.ru/widget/system/gala_72.png",text:"Спасибо, что обратились к нам. В ближайшее время мы свяжемся с вами.",time:new Date,locale:{btns:{ask_again:"Спросить снова"},time_since:{now:" сейчас"}},buttonHide:!1};i="string"==typeof i?i:p,e=(0,c.default)({},n,e);var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return s.on("render",function(e){var t=e.querySelector('[data-widget-button="repeat"]');t instanceof HTMLElement&&t.addEventListener("click",function(){if(s.disabled)return!1;s.emit("repeat")},!1)}),s}return s(t,e),t}(l.default);i.default=h},{"./form":13,"deep-extend":4}],20:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=e("./component"),l=n(r),d=e("deep-extend"),c=n(d),p='<div class="leadia-widget-writetext">\n    <div class="loader-inner ball-pulse-sync">\n        <div></div>\n        <div></div>\n        <div></div>\n    </div>\n    <div class="leadia_msg_time leadia_msg_typemessage"><%- text %></div>\n</div>',h=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a(this,t);var s={text:"Подождите, вам пишут сообщение"};n="string"==typeof n?n:p,i=(0,c.default)({},s,i);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i,n));return e=r,o(r,e)}return s(t,e),t}(l.default);i.default=h},{"./component":11,"deep-extend":4}],21:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=e("./component"),l=n(r),d=e("deep-extend"),c=n(d),p='<div class="leadia_widget_msg leadia-widget-message-block leadia_user_msg">\n    <div class="msg_wrap user_msg">\n        <div class="leadia-widget-message-text" data-content="true"><%- text %></div>\n        <div class="msg_wrap_corner"></div>\n        <div class="leadia-widget-edit" data-content-editable="true">\n            <div class="leadia-widget-edit-icon"></div>\n            <%= locale.edit_message %>\n        </div>\n    </div>\n</div>',h=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a(this,t);var s={text:"",locale:{edit_message:"Редактировать"}};n="string"==typeof n?n:p,i=(0,c.default)({},s,i);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i,n));return r.on("render",function(e){var t=e.querySelector('[data-content="true"]'),i=e.querySelector('[data-content-editable="true"]');t instanceof HTMLElement&&i instanceof HTMLElement&&(i.addEventListener("click",function(e){if(e.preventDefault(),r.disabled)return!1;if(t.setAttribute("contenteditable","true"),i.style.setProperty("display","none","important"),t.focus(),void 0!==window.getSelection&&void 0!==document.createRange){var n=document.createRange();n.selectNodeContents(t),n.collapse(!1);var a=window.getSelection();a.removeAllRanges(),a.addRange(n)}else if(void 0!==document.body.createTextRange){var o=document.body.createTextRange();o.moveToElementText(t),o.collapse(!1),o.select()}r.emit("focus")}),t.addEventListener("blur",function(e){e.preventDefault();var n=t.innerText.trim();t.removeAttribute("contenteditable"),i.style.setProperty("display","block","important"),n.length?r.props.text!==n&&(r.props.text=n,r.emit("change")):t.innerText=r.props.text,t.innerText=r.props.text,r.emit("blur")},!1),t.addEventListener("keypress",function(e){if(13===(e.which||e.keyCode)){e.preventDefault();var n=t.innerText.trim();if(!n.length)return!1;t.removeAttribute("contenteditable"),i.style.setProperty("display","block","important"),r.props.text!==n&&(r.props.text=n,r.emit("change"))}}),t.addEventListener("paste",function(e){e.preventDefault();var t=void 0,i=(e.originalEvent||e).clipboardData;if(void 0===i||null===i){if(t=window.clipboardData.getData("text")||"",t.trim().length>0)if(window.getSelection){var n=document.createElement("span");n.innerHTML=t,window.getSelection().getRangeAt(0).insertNode(n)}else document.selection.createRange().pasteHTML(t)}else t=i.getData("text/plain"),t.trim().length>0&&document.execCommand("insertHTML",!1,t);r.emit("paste")},!1))}),e=r,o(r,e)}return s(t,e),t}(l.default);i.default=h},{"./component":11,"deep-extend":4}],22:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=e("./utils"),s=function(){function e(t){return n(this,e),void 0===t&&(t="lv:widget::"),this.prefix=t,this}return a(e,[{key:"active",value:function(){try{return void 0!==e&&window.localStorage}catch(e){return!1}}},{key:"item",value:function(e){return this.prefix+e}},{key:"get",value:function(e){return this.active()?localStorage.getItem(this.item(e)):null}},{key:"set",value:function(e,t){return this.active()?localStorage.setItem(this.item(e),t):null}},{key:"getJSON",value:function(e){if(this.active()){var t=this.get(e);if(t&&(0,o.isJson)(t))return JSON.parse(t)}return null}},{key:"setJSON",value:function(e,t){return this.active()?this.set(e,(0,o.JSONSstringify)(t)):null}},{key:"remove",value:function(e){return this.active()?localStorage.removeItem(this.item(e)):null}},{key:"clear",value:function(){var e=this;this.active()&&Object.keys(localStorage).forEach(function(t){new RegExp(e.prefix,"g").test(t)&&localStorage.removeItem(t)})}}]),e}();i.default=s},{"./utils":27}],23:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("promise-polyfill"),a=function(e){return e&&e.__esModule?e:{default:e}}(n);window.Promise||(window.Promise=a.default),i.default={getRequest:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments[4];return new a.default(function(a,s){var r=new XMLHttpRequest;if(r.open(t,e),o&&(r.timeout=6e3),Object.keys(i).length>0)for(var l in i)i.hasOwnProperty(l)&&r.setRequestHeader(l,i[l]);r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.onload=function(){this.status>=200&&this.status<300?a(r.response):s({status:this.status,statusText:r.statusText})},r.onerror=function(){s({status:this.status,statusText:r.statusText})},o&&(r.ontimeout=function(e){console.log("test123",e),a({status:!1,statusText:r.statusText})}),r.send(n)})}}},{"promise-polyfill":8}],24:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n(this,e),this.counter=t.counter||0,this.errstack=[],this.init(),this}return a(e,[{key:"init",value:function(){var e=this;return 0===this.counter?this:(window.addEventListener("error",function(t){if(window.JSON&&!~e.errstack.indexOf(t.message)){e.errstack.push(t.message);var i={},n=i,a=t.error&&t.error.stack,o=["JS errors",t.message,a?"stack: "+a:"filename: "+t.filename+":"+t.lineno+":"+t.colno,"href: "+location.href],s=void 0,r=void 0;for(s=0,r=o.length-1;s<r;s++)n=n[o[s]]={};n[o[s]]=1;var l="https://mc.yandex.ru/watch/"+e.counter+"/?site-info="+encodeURIComponent(JSON.stringify(i))+"&rn="+Math.random();"function"==typeof navigator.sendBeacon?navigator.sendBeacon(l," "):(new Image).src=l}}),this)}}]),e}();i.default=o},{}],25:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},a=function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)},o=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")};i.addClass=n,i.hasClass=a,i.removeClass=o},{}],26:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=e("./utils"),s=function(){function e(t){return n(this,e),void 0===t&&(t="lv:widget::"),this.prefix=t,this}return a(e,[{key:"active",value:function(){try{return void 0!==e&&window.localStorage}catch(e){return!1}}},{key:"item",value:function(e){return this.prefix+e}},{key:"get",value:function(e){return this.active()?localStorage.getItem(this.item(e)):null}},{key:"set",value:function(e,t){return this.active()?localStorage.setItem(this.item(e),t):null}},{key:"getJSON",value:function(e){if(this.active()){var t=this.get(e);if(t&&(0,o.isJson)(t))return JSON.parse(t)}return null}},{key:"setJSON",value:function(e,t){return this.active()?this.set(e,(0,o.JSONSstringify)(t)):null}},{key:"remove",value:function(e){return this.active()?localStorage.removeItem(this.item(e)):null}},{key:"clear",value:function(){var e=this;this.active()&&Object.keys(localStorage).forEach(function(t){new RegExp(e.prefix,"g").test(t)&&localStorage.removeItem(t)})}}]),e}();i.default=s},{"./utils":27}],27:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(e,t){return Math.floor(Math.abs(t.getTime()-e.getTime())/864e5)},a=function(e){if(null===e)return!1;try{JSON.parse(e)}catch(e){return!1}return!0},o=function(){var e=new Date,t=e.getMilliseconds(),i=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)+t};return i()+i()+"-"+i()+"-"+i()+"-"+i()+"-"+i()+i()+i()},s=function(e){if(window.Prototype){var t=window.Prototype.Version;if(t[0]&&t[0]<=1&&t[1]&&t[1]<7){var i=Array.prototype.toJSON,n=void 0;return delete Array.prototype.toJSON,n=JSON.stringify(e),Array.prototype.toJSON=i,n}}return JSON.stringify(e)};i.isJson=a,i.amountDaysBetweenTwoDates=n,i.guuid=o,i.JSONSstringify=s,i.default={guuid:function(){var e=new Date,t=e.getMilliseconds(),i=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)+t};return i()+i()+"-"+i()+"-"+i()+"-"+i()+"-"+i()+i()+i()},sendGoal:function(e){try{for(var t in window)if(window.hasOwnProperty(t)&&-1!=t.indexOf("yaCounter")){var i=window[t];i.reachGoal(e)}}catch(e){console.log(e)}},isJson:function(e){try{JSON.parse(e)}catch(e){return!1}return!0}}},{}],28:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=e("./modules/chat/chat"),o=n(a),s=e("./component/spinner"),r=n(s),l=e("./component/typing"),d=n(l),c=e("./component/message"),p=n(c),h=e("./component/sound"),u=n(h),m=e("./component/user-message"),g=n(m),f=e("./component/feedback-selection"),_=n(f),w=e("./component/thankyou-page"),b=n(w),v=e("./helpers/storage"),y=n(v),x=e("./component/bell"),k=n(x),S=e("./helpers/errorlog"),T=n(S),E=e("./modules/timeline/timeline"),z=n(E),M=e("./modules/flip/flip"),A=n(M),O=e("deep-extend"),C=n(O),L=e("./component/social-auth"),j=n(L);window.leadiaCloud||(window.leadiaCloud={}),window.leadiaCloud.components={Typing:d.default,Message:p.default,Sound:u.default,UserMessage:g.default,FeedbackSelection:_.default,ThankyouPage:b.default,utils:{LS:y.default,deepExtend:C.default},Spinner:r.default,Bell:k.default,Chat:o.default,ErrorLog:T.default,TimeLine:z.default,Flip:A.default,SocialAuth:j.default}},{"./component/bell":9,"./component/feedback-selection":12,"./component/message":15,"./component/social-auth":16,"./component/sound":17,"./component/spinner":18,"./component/thankyou-page":19,"./component/typing":20,"./component/user-message":21,"./helpers/errorlog":24,"./helpers/storage":26,"./modules/chat/chat":29,"./modules/flip/flip":30,"./modules/timeline/timeline":31,"deep-extend":4}],29:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("events"),d=n(l),c=e("../../component/iframe"),p=n(c),h=e("../../helpers/utils"),u=e("../../helpers/Storage"),m=n(u),g=e("deep-extend"),f=n(g),_=e("../../helpers/ajax"),w=n(_),b=e("../../component/sound"),v=n(b),y=e("../../component/chat-spinner"),x=n(y),k=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));i.props=e,i.props.iframe||(i.props.iframe={});var n={test_local_chat:{url:"http://localhost:8080",iframeUrl:"http://localhost:4005/client.html"},test_chat:{url:"http://testchatclient.venew.io",iframeUrl:"http://testchatclient.venew.io/chat_client/websocket-chat/client/build/client.html?v=0.2"},production:{url:"//chatclient.venew.io",iframeUrl:"//chatclient.venew.io/chat_client/websocket-chat/client/build/client.html"}};i.url=n.production.url,i.props.iframe.src=n.production.iframeUrl,e.test_chat&&(i.url=n.test_chat.url,i.props.iframe.src=n.test_chat.iframeUrl),e.test_local_chat&&(i.url=n.test_local_chat.url,i.props.iframe.src=n.test_local_chat.iframeUrl),i.timer=null,i.props=e,i.storage=new m.default(i.props.prefix),i.storage.roomName="roomId",i.storage.timeoutStatus="timeoutStatus",i.storage.geo="geo",i.storage.referrer="referrer",i.storage.adminInitChat="adminInitChat",i.storage.sendedRobotMessages="sendedRobotMessages",i.chatAlreadyShowed=!1,i.initCustomSystemMessages();var s=["city","category","webmasterId","url"];try{for(var r in s)if(s.hasOwnProperty(r)&&void 0===i.props[s[r]])throw new Error("Field ,,"+s[r]+",, is required");i.initialized=!0}catch(e){i.initialized=!1,console.log(e.message)}return i.on("widgetPlaced",function(){i.storage.get(i.storage.adminInitChat)&&i.mountChatSpinner()}),i.attachStartChatEvents=function(e){var t=this;if((0,h.isJson)(e.data)){var i=JSON.parse(e.data);switch(i.type){case"openRoom":this.systemMsg||(this.systemMsg=!0,this.emit("listenSystemMessage"),this.needToResendRobotMessages&&this.resendRobotMessages(),this.updateGeoDates(this.getRoom().id)),this.chatSpinner&&this.chatSpinner.element instanceof HTMLElement&&this.chatSpinner.hide();break;case"chatLoaded":this.emit("chatLoaded");var n=this.getRoom().id;this.chatInitialized=!0,this.emit("chatInitialized"),this.roomIdExist()||(n=this.setRoomId());var a=JSON.parse(this.storage.get(this.storage.sendedRobotMessages)),o=JSON.stringify({type:"openNewChat",roomId:n,msg:this.props.iframeInitMessage,robotMessages:a||this.props.robotMessages,robotMessagesAlreadySended:a,data:{url:window.location.href,wid:this.props.webmasterid||2,referer:this.getReferrer(),form_page:window.location.host,client_ip:this.props.client_ip,first_page:{href:document.location.href,title:document.title},coldpopup_trigger:this.props.coldpopup_trigger},projectId:this.props.projectId,profileId:this.props.profileId,locale:this.props.locale,button_bg:this.props.button_bg});this.sendPostMessage(o),this.updateGeoDates(n),this.storage.get(this.storage.timeoutStatus)||this.props.adminInitChat?this.showRoom():this.props.timeout_enabled&&(this.timer=setTimeout(function(){clearTimeout(t.timer),t.timer=null,t.timer=setTimeout(function(){t.closeChatRoom()},3e3),t.sendPostMessage(JSON.stringify({type:"closeChat",roomId:n}),"*"),t.storage.remove(t.storage.roomName)},1e3*(isNaN(parseInt(this.props.waiting_timeout))?60:parseInt(this.props.waiting_timeout))));break;case"maximizeWidget":this.emit("maximizeWidget");break;case"closeRoom":this.closeChatRoom(i);break;case"adminSelectChat":try{clearTimeout(this.timer),this.timer=null,this.storage.set(this.storage.timeoutStatus,!0),this.showRoom()}catch(e){}break;case"receivedAdminMessage":this.sound||(this.sound=new v.default),this.sound.play(),this.emit("newmessage")}}},i.attachStartChatEventsHandler=i.attachStartChatEvents.bind(i),i.attachSocketOpenEvents=function(e){if((0,h.isJson)(e.data)){var t=JSON.parse(e.data);switch(t.type){case"openRoom":this.systemMsg||(this.systemMsg=!0,this.emit("listenSystemMessage"),this.updateGeoDates(this.getRoom().id));break;case"chatLoaded":this.emit("chatLoaded");var i=this.getRoom().id;this.roomIdExist()||(i=this.setRoomId(),this.needToResendRobotMessages=!0);var n=JSON.stringify({type:"openNewChat",roomId:i,data:{url:window.location.href,wid:this.props.webmasterid||2,referer:this.getReferrer(),form_page:window.location.host,client_ip:this.props.client_ip,first_page:{href:document.location.href,title:document.title}},projectId:this.props.projectId,profileId:this.props.profileId,locale:this.props.locale});this.sendPostMessage(n);break;case"adminInitChat":this.storage.set(this.storage.adminInitChat,!0),this.emit("adminInitChat");break;case"tryInitializeRoom":this.emit("tryInitializeRoom",{msg:t.msg})}}},i.attachSocketOpenEventsHandler=i.attachSocketOpenEvents.bind(i),i}return s(t,e),r(t,[{key:"socketopen",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.props=(0,f.default)({},this.props,t);var i=document.querySelector(".leadia_widget_body");return this.storage.get(this.storage.adminInitChat),this.iframeEvents=!1,this.iframe instanceof p.default&&(Object.keys(this.iframe).forEach(function(t){delete e.iframe[t]}),this.iframeEvents=!0),this.iframe=new p.default(this.props.iframe||{}),this.iframe.mount(i),this.iframe.on("render",function(t){t instanceof HTMLElement&&void 0!==e.iframe&&e.iframe.hide()}),window.removeEventListener("message",this.attachStartChatEventsHandler,!1),window.removeEventListener("message",this.attachSocketOpenEventsHandler),this.iframeEvents||window.addEventListener("message",this.attachSocketOpenEventsHandler,!1),this}},{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.props=(0,f.default)({},this.props,e),this.iframe instanceof p.default||(this.iframe=new p.default(this.props.iframe||{}));var t=!!document.querySelector(".leadia_widget_body").querySelector(".venyoo-chat-iframe");return t||(this.iframe.mount(document.querySelector(".leadia_widget_body")),this.iframe.src=this.iframe.props.src+"?"+Math.random()),window.removeEventListener("message",this.attachSocketOpenEventsHandler,!1),window.removeEventListener("message",this.attachStartChatEventsHandler,!1),this.iframeEvents||window.addEventListener("message",this.attachStartChatEventsHandler,!1),t&&this.sendPostMessage(JSON.stringify({type:"tryInitChat"})),this}},{key:"getRobotMessages",value:function(){return this.storage.get(this.storage.sendedRobotMessages)}},{key:"resendRobotMessages",value:function(){var e=this.storage.getJSON(this.storage.sendedRobotMessages);if(e){this.storage.remove(this.storage.sendedRobotMessages);for(var t=0,i=e.length;t<i;t++)(function(e,t){setTimeout(function(){this.sendRobotMessage(e.message,0===e.index,e.index)}.bind(this),1e3*(t+1))}).bind(this)(e[t],t)}}},{key:"sendRobotMessage",value:function(e,t,i){if(e){var n=this.storage.getJSON(this.storage.sendedRobotMessages)||[];if(n)for(var a=0,o=n.length;a<o;a++)if(n[a].index==i)return!1;!n||t?n=[{message:e.toString(),index:i}]:n.push({message:e.toString(),index:i}),this.storage.setJSON(this.storage.sendedRobotMessages,n),this.sendPostMessage(JSON.stringify({type:"sendRobotMessage",message:e.toString(),index:i}))}}},{key:"adminStatus",value:function(e){return w.default.getRequest(this.url+"/api/user/checkAdminOnline","POST",{},"projectId="+e+"&roomId="+this.getRoom().id,!0)}},{key:"getHistory",value:function(e){return w.default.getRequest(this.url+"/api/message/getRoomHistory","POST",{},"roomSlug="+e)}},{key:"getGeo",value:function(){var e=this.props.lang?this.props.lang.substr(0,2):"",t="//geoip.leadia.services/api/get",i={ru:1,en:1};return e&&i[e]&&(t+="?lang="+e),w.default.getRequest(t,"GET",{})}},{key:"getRoom",value:function(){return this.storage.getJSON(this.storage.roomName)||{}}},{key:"roomIdExist",value:function(){var e=this.getRoom();return!(!e.time||(0,h.amountDaysBetweenTwoDates)(new Date,new Date(e.time))>=1&&e.id)}},{key:"removeRoom",value:function(){this.chatInitialized=!1,this.storage.remove(this.storage.roomName),this.storage.remove(this.storage.timeoutStatus),this.storage.remove(this.storage.geo),this.storage.remove(this.storage.adminInitChat),this.storage.remove(this.storage.sendedRobotMessages)}},{key:"setRoomId",value:function(){var e=(0,h.guuid)();return this.storage.setJSON(this.storage.roomName,{time:new Date,id:e}),e}},{key:"closeChatRoom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};clearTimeout(this.timer),this.timer=null;var t=this.getRoom();this.chatAlreadyShowed=!1,this.chatInitialized=!1,this.systemMsg=!1,setTimeout(function(){this.removeRoom()}.bind(this),900),this.emit("closeChat",{roomId:t.id,props:e})}},{key:"sendPostMessage",value:function(e){return this.iframe instanceof p.default&&this.iframe.element instanceof HTMLIFrameElement&&this.iframe.element.contentWindow&&this.iframe.element.contentWindow.postMessage(e,"*"),this}},{key:"getReferrer",value:function(){var e=this.storage.get(this.storage.referrer);return e||(e=document.referrer,this.storage.set(this.storage.referrer,e)),e}},{key:"mountChatSpinner",value:function(){this.chatSpinner=new x.default({prefix:this.props.prefix}),this.chatSpinner.mount(document.querySelector(".leadia_widget_body"))}},{key:"updateGeoDates",value:function(e){var t=this.storage.get(this.storage.geo),i=this;t||this.getGeo().then(function(t){if(lc.utils.checkIsJson(t)){var n=JSON.parse(t);if("ok"==n.status)try{var a=n.data.city.name,o=n.data.country.name,s=n.data.region.name;i.sendPostMessage(JSON.stringify({type:"updateRoomGeoDates",roomSlug:e,city:a,country:o,region:s,flag:n.data.country.iso||null})),i.storage.set(i.storage.geo,!0)}catch(e){}}})}},{key:"initCustomSystemMessages",value:function(){document.addEventListener("visibilitychange",function(){if(clearTimeout(this.outfromsite),document.hidden){var e=sessionStorage.getItem(this.storage.prefix+"_tab")||void 0;this.storage.setJSON("last_user_activity",{date:(new Date).getTime(),uuid:e}),
this.outfromsite=setTimeout(function(){clearTimeout(this.outfromsite);var t=this.storage.getJSON("last_user_activity");t&&t.uuid===e&&this.sendPostMessage(JSON.stringify({type:"sendSystemMessage",message:"Открыл другую вкладку в браузере",messageType:"userMoveToAnotherTab"}))}.bind(this),2e3)}else setTimeout(function(){clearTimeout(this.outfromsite);var e=this.storage.getJSON("last_user_activity");this.storage.remove("last_user_activity"),e&&(new Date).getTime()-2e3>parseInt(e.date)&&this.sendPostMessage(JSON.stringify({type:"sendSystemMessage",message:"Вернулся на ваш сайт",messageType:"userRewind"}))}.bind(this),50)}.bind(this))}},{key:"showRoom",value:function(){window.leadiaCloud.widget.spinner&&window.leadiaCloud.widget.spinner.unmount(),clearTimeout(this.timer),this.timer=null,this.iframe.show(),this.sendPostMessage(JSON.stringify({type:"showRoom",roomId:this.getRoom().id}),"*"),this.chatAlreadyShowed=!0,this.emit("chatConnected")}},{key:"stop",value:function(){this.iframe instanceof p.default&&void 0!==this.iframe&&(this.iframe.hide(),this.iframe.unmount(),this.delete())}},{key:"delete",value:function(){this.systemMsg=!1,delete this.iframe}}]),t}(d.default.EventEmitter);i.default=k},{"../../component/chat-spinner":10,"../../component/iframe":14,"../../component/sound":17,"../../helpers/Storage":22,"../../helpers/ajax":23,"../../helpers/utils":27,"deep-extend":4,events:5}],30:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("events"),d=n(l),c=e("deep-extend"),p=n(c),h=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,t);var n={flipisactive:1,apps:["chat","call"],flip_timeout:10,defaultApp:"chat",storage:{app:"__flip",state:"__flipstate"},state:{}},s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s.props=(0,p.default)({},n,i),s.activeApp=s.props.defaultApp,s.status={START:"start",PAUSE:"pause",STOP:"stop"},s.DOMElement={},e=s,o(s,e)}return s(t,e),r(t,[{key:"next",value:function(){if(this.props.flipisactive){var e=this.props.apps.indexOf(this.app),t=this.props.apps[0],i=this.props.apps[e+1];return i&&(t=i),this.app=t,this}}},{key:"setState",value:function(){this.props.state.start_date=(new Date).getTime(),this.props.state.pause_date=null,this.props.state.status=this.status.START}},{key:"start",value:function(){var e=this;clearTimeout(this.timeoutFlip);var t=this.props.flip_timeout;if(this.props.state&&this.props.state.status===this.status.PAUSE&&this.props.state.pause_date){var i=Math.floor((new Date(this.props.state.pause_date)-new Date(this.props.state.start_date))/1e3);t=i>t?t:t-i}this.setState(),this.timeoutFlip=setTimeout(function(){e.emit("FLIP_TRIGGER_CHANGE_EVENT")},1e3*t)}},{key:"pause",value:function(){this.props.state.pause_date=(new Date).getTime(),this.props.state.status=this.status.PAUSE,clearTimeout(this.timeoutFlip)}},{key:"stop",value:function(){this.props.state.status=this.status.STOP,clearTimeout(this.timeoutFlip)}},{key:"setDOMElement",value:function(e,t){return this.DOMElement[e]=t,this}},{key:"getDOMElement",value:function(e){return this.DOMElement[e]||null}},{key:"app",set:function(e){this.activeApp=e,this.emit("FLIP_CHANGE_STATE")},get:function(){return this.activeApp}}]),t}(d.default.EventEmitter);i.default=h},{"deep-extend":4,events:5}],31:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("events"),d=n(l),c=e("deep-extend"),p=n(c),h=e("../../helpers/utils"),u=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,t);var n={greeting:{text:'{"t1": {"msgText": "Здравствуйте! У вас есть вопрос или вам нужна помощь?", "writing": 7, "waiting": 5 }, "t2": {"msgText": "Напишите, что вас интересует, и я вам обязательно помогу.", "writing":7, "waiting":9}}',delaySeconds:15},send_goal:!1},s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s.props=(0,p.default)({},n,i),e=s,o(s,e)}return s(t,e),r(t,[{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.props=(0,p.default)({},this.props,e),this.clearTimeouts(),this.generate(),this}},{key:"clearTimeouts",value:function(){clearTimeout(this.timelineTimeout)}},{key:"startTimeLine",value:function(e){var t=this;if(0===Object.keys(this.time_line_object).length)return this;var i=(new Date).getTime(),n=0,a="",o=0;e=e||1;var s=Object.keys(this.time_line_object)[e];if(!s)return void this.emit("TIME_LINE_ALL_STATE_COMPLETE");var r=new Date(this.time_line_object[s]).getTime();i<r&&(n=r-i);var l=s.split("_");a=l[2]?l[2]+"_complete":"",o=l[1]?parseInt(l[1]):null,this.timelineTimeout=setTimeout(function(){t.emit("TIME_LINE_STATE_COMPLETE",{action:a,index:o,step:e+1})},n)}},{key:"greetingText",value:function(){return(0,h.isJson)(this.props.greeting.text)?JSON.parse(this.props.greeting.text):{t1:{msgText:"Здравствуйте! У вас есть вопрос или вам нужна помощь?",writing:7,waiting:0}}}},{key:"generate",value:function(){var e=new Date;this.time_line_object=(0,p.default)({},{start:e.toString()});var t=this.greetingText(),i=0;this.messages=[];for(var n in t)if(t.hasOwnProperty(n)){var a=t[n].waiting,o=t[n].writing;a=i?3:this.props.greeting.delaySeconds,e.setSeconds(e.getSeconds()+a),this.time_line_object["msg_"+i+"_waiting"]=e.toString(),e.setSeconds(e.getSeconds()+o),this.time_line_object["msg_"+i+"_writing"]=e.toString(),this.messages.push(t[n].msgText),i++}return this}},{key:"restore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e||null===e)return!1;this.time_line_object=(0,p.default)({},e),delete this.messages,this.messages=[];var t=this.greetingText();for(var i in t)t.hasOwnProperty(i)&&this.messages.push(t[i].msgText)}}]),t}(d.default.EventEmitter);i.default=u},{"../../helpers/utils":27,"deep-extend":4,events:5}]},{},[28]),lc.BladeAppearance.mixins.inlineStyles={".leadia-widget-pad":{"font-family":"Helvetica, Arial",position:"absolute",width:"80px",height:"47px","text-align":"center","font-size":"19px","line-height":"19px",color:"#619f00","font-weight":"bold","background-position":"left bottom","background-repeat":"no-repeat",bottom:"110px"},".leadia-widget-pad-left":{"background-image":'url("https://133921.selcdn.ru/widget/system/left.png")'},".leadia-widget-pad-right":{"background-image":'url("https://133921.selcdn.ru/widget/system/right.png")'},".leadia-widget-pad-val":{margin:"0",padding:"0",border:"none",outline:"none","font-size":"25px",width:"40px",display:"inline-block","text-align":"right"},".leadia-widget-popup-dark-screen":{"z-index":"99999997",position:"fixed",background:"rgba(0,0,0,.5)",width:"100%",height:"100%",top:"0",left:"0",display:"none"}},lc.BladeAppearance.mixins.inlinePresetStyles={blue:{".leadia_widget":{"background-color":"#7383b5"},".leadia_widget_online_wrap":{"background-color":"#5d6a91"}},violet:{".leadia_widget":{"background-color":"#905ca7"},".leadia_widget_online_wrap":{"background-color":"#744787"}},red:{".leadia_widget":{"background-color":"#a95959"},".leadia_widget_online_wrap":{"background-color":"#844444"}},green:{".leadia_widget":{"background-color":"#399169"},".leadia_widget_online_wrap":{"background-color":"#287150"}},brown:{".leadia_widget":{"background-color":"#7e6455"},".leadia_widget_online_wrap":{"background-color":"#624b3e"}},yellow:{".leadia_widget":{"background-color":"#FFC231"},".leadia_widget_online_wrap":{"background-color":"#E9B02C"}},pinegreen:{".leadia_widget":{"background-color":"#0097A8"},".leadia_widget_online_wrap":{"background-color":"#007E8D"}},darkgreen:{".leadia_widget":{"background-color":"#439662"},".leadia_widget_online_wrap":{"background-color":"#377B50"}},lemongrass:{".leadia_widget":{"background-color":"#73BE3D"},".leadia_widget_online_wrap":{"background-color":"#64A434"}},beige:{".leadia_widget":{"background-color":"#A8A08A"},".leadia_widget_online_wrap":{"background-color":"#8D8673"}},orange:{".leadia_widget":{"background-color":"#F47F00"},".leadia_widget_online_wrap":{"background-color":"#DB7400"}},rose:{".leadia_widget":{"background-color":"#ED4094"},".leadia_widget_online_wrap":{"background-color":"#D53B86"}},purple:{".leadia_widget":{"background-color":"#E32B5A"},".leadia_widget_online_wrap":{"background-color":"#CA2452"}},darkgrey:{".leadia_widget":{"background-color":"#706F6F"},".leadia_widget_online_wrap":{"background-color":"#575656"}},grey:{".leadia_widget":{"background-color":"#B4B3B3"},".leadia_widget_online_wrap":{"background-color":"#9A9898"}},coral:{".leadia_widget":{"background-color":"#ee3838"},".leadia_widget_online_wrap":{"background-color":"#cc2f2f"}},solidblue:{".leadia_widget":{"background-color":"#139CDC"},".leadia_widget_online_wrap":{"background-color":"#0C89C1"}},lightbrown:{".leadia_widget":{"background-color":"#A57C4A"},".leadia_widget_online_wrap":{"background-color":"#8C6940"}},solidgreen:{".leadia_widget":{"background-color":"#00A753"},".leadia_widget_online_wrap":{"background-color":"#008C46"}},shark:{".leadia_widget":{"background-color":"#48575F"},".leadia_widget_online_wrap":{"background-color":"#354147"}}},lc.BladeAppearance.mixins.widgetHtml='\x3c!--[if lte IE 9]>\n<script type="text/javascript" src="//s3-eu-west-1.amazonaws.com/static.venyoo.ru/widget/js/placeholders.jquery.min.js"><\/script>\n<![endif]--\x3e\n\n<div id="leadia_science_widget">\n\n    <div class="leadia_widget" id="leadia-widget" style="display:none;">\n        <div class="leadia_widget_notify" style="display:none; cursor: pointer;">\n          Если возникнут вопросы или нужна будет помощь, обращайтесь, я вам помогу.\n        </div>\n        <div class="leadia_widget_header" id="leadia-widget-header">\n\x3c!-- leadia_widget_photo_flipped --\x3e\n            <div class="leadia_widget_photo">\n              <div class="leadia_widget_photo_flipper">\n                <div class="leadia_widget_photo_front">\n                  <img class="leadia-widget-header-img">\n                </div>\n                <div class="leadia_widget_photo_back">\n                  <img class="" src="https://133921.selcdn.ru/widget/system/call.png">\n                </div>\n              </div>\n            </div>\n            <div class="leadia_widget_title">\n                <div class="leadia-widget-worker-name"></div>\n            </div>\n            <div class="leadia_widget_text"></div>\n            <div class="leadia_widget_minimize"></div>\n            \n        </div>\n        <div class="leadia_widget_body">\n\n        </div>\n        <div class="leadia_develope_by"></div>\n    </div>\n</div>\n\n<div class="leadia-widget-pm-hor-marg" style="display:none">\n\t<div class="leadia-widget-pad leadia-widget-pad-left" style="display:none">\n\t\t<div class="leadia-widget-pad-val leadia-widget-pad-left-val"></div> Px\n\t</div>\n\t<div class="leadia-widget-pad leadia-widget-pad-right" style="display:none">\n\t\t<div class="leadia-widget-pad-val leadia-widget-pad-right-val"></div> Px\n\t</div>\n</div>\n\n<div class="leadia-widget-popup-dark-screen" style="display:none"></div>',lc.BladeAppearance.mixins.messageHtml='<div class="leadia_widget_msg leadia-widget-message-block">\n    <div class="msg_wrap">\n        <div class="leadia-widget-message-text"></div>\n        <div class="msg_wrap_corner"></div>\n    </div>\n    <div class="leadia_msg_time"></div>\n</div>',lc.BladeAppearance.mixins.bodyContainer='\n    <div class="leadia_content_custom_scroll">\n        <div class="leadia_widget_list">\n            \n        </div>\n    </div>\n    <div class="leadia_widget_textarea_wrap">\n        <div class="leadia_widget_shaker">\n            <textarea class="leadia_widget_textarea" placeholder="Введите ваше сообщение ..."></textarea>\n            <div class="leadia_widget_send">\n                <div class="leadia_widget_send_arrow"></div>\n            </div>\n            <div class="msg_wrap_corner_right"></div>\n        </div>\n    </div>\n',
lc.BladeAppearance.mixins.inclusionStyles='@charset "UTF-8";\n#leadia_science_widget, #leadia_science_widget * {\n  transform: none; }\n\n#leadia_science_widget * {\n  z-index: auto;\n  text-shadow: none;\n  text-align: left;\n  font-family: Helvetica, Arial !important;\n  font-size: 13px;\n  padding: 0;\n  margin: 0;\n  color: #000000;\n  line-height: 1.2;\n  text-transform: none;\n  letter-spacing: normal;\n  font-weight: normal;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  -moz-transition: none;\n  -webkit-transition: none;\n  -o-transition: none;\n  -ms-transition: none;\n  transition: none;\n  -webkit-transform-origin: center center;\n  -moz-transform-origin: center center;\n  -ms-transform-origin: center center;\n  -o-transform-origin: center center;\n  transform-origin: center center;\n  white-space: normal;\n  word-spacing: 0 !important;\n  font-variant: normal;\n  min-width: initial;\n}\n\n#leadia_science_widget *:not(br) {\n  display: block; }\n\n#leadia_science_widget style {\n  display: none; }\n\n#leadia_science_widget img {\n  height: auto;\n}\n\n#leadia_science_widget *:after,\n#leadia_science_widget *:before {\n  background-image: none; }\n\n#leadia_science_widget .hide_widget {\n  display: none !important; }\n\n#leadia_science_widget input, #leadia_science_widget textarea, #leadia_science_widget select {\n  padding: 0;\n  display: inline-block;\n  width: auto;\n  height: auto;\n  line-height: 1;\n  float: none !important;\n  font-size: 14px !important;\n  color: #000 !important;\n  border: 0 !important;\n  background: white !important;\n  opacity: 1 !important;\n  -webkit-box-shadow: none !important;\n  -moz-box-shadow: none !important;\n  box-shadow: none !important;\n  text-transform: none !important;\n  letter-spacing: normal !important;\n  font-weight: normal !important;\n  max-width: 100% !important; }\n\n#leadia_science_widget input, #leadia_science_widget select {\n  padding: 0 !important;\n  display: inline-block !important;\n  width: auto !important;\n  height: auto !important;\n  line-height: 1 !important; }\n\n#leadia_science_widget input:focus, #leadia_science_widget textarea:focus, #leadia_science_widget select:focus {\n  outline: none !important;\n  -webkit-box-shadow: none !important;\n  -moz-box-shadow: none !important;\n  box-shadow: none !important;\n  border-collapse: separate !important;\n  /* Required by IE 9 */ }\n\n#leadia_science_widget input:after,\n#leadia_science_widget input:before,\n#leadia_science_widget textarea:after,\n#leadia_science_widget textarea:before,\n#leadia_science_widget select:after,\n#leadia_science_widget select:before {\n  display: none; }\n\n#leadia_science_widget input[type="checkbox"] {\n  appearance: checkbox !important;\n  -moz-appearance: checkbox !important;\n  -webkit-appearance: checkbox !important;\n  position: relative;\n  left: auto;\n  top: auto;\n  bottom: auto;\n  right: auto; }\n\n#leadia_science_widget input[type="text"] {\n  appearance: textfield !important;\n  -moz-appearance: textfield !important;\n  -webkit-appearance: textfield !important;\n  left: inherit !important; }\n\n#leadia_science_widget input::-webkit-input-placeholder {\n  font-size: 13px !important;\n  color: #999 !important;\n  text-transform: initial !important; }\n\n#leadia_science_widget .leadia_widget_textarea::-webkit-input-placeholder {\n  font-size: 13px !important;\n  color: #999 !important;\n  text-transform: initial !important; }\n\n#leadia_science_widget input::-moz-placeholder {\n  font-size: 13px !important;\n  color: #999 !important;\n  text-transform: initial !important; }\n\n#leadia_science_widget .leadia_widget_textarea::-moz-placeholder {\n  font-size: 13px !important;\n  color: #999 !important;\n  text-transform: initial !important; }\n\n#leadia_science_widget .leadia_widget_textarea:-ms-input-placeholder {\n  font-size: 13px !important;\n  color: #999 !important;\n  text-transform: initial !important; }\n\n#leadia_science_widget .leadia_widget_textarea::-ms-input-placeholder {\n  font-size: 13px !important;\n  color: #999 !important;\n  text-transform: initial !important; }\n\n#leadia_science_widget .leadia_widget_textarea::placeholder {\n  font-size: 13px !important;\n  color: #999 !important;\n  text-transform: initial !important; }\n\n#leadia_science_widget input:-ms-input-placeholder {\n  font-size: 13px !important;\n  color: #999 !important;\n  text-transform: initial !important; }\n\n#leadia_science_widget input::-ms-input-placeholder {\n  font-size: 13px !important;\n  color: #999 !important;\n  text-transform: initial !important; }\n\n#leadia_science_widget input::placeholder {\n  font-size: 13px !important;\n  color: #999 !important;\n  text-transform: initial !important; }\n\n#leadia_science_widget .placeholdersjs {\n  color: #999; }\n\n#leadia_science_widget .leadia_widget {\n  position: fixed;\n  background-color: #7383b5;\n  font-family: Helvetica, Arial;\n  font-size: 14px;\n  -webkit-transition: top .2s, margin .2s;\n  -moz-transition: top .2s, margin .2s;\n  -o-transition: top .2s, margin .2s;\n  transition: top .2s, margin .2s;\n  width: 344px;\n  bottom: 0;\n  padding: 10px 4px 0;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  -webkit-border-radius: 3px 3px 0 0;\n  -moz-border-radius: 3px 3px 0 0;\n  border-radius: 3px 3px 0 0;\n  z-index: 1000001; }\n\n#leadia_science_widget .leadia_widget_text {\n  margin: 0;\n  font-size: 12px;\n  font-weight: normal;\n  color: white;\n  line-height: 1;\n  font-family: Helvetica, Arial !important; }\n\n#leadia_science_widget .leadia_widget_header {\n  position: relative;\n  min-height: 50px;\n  padding-left: 70px;\n  color: #97a7bd;\n  margin-bottom: 8px;\n  cursor: pointer;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  text-shadow: 0 1px 1px #6172a4; }\n\n#leadia_science_widget .leadia_widget_photo {\n  position: absolute;\n  left: 10px;\n  top: 0;\n  height: 48px;\n  width: 48px;\n  -webkit-border-radius: 50%;\n  -moz-border-radius: 50%;\n  border-radius: 50%;\n  border: none;\n  -webkit-box-shadow: none;\n  -moz-box-shadow: none;\n  box-shadow: none;\n  margin: 0 !important;\n  opacity: 1;\n  -webkit-transform: none !important;\n  -moz-transform: none !important;\n  -ms-transform: none !important;\n  -o-transform: none !important;\n  transform: none !important;\n  -webkit-transition: none !important;\n  -moz-transition: none !important;\n  -o-transition: none !important;\n  transition: none !important; }\n\n#leadia_science_widget .leadia-widget-worker-name {\n  color: #ffffff;\n  font-style: normal;\n  font-size: 15px;\n  font-family: Helvetica, Arial !important;\n  line-height: 1.2; }\n\n#leadia_science_widget .leadia_widget_online_wrap {\n  position: absolute;\n  right: 5px;\n  top: 10px;\n  padding: 4px 6px 4px 10px;\n  font-size: 12px;\n  color: white;\n  text-transform: lowercase;\n  background-color: #5d6a91;\n  -webkit-border-radius: 14px;\n  -moz-border-radius: 14px;\n  border-radius: 14px;\n  -webkit-box-shadow: inset 0 2px 2px rgba(0, 0, 0, 0.1);\n  -moz-box-shadow: inset 0 2px 2px rgba(0, 0, 0, 0.1);\n  box-shadow: inset 0 2px 2px rgba(0, 0, 0, 0.1); }\n\n#leadia_science_widget .leadia_widget_online {\n  display: inline-block;\n  vertical-align: middle;\n  width: 9px;\n  height: 9px;\n  margin-top: -1px;\n  margin-left: 5px;\n  -webkit-border-radius: 50%;\n  -moz-border-radius: 50%;\n  border-radius: 50%;\n  background: #5cee54;\n  -webkit-box-shadow: 0 0 6px #86b997;\n  -moz-box-shadow: 0 0 6px #86b997;\n  box-shadow: 0 0 6px #86b997; }\n\n#leadia_science_widget .leadia_content_custom_scroll {\n  height: 275px;\n  overflow-x: hidden;\n  padding: 6px 0;\n  position: relative; }\n\n#leadia_science_widget .leadia_widget_body {\n  background-color: #fff;\n  position: relative;\n  height: 360px;\n  overflow: hidden;\n  /*height: 90.2%;\n  height: calc(100% - 70px);*/ }\n\n#leadia_science_widget .leadia_widget_list {\n  min-height: 55px;\n  margin: 0;\n  list-style: none;\n  padding: 6px 16px;\n  font-weight: 400;\n  -webkit-transition: opacity .5s;\n  -moz-transition: opacity .5s;\n  -o-transition: opacity .5s;\n  transition: opacity .5s; }\n\n#leadia_science_widget .leadia_widget_msg {\n  min-height: 32px;\n  margin-bottom: 10px;\n  line-height: 20px;\n  color: #fff; }\n\n#leadia_science_widget .leadia_widget_msg.leadia_user_msg {\n  text-align: right;\n  margin-bottom: 25px; }\n\n#leadia_science_widget .leadia_widget_msg.leadia_user_msg .msg_wrap {\n  color: #000;\n  background: white;\n  -webkit-box-shadow: none;\n  -moz-box-shadow: none;\n  box-shadow: none;\n  border: 1px solid #dedcd6;\n  text-align: left;\n  /*min-width: 50%;*/\n  padding-bottom: 11px; }\n\n#leadia_science_widget .leadia_widget_msg.leadia_user_msg .msg_wrap.user_msg {\n  min-width: 50%; }\n\n#leadia_science_widget .msg_wrap {\n  max-width: 90%;\n  position: relative;\n  z-index: 0;\n  display: inline-block;\n  padding: 12px 15px;\n  font-size: 13px;\n  line-height: 16px;\n  background-color: white;\n  border: 1px solid #dddcd7;\n  color: #000;\n  background-color: #fafafa;\n  -webkit-border-radius: 13px;\n  -moz-border-radius: 13px;\n  border-radius: 13px;\n  word-wrap: break-word; }\n\n#leadia_science_widget .msg_wrap:after {\n  content: \'\';\n  position: absolute;\n  width: 15px;\n  height: 12px;\n  background-color: #fafafa;\n  -webkit-border-top-right-radius: 50%;\n  -moz-border-radius-topright: 50%;\n  border-top-right-radius: 50%;\n  left: 0;\n  bottom: 2px;\n  z-index: 1; }\n\n#leadia_science_widget .leadia_user_msg .msg_wrap:after {\n  left: auto;\n  right: 0;\n  background-color: #fff; }\n\n#leadia_science_widget .msg_wrap_corner {\n  position: absolute;\n  left: -21px;\n  bottom: 7px;\n  width: 1px;\n  height: 1px; }\n\n#leadia_science_widget .leadia_user_msg .msg_wrap_corner {\n  -webkit-transform: rotateY(180deg);\n  -moz-transform: rotateY(180deg);\n  transform: rotateY(180deg);\n  left: auto;\n  right: -21px; }\n\n#leadia_science_widget .leadia_user_msg .msg_wrap_corner:before {\n  border-right-color: white; }\n\n#leadia_science_widget .msg_wrap_corner:before {\n  content: "";\n  position: absolute;\n  z-index: -1;\n  bottom: -10px;\n  left: 0;\n  height: 10px;\n  border-right: 30px solid #fafafa;\n  -webkit-box-shadow: 0 0 0 1px #dddcd7;\n  -moz-box-shadow: 0 0 0 1px #dddcd7;\n  box-shadow: 0 0 0 1px #dddcd7;\n  -webkit-border-bottom-right-radius: 80px 50px;\n  -moz-border-radius-bottomright: 80px 50px;\n  border-bottom-right-radius: 80px 50px;\n  -webkit-transform: translate(0, -2px);\n  -moz-transform: translate(0, -2px);\n  -ms-transform: translate(0, -2px);\n  -o-transform: translate(0, -2px);\n  transform: translate(0, -2px); }\n\n#leadia_science_widget .msg_wrap_corner:after {\n  content: "";\n  position: absolute;\n  z-index: -1;\n  bottom: -11px;\n  left: 0;\n  width: 30px;\n  height: 13px;\n  background: #fff;\n  -webkit-border-bottom-right-radius: 40px 50px;\n  -moz-border-radius-bottomright: 40px 50px;\n  border-bottom-right-radius: 40px 50px;\n  -webkit-transform: translate(-10px, -2px);\n  -moz-transform: translate(-10px, -2px);\n  -ms-transform: translate(-10px, -2px);\n  -o-transform: translate(-10px, -2px);\n  transform: translate(-10px, -2px);\n  -webkit-box-shadow: 1px 0 0px 0px #dddcd7;\n  -moz-box-shadow: 1px 0 0px 0px #dddcd7;\n  box-shadow: 1px 0 0px 0px #dddcd7; }\n\n#leadia_science_widget .msg_wrap_corner_right {\n  position: absolute;\n  right: -8px;\n  bottom: 40px;\n  width: 1px;\n  height: 1px; }\n\n#leadia_science_widget .msg_wrap_corner_right:after {\n  content: \'\';\n  top: 1px;\n  right: -29px;\n  position: absolute;\n  border: 0px solid;\n  display: block;\n  width: 40px;\n  height: 40px;\n  background-color: transparent;\n  -webkit-border-bottom-left-radius: 50%;\n  -moz-border-radius-bottomleft: 50%;\n  border-bottom-left-radius: 50%;\n  -webkit-border-bottom-right-radius: 50%;\n  -moz-border-radius-bottomright: 50%;\n  border-bottom-right-radius: 50%;\n  -webkit-box-shadow: -16px -3px 0px -5px white, -16px -3px 0px -4px #dddcd7, inset 4px 0 0px -3px #dddcd7;\n  -moz-box-shadow: -16px -3px 0px -5px white, -16px -3px 0px -4px #dddcd7, inset 4px 0 0px -3px #dddcd7;\n  box-shadow: -16px -3px 0px -5px white, -16px -3px 0px -4px #dddcd7, inset 4px 0 0px -3px #dddcd7;\n  -webkit-transform: rotate(-25deg);\n  -moz-transform: rotate(-25deg);\n  -ms-transform: rotate(-25deg);\n  -o-transform: rotate(-25deg);\n  transform: rotate(-25deg);\n  -webkit-transition: all .3s;\n  -moz-transition: all .3s;\n  -o-transition: all .3s;\n  transition: all .3s; }\n\n#leadia_science_widget .leadia-widget-message-text {\n  font-size: 13px; }\n\n#leadia_science_widget .leadia_user_msg .leadia-widget-message-text[contenteditable="true"] {\n  position: relative;\n  z-index: 2;\n  -webkit-border-radius: 13px;\n  -moz-border-radius: 13px;\n  border-radius: 13px;\n  outline: 0;\n  -webkit-box-shadow: 0 0 10px 1px #448FFF;\n  -moz-box-shadow: 0 0 10px 1px #448FFF;\n  box-shadow: 0 0 10px 1px #448FFF;\n  margin: -12px -15px;\n  padding: 10px 15px; }\n\n#leadia_science_widget .leadia_widget_shaker {\n  position: relative; }\n\n#leadia_science_widget .leadia_widget_shaker:before {\n  content: \'\';\n  bottom: 3px;\n  right: 1px;\n  position: absolute;\n  width: 19px;\n  height: 28px;\n  background-color: white;\n  z-index: 1;\n  -webkit-border-radius: 0 10px 8px 0;\n  -moz-border-radius: 0 10px 8px 0;\n  border-radius: 0 10px 8px 0; }\n\n#leadia_science_widget .leadia_widget_footer {\n  padding: 10px;\n  border-top: 1px solid #dedcd6;\n  background: #fffdfa;\n  -moz-transition: opacity .5s;\n  -o-transition: opacity .5s;\n  -webkit-transition: opacity .5s;\n  transition: opacity .5s; }\n\n#leadia_science_widget .fixed_width {\n  width: 42px;\n  -webkit-box-sizing: content-box;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box; }\n\n#leadia_science_widget .leadia_msg_time {\n  display: block;\n  font-size: 10px;\n  color: #b9bcc0; }\n\n#leadia_science_widget .leadia_msg_typemessage {\n  text-align: center;\n  font-size: 12px;\n  color: #7F7F7F; }\n\n#leadia_science_widget .leadia_user_msg .leadia_msg_time {\n  text-align: right; }\n\n#leadia_science_widget .leadia_widget_textarea_wrap {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  z-index: 1;\n  width: 100%;\n  padding: 0 15px 15px;\n  background: -moz-linear-gradient(top, rgba(255, 255, 255, 0) 0%, #f3f3f3 100%);\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, rgba(255, 255, 255, 0)), color-stop(100%, #f3f3f3));\n  background: -webkit-linear-gradient(top, rgba(255, 255, 255, 0) 0%, #f3f3f3 100%);\n  background: -o-linear-gradient(top, rgba(255, 255, 255, 0) 0%, #f3f3f3 100%);\n  background: -webkit-gradient(linear, left top, left bottom, from(rgba(255, 255, 255, 0)), to(#f3f3f3));\n  background: -webkit-linear-gradient(top, rgba(255, 255, 255, 0) 0%, #f3f3f3 100%);\n  background: -o-linear-gradient(top, rgba(255, 255, 255, 0) 0%, #f3f3f3 100%);\n  background: linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, #f3f3f3 100%); }\n\n#leadia_science_widget .leadia_widget_textarea {\n  width: 100%;\n  height: 37px !important;\n  min-height: inherit;\n  padding: 8px 35px 8px 15px !important;\n  vertical-align: bottom;\n  border: 1px solid #dddcd7 !important;\n  font: 13px/1.5 Helvetica, Arial;\n  color: #000 !important;\n  -webkit-border-radius: 16px !important;\n  -moz-border-radius: 16px !important;\n  border-radius: 16px !important;\n  overflow: hidden !important;\n  min-width: initial !important;\n  resize: none;\n  -webkit-transition: height .2s, -webkit-box-shadow .2s, border-color .2s;\n  -moz-transition: height .2s, -moz-box-shadow .2s, border-color .2s;\n  -o-transition: height .2s, box-shadow .2s, border-color .2s;\n  transition: height .2s, box-shadow .2s, border-color .2s;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  margin: 0;\n  background: white;\n  left: inherit !important;\n}\n\n#leadia_science_widget .leadia_widget_textarea.textarea_opened {\n  height: 80px; }\n\n#leadia_science_widget .leadia_widget_textarea:focus {\n  height: 80px;\n  outline: 0;\n  -webkit-box-shadow: 0 5px 7px rgba(0, 0, 0, 0.1);\n  -moz-box-shadow: 0 5px 7px rgba(0, 0, 0, 0.1);\n  box-shadow: 0 5px 7px rgba(0, 0, 0, 0.1);\n  border-color: #9bbae9 !important; }\n\n#leadia_science_widget .leadia_widget_textarea:focus ~ .msg_wrap_corner_right:after {\n  -webkit-box-shadow: -16px -3px 0px -5px white, -16px -3px 0px -4px #9bbae9, inset 4px 0 0px -3px #9bbae9;\n  -moz-box-shadow: -16px -3px 0px -5px white, -16px -3px 0px -4px #9bbae9, inset 4px 0 0px -3px #9bbae9;\n  box-shadow: -16px -3px 0px -5px white, -16px -3px 0px -4px #9bbae9, inset 4px 0 0px -3px #9bbae9; }\n\n#leadia_science_widget .leadia_develop_container * {\n  font-size: 10px; }\n\n#leadia_science_widget .leadia_develop_container {\n  font-size: 10px;\n  vertical-align: middle;\n  cursor: pointer;\n  text-align: center;\n  padding: 3px 0 6px;\n  opacity: 1;\n  line-height: 1;\n  font-size: 12px; }\n\n#leadia_science_widget .leadia_develop_container_inset {\n  display: inline-block; }\n\n#leadia_science_widget .leadia_develop_text {\n  vertical-align: baseline;\n  display: inline-block;\n  margin-right: 0px;\n  color: #FFFFFF; }\n\n#leadia_science_widget .leadia_develop_image {\n  display: inline-block;\n  vertical-align: baseline;\n  width: 13px;\n  height: 13px;\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozODg1M0E0QkZFRDkxMUU0QUEzMDkyNDg4QkU0NTdENyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozODg1M0E0Q0ZFRDkxMUU0QUEzMDkyNDg4QkU0NTdENyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjM4ODUzQTQ5RkVEOTExRTRBQTMwOTI0ODhCRTQ1N0Q3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjM4ODUzQTRBRkVEOTExRTRBQTMwOTI0ODhCRTQ1N0Q3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+iawvzgAAAN5JREFUeNpi/P//vycDA8NcIJZkwA7eA3EnlM0DxPsZgJqeAfE3ID4LxFeB+Nd/VLAEiBmguAGIHzBAJXYjScSgaQpFkrvxH8oAgT9ALA3lcwPxV6j4DyDmg4obw0xhQDKxDMnElVCxnUhivdg0XUNSEAgVy4LymYD4CTZNIGAOFWMH4g9ALAfl2yMrQtc0Dcm2CiT2THya3gExB5KTQDQbEL/FpwkEwpBsAGFfdAXYNG1D07QUXQEjKEWgJaH/QLwCiD8DMTsQRwIxG5L8C5BJXkD8/D9xABTsXgABBgBSqRS8acQ59wAAAABJRU5ErkJggg==");\n  top: 3px;\n  position: relative; }\n\n#leadia_science_widget .leadia_develop_container:hover {\n  opacity: .8; }\n\n/* FORM STYLE */\n#leadia_science_widget .leadia_alignV {\n  display: table;\n  width: 100%;\n  height: 100%; }\n\n#leadia_science_widget .leadia_alignV_inset {\n  display: table-cell;\n  vertical-align: middle;\n  text-align: center; }\n\n#leadia_science_widget .leadia_form {\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: -1;\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n  background-color: #f5f7fa;\n  -webkit-transition: opacity .5s;\n  -moz-transition: opacity .5s;\n  -o-transition: opacity .5s;\n  transition: opacity .5s; }\n\n#leadia_science_widget .leadia_form_title {\n  font-size: 23px;\n  line-height: 1.6; }\n\n#leadia_science_widget .leadia_form_subtitle {\n  font-size: 16px; }\n\n#leadia_science_widget .leadia_form_phone {\n  display: inline-block;\n  padding: 0 40px;\n  font-size: 35px;\n  color: #172232;\n  background: url(https://133921.selcdn.ru/widget/system/trubka2.png) left center no-repeat; }\n\n#leadia_science_widget .leadia_form_text {\n  font-size: 18px;\n  line-height: 1.4;\n  margin-bottom: 10px; }\n\n#leadia_science_widget .leadia_form_area1 {\n  height: 30.2%;\n  color: #26303f;\n  background-color: white;\n  -webkit-box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);\n  -moz-box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2); }\n\n#leadia_science_widget .leadia_form_area2 {\n  height: 53%; }\n\n#leadia_science_widget .leadia_form_area3 {\n  height: 17.2%;\n  border-top: 1px solid #d0d5db;\n  background: #f5f7fa;\n  background: -moz-linear-gradient(top, #f5f7fa 0%, #e1e3e5 100%);\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #f5f7fa), color-stop(100%, #e1e3e5));\n  background: -webkit-linear-gradient(top, #f5f7fa 0%, #e1e3e5 100%);\n  background: -o-linear-gradient(top, #f5f7fa 0%, #e1e3e5 100%);\n  background: -webkit-gradient(linear, left top, left bottom, from(#f5f7fa), to(#e1e3e5));\n  background: linear-gradient(to bottom, #f5f7fa 0%, #e1e3e5 100%); }\n\n#leadia_science_widget .leadia_form_area4 {\n  height: 83%; }\n\n#leadia_science_widget .leadia_form_row {\n  display: table;\n  width: 100%;\n  padding: 5px 16%;\n  font-size: 0;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box; }\n\n#leadia_science_widget .leadia_form_cell {\n  display: table-cell;\n  vertical-align: middle;\n  width: 50%;\n  font-size: 14px;\n  color: #26303f;\n  text-align: left; }\n\n#leadia_science_widget .leadia_form_control {\n  width: 188px;\n  height: 34px;\n  padding: 0 10px;\n  border: 1px solid #d0d5db;\n  background-color: white;\n  font-size: 14px;\n  color: #172232;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  -webkit-box-shadow: inset 0 3px 5px -3px rgba(0, 0, 0, 0.2);\n  -moz-box-shadow: inset 0 3px 5px -3px rgba(0, 0, 0, 0.2);\n  box-shadow: inset 0 3px 5px -3px rgba(0, 0, 0, 0.2); }\n\n#leadia_science_widget .leadia_form_control:focus {\n  outline: none;\n  -webkit-box-shadow: 0 3px 5px -3px rgba(0, 0, 0, 0.2);\n  -moz-box-shadow: 0 3px 5px -3px rgba(0, 0, 0, 0.2);\n  box-shadow: 0 3px 5px -3px rgba(0, 0, 0, 0.2); }\n\n#leadia_science_widget .leadia_form_btn {\n  border: 1px solid #97361d;\n  padding: 10px 30px;\n  color: white;\n  font-size: 16px;\n  font-weight: bold;\n  background: #c95843;\n  background: -moz-linear-gradient(top, #c95843 0%, #b93e23 100%);\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #c95843), color-stop(100%, #b93e23));\n  background: -webkit-linear-gradient(top, #c95843 0%, #b93e23 100%);\n  background: -o-linear-gradient(top, #c95843 0%, #b93e23 100%);\n  background: -webkit-gradient(linear, left top, left bottom, from(#c95843), to(#b93e23));\n  background: linear-gradient(to bottom, #c95843 0%, #b93e23 100%);\n  cursor: pointer;\n  -webkit-box-shadow: inset 0 1px #da8c7e;\n  -moz-box-shadow: inset 0 1px #da8c7e;\n  box-shadow: inset 0 1px #da8c7e;\n  text-shadow: 1px 1px rgba(0, 0, 0, 0.5); }\n\n#leadia_science_widget .leadia_form_btn:hover {\n  -webkit-box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);\n  -moz-box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.5); }\n\n#leadia_science_widget .leadia_form_btn:focus {\n  outline: none; }\n\n#leadia_science_widget .leadia_form_btn:active {\n  -webkit-box-shadow: inset 0 4px 7px -2px rgba(0, 0, 0, 0.3);\n  -moz-box-shadow: inset 0 4px 7px -2px rgba(0, 0, 0, 0.3);\n  box-shadow: inset 0 4px 7px -2px rgba(0, 0, 0, 0.3); }\n\n/*THANK YOU PAGE STYLE*/\n#leadia_science_widget .leadia_thanks {\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: -1;\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n  background-color: #f5f7fa;\n  -webkit-transition: opacity .5s .5s;\n  -moz-transition: opacity .5s .5s;\n  -o-transition: opacity .5s .5s;\n  transition: opacity .5s .5s; }\n\n#leadia_science_widget .leadia_thanks_title {\n  font-size: 30px;\n  font-weight: bold;\n  color: #172232;\n  text-transform: uppercase;\n  margin-bottom: 5px; }\n\n#leadia_science_widget .leadia_thanks_text {\n  line-height: 1.7; }\n\n#leadia_science_widget #leadia_close_form {\n  right: -10px;\n  top: 0;\n  position: absolute;\n  margin-left: -10px;\n  margin-top: -9px;\n  cursor: pointer;\n  z-index: 99999;\n  display: none; }\n\n#leadia_science_widget .leadia-widget-popup-dark-screen {\n  z-index: 99998;\n  position: fixed;\n  background: rgba(0, 0, 0, 0.5);\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  display: none; }\n\n#leadia_science_widget .leadia_widget_title {\n  padding: 4px 0; }\n\n.leadia_widget_minimize {\n  position: absolute !important;\n  right: 15px;\n  top: 13px;\n  width: 15px;\n  border-bottom: 2px solid white; }\n\n.leadia_widget_minimize.leadia_widget_maximize {\n  border-color: transparent;\n  top: 7px;\n  background: url("https://133921.selcdn.ru/widget/system/expand.png") left center no-repeat;\n  -moz-background-size: cover;\n  -o-background-size: cover;\n  background-size: cover;\n  height: 17px;\n  width: 15px; }\n\n#leadia_science_widget #leadia_widget_textarea_chat {\n  width: 244px;\n  border: 0;\n  height: 100px;\n  padding: 10px;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  resize: none;\n  border: 1px solid #dedcd6;\n  font-family: Helvetica, Arial;\n  margin-bottom: 5px; }\n\n#leadia_science_widget #leadia_widget_textarea_chat:focus {\n  outline: none; }\n\n#leadia_science_widget .leadia_widget_button_in_chat {\n  position: relative;\n  display: inline-block;\n  vertical-align: middle;\n  -webkit-border-radius: 18px;\n  -moz-border-radius: 18px;\n  border-radius: 18px;\n  padding: 8px 23px;\n  margin: 10px 0;\n  font-size: 12px;\n  color: black;\n  border: 1px solid #dddcd7;\n  background-color: white !important;\n  cursor: pointer;\n  font-weight: 600;\n  z-index: 0;\n  overflow: hidden; }\n\n#leadia_science_widget .leadia_widget_button_2 {\n  padding: 9px 0;\n  font-weight: normal;\n  width: 100%;\n  text-align: center; }\n\n#leadia_science_widget .leadia_widget_button_in_chat:before {\n  content: \'\';\n  position: absolute;\n  left: 0;\n  top: 100%;\n  z-index: -1;\n  width: 100%;\n  height: 100%;\n  -webkit-transition: all .2s;\n  -moz-transition: all .2s;\n  -o-transition: all .2s;\n  transition: all .2s;\n  -webkit-border-radius: 18px;\n  -moz-border-radius: 18px;\n  border-radius: 18px;\n  background: #ffffff;\n  background: -moz-linear-gradient(top, #ffffff 0%, #fefad0 100%);\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #ffffff), color-stop(100%, #fefad0));\n  background: -webkit-linear-gradient(top, #ffffff 0%, #fefad0 100%);\n  background: -o-linear-gradient(top, #ffffff 0%, #fefad0 100%);\n  background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#fefad0));\n  background: -webkit-linear-gradient(top, #ffffff 0%, #fefad0 100%);\n  background: -o-linear-gradient(top, #ffffff 0%, #fefad0 100%);\n  background: linear-gradient(to bottom, #ffffff 0%, #fefad0 100%); }\n\n#leadia_science_widget .leadia_widget_button_in_chat:hover:before {\n  top: 0; }\n\n#leadia_science_widget .leadia_widget_button_in_chat:active:before {\n  -webkit-box-shadow: inset 0 2px 3px rgba(0, 0, 0, 0.2);\n  -moz-box-shadow: inset 0 2px 3px rgba(0, 0, 0, 0.2);\n  box-shadow: inset 0 2px 3px rgba(0, 0, 0, 0.2); }\n\n#leadia_science_widget .leadia_msg_checkboxes {\n  width: 244px;\n  margin: 15px 0 10px; }\n\n#leadia_science_widget .leadia_msg_checkbox_row {\n  margin-bottom: 7px;\n  font-size: 13px;\n  cursor: pointer; }\n\n#leadia_science_widget .leadia_msg_checkbox {\n  margin: -1px 3px 0 0;\n  vertical-align: middle; }\n\n#leadia_science_widget .leadia_element_center {\n  text-align: center; }\n\n#leadia_science_widget .leadia_msg_form {\n  width: 244px;\n  margin-top: 10px; }\n\n#leadia_science_widget .leadia_msg_form_row {\n  margin-bottom: 10px;\n  display: none; }\n\n#leadia_science_widget .leadia_msg_form_input {\n  width: 100% !important;\n  height: 30px !important;\n  -webkit-border-radius: 3px !important;\n  -moz-border-radius: 3px !important;\n  border-radius: 3px !important;\n  padding: 0 10px !important;\n  border: 1px solid #dedcd6 !important;\n  font: 13px Helvetica, Arial !important;\n  -webkit-box-sizing: border-box !important;\n  -moz-box-sizing: border-box !important;\n  box-sizing: border-box !important;\n  text-transform: none !important; }\n\n#leadia_science_widget .leadia_input_error, #leadia_science_widget .leadia_input_error:focus {\n  -webkit-box-shadow: 0 0 6px -1px #FF7A7A !important;\n  -moz-box-shadow: 0 0 6px -1px #FF7A7A !important;\n  box-shadow: 0 0 6px -1px #FF7A7A !important; }\n\n#leadia_science_widget .leadia_widget_loading {\n  display: inline-block;\n  width: 58px;\n  position: relative;\n  list-style: none;\n  margin: 10px 0 0;\n  padding: 0;\n  height: 16px;\n  font-size: 0; }\n\n#leadia_science_widget .leadia_widget_loading_item {\n  height: 0;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 0;\n  margin: 0;\n  height: 10px;\n  width: 10px;\n  border: 1px solid #b7b7b7;\n  -webkit-border-radius: 100%;\n  -moz-border-radius: 100%;\n  border-radius: 100%;\n  -webkit-transform: transformZ(0);\n  -ms-transform: transformZ(0);\n  -moz-transform: transformZ(0);\n  -o-transform: transformZ(0);\n  transform: transformZ(0);\n  -webkit-animation: LOADING 1.5s infinite;\n  -moz-animation: LOADING 1.5s infinite;\n  -o-animation: LOADING 1.5s infinite;\n  animation: LOADING 1.5s infinite; }\n\n#leadia_science_widget .leadia_widget_loading_item:nth-child(1n) {\n  left: 0;\n  -webkit-animation-delay: 0s;\n  -moz-animation-delay: 0s;\n  -o-animation-delay: 0s;\n  animation-delay: 0s; }\n\n#leadia_science_widget .leadia_widget_loading_item:nth-child(2n) {\n  left: 20px;\n  -webkit-animation-delay: 0.2s;\n  -moz-animation-delay: 0.2s;\n  -o-animation-delay: 0.2s;\n  animation-delay: 0.2s; }\n\n#leadia_science_widget .leadia_widget_loading_item:nth-child(3n) {\n  left: 40px;\n  -webkit-animation-delay: 0.4s;\n  -moz-animation-delay: 0.4s;\n  -o-animation-delay: 0.4s;\n  animation-delay: 0.4s; }\n\n#leadia_science_widget .leadia_widget_hover {\n  margin-bottom: -3px; }\n\n#leadia_science_widget .leadia_widget_hover:before {\n  content: \'\';\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 68px;\n  background-color: #fff;\n  opacity: 0;\n  z-index: -1;\n  -webkit-transition: all .2s;\n  -moz-transition: all .2s;\n  -o-transition: all .2s;\n  transition: all .2s; }\n\n#leadia_science_widget .leadia_widget_hover:hover {\n  margin-bottom: 0; }\n\n#leadia_science_widget .leadia_widget_hover:hover:before {\n  opacity: .1; }\n\n#leadia_science_widget .success_send {\n  background: url("https://133921.selcdn.ru/widget/system/thx.png") no-repeat;\n  -moz-background-size: 100% 100%;\n  -o-background-size: 100% 100%;\n  background-size: 100% 100%;\n  margin: 8px auto;\n  height: 72px;\n  width: 59px; }\n\n#leadia_science_widget .leadia_widget_send {\n  position: absolute;\n  right: 10px;\n  top: 50%;\n  width: 21px;\n  height: 21px;\n  line-height: 19px;\n  margin-top: -11px;\n  -webkit-border-radius: 50%;\n  -moz-border-radius: 50%;\n  border-radius: 50%;\n  background-color: #7383b5;\n  z-index: 1;\n  text-align: center;\n  cursor: pointer;\n  -webkit-transition: all .2s;\n  -o-transition: all .2s;\n  -moz-transition: all .2s;\n  transition: all .2s; }\n\n#leadia_science_widget .leadia_widget_send_arrow {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  width: 8px;\n  height: 8px;\n  margin: -4px 0 0 -6px;\n  border-right: 2px solid white;\n  border-top: 2px solid white;\n  -webkit-transform: rotate(45deg);\n  -ms-transform: rotate(45deg);\n  -o-transform: rotate(45deg);\n  -moz-transform: rotate(45deg);\n  transform: rotate(45deg);\n  -webkit-transition: opacity .2s;\n  -o-transition: opacity .2s;\n  -moz-transition: opacity .2s;\n  transition: opacity .2s; }\n\n#leadia_science_widget .leadia_widget_send.leadia_widget_send_loading {\n  border-right: 1px solid #7383b5;\n  border-top: 2px solid #7383b5;\n  background-color: white !important;\n  -webkit-animation: vrotate .8s infinite linear;\n  -moz-animation: vrotate .8s infinite linear;\n  -o-animation: vrotate .8s infinite linear;\n  animation: vrotate .8s infinite linear; }\n\n#leadia_science_widget .leadia_widget_send.leadia_widget_send_loading .leadia_widget_send_arrow {\n  opacity: 0; }\n\n#leadia_science_widget .leadia_widget_notify {\n  position: absolute;\n  bottom: 100%;\n  left: 0;\n  width: 90%;\n  border: 1px solid #DAD7B2;\n  -webkit-border-radius: 13px;\n  -moz-border-radius: 13px;\n  border-radius: 13px;\n  padding: 9px 15px;\n  font-size: 13px;\n  line-height: 1.4;\n  color: #4E4B41;\n  margin-bottom: 20px;\n  text-shadow: 0 1px 0 white;\n  -webkit-box-shadow: inset 0 1px 0 white;\n  -moz-box-shadow: inset 0 1px 0 white;\n  box-shadow: inset 0 1px 0 white;\n  background-color: #FEFAD0; }\n\n#leadia_science_widget .leadia_widget_notify:before {\n  content: \'\';\n  position: absolute;\n  bottom: -11px;\n  left: 27px;\n  border-left: 10px solid transparent;\n  border-top: 10px solid #DAD7B2;\n  border-right: 10px solid transparent; }\n\n#leadia_science_widget .leadia_widget_notify:after {\n  content: \'\';\n  position: absolute;\n  bottom: -10px;\n  left: 27px;\n  border-left: 10px solid transparent;\n  border-top: 10px solid #FEFAD0;\n  border-right: 10px solid transparent; }\n\n/* new animation bubble */\n#leadia_science_widget .loader-inner.ball-pulse-sync {\n  background: none; }\n\n#leadia_science_widget .ball-pulse-sync {\n  text-align: center;\n  padding: 15px 0 10px; }\n\n#leadia_science_widget .ball-pulse-sync > div {\n  display: inline-block;\n  background-color: #dddcd7;\n  width: 12px;\n  height: 12px;\n  -webkit-border-radius: 100%;\n  -moz-border-radius: 100%;\n  border-radius: 100%;\n  margin: 0 2px; }\n\n#leadia_science_widget .ball-rotate, #leadia_science_widget .ball-rotate > div {\n  position: relative; }\n\n/*#leadia_science_widget #leadia_msg_edit {\n    color: #208AE4;\n    display: inline-block;\n    cursor: pointer;\n    text-decoration: underline;\n    font-style: italic;\n    font-size: 12px;\n}\n#leadia_science_widget #leadia_msg_edit:hover{\n    text-decoration: none;\n}*/\n#leadia_science_widget .ball-pulse-sync > div:nth-child(0) {\n  -webkit-animation: ball-pulse-sync .8s 0s infinite ease-in-out;\n  -moz-animation: ball-pulse-sync .8s 0s infinite ease-in-out;\n  -o-animation: ball-pulse-sync .8s 0s infinite ease-in-out;\n  animation: ball-pulse-sync .8s 0s infinite ease-in-out; }\n\n#leadia_science_widget .ball-pulse-sync > div:nth-child(1) {\n  -webkit-animation: ball-pulse-sync .8s .07s infinite ease-in-out;\n  -moz-animation: ball-pulse-sync .8s .07s infinite ease-in-out;\n  -o-animation: ball-pulse-sync .8s .07s infinite ease-in-out;\n  animation: ball-pulse-sync .8s .07s infinite ease-in-out; }\n\n#leadia_science_widget .ball-pulse-sync > div:nth-child(2) {\n  -webkit-animation: ball-pulse-sync .8s .14s infinite ease-in-out;\n  -moz-animation: ball-pulse-sync .8s .14s infinite ease-in-out;\n  -o-animation: ball-pulse-sync .8s .14s infinite ease-in-out;\n  animation: ball-pulse-sync .8s .14s infinite ease-in-out; }\n\n#leadia_science_widget .ball-pulse-sync > div:nth-child(3) {\n  -webkit-animation: ball-pulse-sync .8s .21s infinite ease-in-out;\n  -moz-animation: ball-pulse-sync .8s .21s infinite ease-in-out;\n  -o-animation: ball-pulse-sync .8s .21s infinite ease-in-out;\n  animation: ball-pulse-sync .8s .21s infinite ease-in-out; }\n\n#leadia_science_widget .ball-pulse-sync > div {\n  -webkit-animation-fill-mode: both;\n  -moz-animation-fill-mode: both;\n  -o-animation-fill-mode: both;\n  animation-fill-mode: both; }\n\n/* стили для редактирования */\n#leadia_science_widget .leadia-widget-edit {\n  position: absolute;\n  left: 50%;\n  margin-left: -45px;\n  bottom: -11px;\n  border: 1px solid #dedcd6;\n  -webkit-border-radius: 10px;\n  -moz-border-radius: 10px;\n  -o-border-radius: 10px;\n  border-radius: 10px;\n  font-size: 10px;\n  color: #B9B9B9;\n  padding: 1px 7px 3px;\n  background: white;\n  line-height: 1;\n  cursor: pointer; }\n\n#leadia_science_widget .leadia-widget-edit:hover {\n  color: #4c87ff;\n  border-color: #4c87ff; }\n\n#leadia_science_widget .leadia-widget-edit:hover .leadia-widget-edit-icon {\n  background-position: 0 bottom; }\n\n#leadia_science_widget .leadia-widget-edit-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 8px;\n  height: 8px;\n  margin-right: 4px;\n  background: url("https://133921.selcdn.ru/widget/system/sm_carik.png") 0 0 no-repeat; }\n\n/* стили для редактирования */\n/* FLIP STYLE */\n#leadia_science_widget .leadia_widget_photo {\n  perspective: 1000px;\n  -webkit-perspective: 1000px;\n  -moz-perspective: 1000px;\n  -o-perspective: 1000px;\n  -ms-perspective: 1000px; }\n\n#leadia_science_widget .leadia_widget_photo_flipper {\n  transition: 0.5s ease-out;\n  -webkit-transition: 0.5s ease-out;\n  -moz-transition: 0.5s ease-out;\n  -o-transition: 0.5s ease-out;\n  -ms-transition: 0.5s ease-out;\n  transform-style: preserve-3d;\n  -webkit-transform-style: preserve-3d;\n  -moz-transform-style: preserve-3d;\n  -o-transform-style: preserve-3d;\n  -ms-transform-style: preserve-3d;\n  width: 100%;\n  height: 100%;\n  position: relative; }\n\n#leadia_science_widget .leadia_widget_photo.leadia_widget_photo_flipped .leadia_widget_photo_flipper {\n  transform: rotateY(180deg);\n  -webkit-transform: rotateY(180deg);\n  -moz-transform: rotateY(180deg);\n  -o-transform: rotateY(180deg);\n  -ms-transform: rotateY(180deg); }\n\n#leadia_science_widget .leadia_widget_photo_front, #leadia_science_widget .leadia_widget_photo_back {\n  backface-visibility: hidden;\n  -webkit-backface-visibility: hidden;\n  -moz-backface-visibility: hidden;\n  -o-backface-visibility: hidden;\n  -ms-backface-visibility: visible;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  -webkit-border-radius: 50% !important;\n  -moz-border-radius: 50% !important;\n  border-radius: 50% !important;\n  overflow: hidden; }\n\n#leadia_science_widget .leadia_widget_photo .leadia_widget_photo_front,\n#leadia_science_widget .leadia_widget_photo.leadia_widget_photo_flipped .leadia_widget_photo_front {\n  transform: rotateY(0deg);\n  -webkit-transform: rotateY(0deg);\n  -moz-transform: rotateY(0deg);\n  -o-transform: rotateY(0deg);\n  -ms-transform: rotateY(0deg); }\n\n#leadia_science_widget .leadia_widget_photo .leadia_widget_photo_back,\n#leadia_science_widget .leadia_widget_photo.leadia_widget_photo_flipped .leadia_widget_photo_back {\n  transform: rotateY(-180deg);\n  -webkit-transform: rotateY(-180deg);\n  -moz-transform: rotateY(-180deg);\n  -o-transform: rotateY(-180deg);\n  -ms-transform: rotateY(-180deg); }\n\n#leadia_science_widget .leadia_widget_photo .leadia_widget_photo_front,\n#leadia_science_widget .leadia_widget_photo.leadia_widget_photo_flipped .leadia_widget_photo_back {\n  animation: stayvisible 0.5s both;\n  -webkit-animation: stayvisible 0.5s both;\n  -moz-animation: stayvisible 0.5s both;\n  -o-animation: stayvisible 0.5s both;\n  -ms-animation: donothing 0.5s;\n  -ms-transition: visibility 0s linear 0.17s;\n  visibility: visible; }\n\n#leadia_science_widget .leadia_widget_photo.leadia_widget_photo_flipped .leadia_widget_photo_front,\n#leadia_science_widget .leadia_widget_photo .leadia_widget_photo_back {\n  animation: stayvisible 0.5s both;\n  -webkit-animation: stayvisible 0.5s both;\n  -moz-animation: stayvisible 0.5s both;\n  -o-animation: stayvisible 0.5s both;\n  -ms-animation: donothing 0.5s;\n  -ms-transition: visibility 0s linear 0.17s;\n  visibility: hidden; }\n\n/*#leadia_science_widget .leadia_widget_photo_front {\n  z-index: 2;\n  -webkit-transform: perspective(200px) rotateY(0deg);\n     -moz-transform: perspective(200px) rotateY(0deg);\n      -ms-transform: perspective(200px) rotateY(0deg);\n       -o-transform: perspective(200px) rotateY(0deg);\n          transform: perspective(200px) rotateY(0deg);\n  -webkit-transition: -webkit-transform 1s;\n     -moz-transition: -moz-transform 1s;\n      -ms-transition: -ms-transform 1s;\n       -o-transition: -o-transform 1s;\n          transition: transform 1s;\n}\n\n#leadia_science_widget .leadia_widget_photo_back {\n  -webkit-transform: perspective(200px) rotateY(180deg);\n     -moz-transform: perspective(200px) rotateY(180deg);\n      -ms-transform: perspective(200px) rotateY(180deg);\n       -o-transform: perspective(200px) rotateY(180deg);\n          transform: perspective(200px) rotateY(180deg);\n  -webkit-transition: -webkit-transform 1s;\n     -moz-transition: -moz-transform 1s;\n      -ms-transition: -ms-transform 1s;\n       -o-transition: -o-transform 1s;\n          transition: transform 1s;\n}*/\n#leadia_science_widget .leadia_widget_photo_front img, #leadia_science_widget .leadia_widget_photo_back img {\n  max-width: 100% !important;\n  border: none !important; \n  height: auto;\n}\n\n/*#leadia_science_widget .leadia_widget_photo_flipped .leadia_widget_photo_front {\n  -webkit-transform: perspective(200px) rotateY(-180deg);\n     -moz-transform: perspective(200px) rotateY(-180deg);\n      -ms-transform: perspective(200px) rotateY(-180deg);\n       -o-transform: perspective(200px) rotateY(-180deg);\n          transform: perspective(200px) rotateY(-180deg);\n}\n\n#leadia_science_widget .leadia_widget_photo_flipped .leadia_widget_photo_back {\n  -webkit-transform: perspective(200px) rotateY(0deg);\n     -moz-transform: perspective(200px) rotateY(0deg);\n      -ms-transform: perspective(200px) rotateY(0deg);\n       -o-transform: perspective(200px) rotateY(0deg);\n          transform: perspective(200px) rotateY(0deg);\n}*/\n@keyframes stayvisible {\n  from {\n    visibility: visible; }\n  to {\n    visibility: visible; } }\n\n@-webkit-keyframes stayvisible {\n  from {\n    visibility: visible; }\n  to {\n    visibility: visible; } }\n\n@-moz-keyframes stayvisible {\n  from {\n    visibility: visible; }\n  to {\n    visibility: visible; } }\n\n@-o-keyframes stayvisible {\n  from {\n    visibility: visible; }\n  to {\n    visibility: visible; } }\n\n@-ms-keyframes donothing {}/* FLIP STYLE END */\n/* скрыть хвостик в safari */\n_::-moz-svg-foreign-content, :root .msg_wrap_corner_right {\n  display: none; }\n\n_::-moz-svg-foreign-content, :root .leadia_widget_shaker:before {\n  display: none; }\n\n/* скрыть хвостик в safari */\n/* call form */\n#leadia_science_widget .leadia_widget_order_title {\n  padding: 20px 0;\n  color: #525151;\n  font-size: 12px;\n  text-align: center; }\n\n#leadia_science_widget .leadia_widget_order_rel {\n  position: relative; }\n\n#leadia_science_widget .leadia_widget_order_control {\n  width: 100% !important;\n  height: 35px !important;\n  border: 1px solid #bcc3c9 !important;\n  -webkit-border-radius: 4px !important;\n  -moz-border-radius: 4px !important;\n  border-radius: 4px !important;\n  margin-bottom: 20px !important;\n  padding-left: 37px !important;\n  font-size: 12px !important;\n  -webkit-transition: all .2s !important;\n  -moz-transition: all .2s !important;\n  -o-transition: all .2s !important;\n  transition: all .2s !important; }\n\n#leadia_science_widget .leadia_widget_order_control:focus {\n  outline: none !important;\n  border-color: #91bee3 !important;\n  -webkit-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15) !important;\n  -moz-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15) !important;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15) !important; }\n\n#leadia_science_widget select.leadia_widget_order_control {\n  padding-left: 33px !important;\n  color: #888 !important;\n  -webkit-appearance: none !important;\n  -moz-appearance: none !important;\n  appearance: none !important; }\n\n#leadia_science_widget .leadia_widget_order_control_cell_1,\n#leadia_science_widget .leadia_widget_order_control_cell_2 {\n  position: relative;\n  font-size: 14px;\n  color: #939aa1;\n  display: inline-block;\n  vertical-align: middle; }\n\n#leadia_science_widget .leadia_widget_order_control_cell_2 .leadia_widget_order_control {\n  padding: 0 0 0 5px !important; }\n\n#leadia_science_widget .leadia_widget_order_control_cell_1 {\n  width: 55%;\n  padding-right: 20px;\n  margin-right: -4px; }\n\n#leadia_science_widget .leadia_widget_order_control_cell_1 .leadia_widget_arrow_down {\n  right: 26px; }\n\n#leadia_science_widget .leadia_widget_order_control_cell_2 {\n  width: 45%; }\n\n#leadia_science_widget .leadia_widget_order_btn {\n  position: relative;\n  width: 100%;\n  height: 41px;\n  line-height: 41px;\n  margin-bottom: 15px;\n  border: 1px solid #b1ae91;\n  background: #fdcf31;\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n  text-transform: uppercase;\n  color: #000;\n  font-size: 12px;\n  text-align: center;\n  cursor: pointer;\n  text-shadow: 0 1px rgba(255, 255, 255, 0.5);\n  background: -moz-linear-gradient(top, #fdcf31 0%, #fbb62d 100%);\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #fdcf31), color-stop(100%, #fbb62d));\n  background: -webkit-linear-gradient(top, #fdcf31 0%, #fbb62d 100%);\n  background: -o-linear-gradient(top, #fdcf31 0%, #fbb62d 100%);\n  background: -webkit-gradient(linear, left top, left bottom, from(#fdcf31), to(#fbb62d));\n  background: -webkit-linear-gradient(top, #fdcf31 0%, #fbb62d 100%);\n  background: -o-linear-gradient(top, #fdcf31 0%, #fbb62d 100%);\n  background: linear-gradient(to bottom, #fdcf31 0%, #fbb62d 100%);\n  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=\'#fdcf31\', endColorstr=\'#fbb62d\', GradientType=0); }\n\n#leadia_science_widget .leadia_widget_order_btn:hover {\n  background: #fbb62d;\n  background: -moz-linear-gradient(top, #fbb62d 0%, #fdcf31 100%);\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #fbb62d), color-stop(100%, #fdcf31));\n  background: -webkit-linear-gradient(top, #fbb62d 0%, #fdcf31 100%);\n  background: -o-linear-gradient(top, #fbb62d 0%, #fdcf31 100%);\n  background: -webkit-gradient(linear, left top, left bottom, from(#fbb62d), to(#fdcf31));\n  background: -webkit-linear-gradient(top, #fbb62d 0%, #fdcf31 100%);\n  background: -o-linear-gradient(top, #fbb62d 0%, #fdcf31 100%);\n  background: linear-gradient(to bottom, #fbb62d 0%, #fdcf31 100%);\n  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=\'#fbb62d\', endColorstr=\'#fdcf31\', GradientType=0); }\n\n#leadia_science_widget .leadia_widget_order_btn:active {\n  -webkit-box-shadow: inset 0 2px 3px rgba(0, 0, 0, 0.2);\n  -moz-box-shadow: inset 0 2px 3px rgba(0, 0, 0, 0.2);\n  box-shadow: inset 0 2px 3px rgba(0, 0, 0, 0.2); }\n\n#leadia_science_widget .leadia_widget_order_back {\n  position: relative;\n  display: inline-block;\n  cursor: pointer;\n  color: #9aa1a7;\n  font-size: 12px;\n  text-decoration: underline; }\n\n#leadia_science_widget .leadia_widget_order_back:hover {\n  color: black; }\n\n#leadia_science_widget .leadia_widget_order_back:hover .leadia_widget_arrow_left {\n  background-position: right -56px; }\n\n#leadia_science_widget .leadia_widget_order_back:hover .leadia_widget_chat_icon {\n  opacity: 1; }\n\n#leadia_science_widget [class*="leadia_widget_icon"] {\n  position: absolute;\n  left: 8px;\n  top: 9px;\n  z-index: 1;\n  width: 17px;\n  height: 17px;\n  background: url("https://133921.selcdn.ru/widget/system/lw_widget_sprite_upd.png") 0 0 no-repeat; }\n\n#leadia_science_widget [class*="leadia_widget_icon"]:after {\n  content: \'\';\n  height: 20px;\n  border-left: 1px solid #bcc3c9;\n  float: right;\n  margin-right: -6px; }\n\n#leadia_science_widget .leadia_widget_icon_user {\n  background-position: 0 -18px; }\n\n#leadia_science_widget .leadia_widget_icon_date {\n  background-position: 0 -37px; }\n\n#leadia_science_widget .leadia_widget_order_control:focus ~ .leadia_widget_icon_handset {\n  background-position: -18px 0; }\n\n#leadia_science_widget .leadia_widget_order_control:focus ~ .leadia_widget_icon_user {\n  background-position: -15px  -18px; }\n\n#leadia_science_widget .leadia_widget_order_control:focus ~ .leadia_widget_icon_date {\n  background-position: -17px  -37px; }\n\n#leadia_science_widget .leadia_widget_order_control:focus ~ [class*="leadia_widget_icon"]:after {\n  border-color: #91bee3; }\n\n#leadia_science_widget .leadia_widget_arrow_right {\n  position: absolute;\n  right: 15px;\n  top: 50%;\n  margin-top: -6px;\n  width: 7px;\n  height: 10px;\n  background: url("https://133921.selcdn.ru/widget/system/lw_widget_sprite_upd.png") right -66px no-repeat; }\n\n#leadia_science_widget .leadia_widget_arrow_left {\n  display: inline-block;\n  vertical-align: middle;\n  margin-right: 5px;\n  width: 7px;\n  height: 10px;\n  background: url("https://133921.selcdn.ru/widget/system/lw_widget_sprite_upd.png") 0 -56px no-repeat; }\n\n#leadia_science_widget .leadia_widget_arrow_down {\n  position: absolute;\n  right: 6px;\n  left: auto;\n  top: 14px;\n  width: 10px;\n  height: 6px;\n  background: url("https://133921.selcdn.ru/widget/system/lw_widget_sprite_upd.png") 0 -76px no-repeat;\n  z-index: -1; }\n\n#leadia_science_widget .leadia_widget_chat_icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 16px;\n  height: 16px;\n  opacity: .4;\n  margin-right: 5px;\n  margin-left: -21px;\n  background: url("https://133921.selcdn.ru/widget/system/lw_widget_sprite_upd.png") -10px -55px no-repeat; }\n\n#leadia_science_widget .leadia_widget_call_style {\n  margin-bottom: 0;\n  margin-top: -12px; }\n\n#leadia_science_widget .leadia_widget_call_style select {\n  background-color: transparent !important; }\n\n#leadia_science_widget .leadia_widget_call_style .msg_wrap {\n  width: 100%;\n  max-width: inherit;\n  border: 0;\n  background: 0;\n  padding: 0 10%; }\n\n#leadia_science_widget .leadia_widget_call_style .leadia_msg_time,\n#leadia_science_widget .leadia_widget_call_style .msg_wrap_corner,\n#leadia_science_widget .leadia_widget_call_style .msg_wrap:after {\n  display: none; }\n\n#leadia_science_widget #leadia_widget_callform_step2 .success_send {\n  margin: 30px auto; }\n\n#leadia_science_widget #leadia_widget_callform_step2 .widget_thankyoupage_text {\n  text-align: center; }\n\n/* call form */\n/* back button */\n#leadia_science_widget .leadia_widget_dib_50 {\n  position: relative;\n  display: inline-block;\n  vertical-align: middle;\n  width: 50%;\n  margin-right: -2px; }\n\n#leadia_science_widget .leadia_widget_arrow_left_2 {\n  display: inline-block;\n  vertical-align: middle;\n  width: 16px;\n  height: 10px;\n  margin-right: 5px;\n  background: url("https://133921.selcdn.ru/widget/system/lw_widget_sprite_upd.png") 0 -85px no-repeat; }\n\n#leadia_science_widget .leadia_widget_arrow_right_2 {\n  display: inline-block;\n  vertical-align: middle;\n  width: 16px;\n  height: 10px;\n  margin-left: 5px;\n  background: url("https://133921.selcdn.ru/widget/system/lw_widget_sprite_upd.png") -19px -85px no-repeat; }\n\n#leadia_science_widget .leadia_widget_cell_50 {\n  display: inline-block;\n  vertical-align: middle;\n  width: 50%;\n  margin-right: -4px; }\n\n#leadia_science_widget .leadia_widget_dib {\n  display: inline-block;\n  vertical-align: middle; }\n\n#leadia_science_widget .leadia_widget_back_2 {\n  display: inline-block;\n  color: #929292;\n  cursor: pointer; }\n\n#leadia_science_widget .leadia_widget_back_2:hover {\n  color: #717171; }\n\n/* back button */\n/* BELL NOTIFIER */\n#leadia_science_widget .leadia_widget_bell {\n  position: absolute;\n  top: 50%;\n  right: 20px;\n  width: 29px;\n  height: 29px;\n  line-height: 34px;\n  margin: -15px 0 0;\n  border-radius: 50%;\n  background-color: rgba(255, 255, 255, 0.3);\n  text-align: center;\n  transition: transform .2s;\n  transform: scale(0); }\n\n#leadia_science_widget .leadia_widget_bell_icon {\n  width: 13px;\n  height: 14px;\n  background: url("https://133921.selcdn.ru/widget/system/lw_widget_sprite_upd.png") -12px -71px no-repeat;\n  -webkit-transform-origin: 50% 1%;\n  -moz-transform-origin: 50% 1%;\n  -ms-transform-origin: 50% 1%;\n  -o-transform-origin: 50% 1%;\n  transform-origin: 50% 1%;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  margin: -7px 0 0 -7px; }\n\n#leadia_science_widget .leadia_widget_bell_notif {\n  position: absolute;\n  top: -4px;\n  right: -4px;\n  width: 13px;\n  height: 13px;\n  line-height: 13px;\n  -webkit-border-radius: 50%;\n  -moz-border-radius: 50%;\n  border-radius: 50%;\n  border: 1px solid white;\n  background: url("https://133921.selcdn.ru/widget/system/lw_widget_sprite_upd.png") -1px -97px no-repeat;\n  -webkit-transition: -webkit-transform .2s .2s;\n  transition: -webkit-transform .2s .2s;\n  -moz-transition: transform .2s .2s, -moz-transform .2s .2s;\n  -o-transition: transform .2s .2s, -o-transform .2s .2s;\n  transition: transform .2s .2s;\n  transition: transform .2s .2s, -webkit-transform .2s .2s, -moz-transform .2s .2s, -o-transform .2s .2s;\n  -webkit-transform: scale(0);\n  -moz-transform: scale(0);\n  -ms-transform: scale(0);\n  -o-transform: scale(0);\n  transform: scale(0); }\n\n#leadia_science_widget .leadia_widget_bell_show {\n  -webkit-transform: scale(1);\n  -moz-transform: scale(1);\n  -ms-transform: scale(1);\n  -o-transform: scale(1);\n  transform: scale(1); }\n\n#leadia_science_widget .leadia_widget_bell_show .leadia_widget_bell_icon {\n  -webkit-animation: ring 2s 2s ease-in-out infinite;\n  -moz-animation: ring 2s 2s ease-in-out infinite;\n  -o-animation: ring 2s 2s ease-in-out infinite;\n  animation: ring 2s 2s ease-in-out infinite; }\n\n#leadia_science_widget .leadia_widget_bell_show .leadia_widget_bell_notif {\n  -webkit-transform: scale(1);\n  -moz-transform: scale(1);\n  -ms-transform: scale(1);\n  -o-transform: scale(1);\n  transform: scale(1); }\n\n/* perfect-scrollbar v0.6.10 */\n#leadia_science_widget .ps-container {\n  -ms-touch-action: none;\n  touch-action: none;\n  overflow: hidden !important;\n  -ms-overflow-style: none; }\n\n@supports (-ms-overflow-style: none) {\n  #leadia_science_widget .ps-container {\n    overflow: auto !important; } }\n\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n  #leadia_science_widget .ps-container {\n    overflow: auto !important; } }\n\n#leadia_science_widget .ps-container.ps-active-x > .ps-scrollbar-x-rail, #leadia_science_widget .ps-container.ps-active-y > .ps-scrollbar-y-rail {\n  display: block;\n  background-color: transparent; }\n\n#leadia_science_widget .ps-container.ps-in-scrolling {\n  pointer-events: none; }\n\n#leadia_science_widget .ps-container.ps-in-scrolling.ps-x > .ps-scrollbar-x-rail {\n  background-color: #eee;\n  opacity: 0.9; }\n\n#leadia_science_widget .ps-container.ps-in-scrolling.ps-x > .ps-scrollbar-x-rail > .ps-scrollbar-x {\n  background-color: #999; }\n\n#leadia_science_widget .ps-container.ps-in-scrolling.ps-y > .ps-scrollbar-y-rail {\n  background-color: #eee;\n  opacity: 0.9; }\n\n#leadia_science_widget .ps-container.ps-in-scrolling.ps-y > .ps-scrollbar-y-rail > .ps-scrollbar-y {\n  background-color: #999; }\n\n#leadia_science_widget .ps-container > .ps-scrollbar-x-rail {\n  display: none;\n  position: absolute;\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n  opacity: 0;\n  -webkit-transition: background-color .2s linear, opacity .2s linear;\n  -moz-transition: background-color .2s linear, opacity .2s linear;\n  -o-transition: background-color .2s linear, opacity .2s linear;\n  transition: background-color .2s linear, opacity .2s linear;\n  bottom: 3px;\n  height: 8px; }\n\n#leadia_science_widget .ps-container > .ps-scrollbar-x-rail > .ps-scrollbar-x {\n  position: absolute;\n  background-color: #aaa;\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n  -webkit-transition: background-color .2s linear;\n  -moz-transition: background-color .2s linear;\n  -o-transition: background-color .2s linear;\n  transition: background-color .2s linear;\n  bottom: 0;\n  height: 8px; }\n\n#leadia_science_widget .ps-container > .ps-scrollbar-y-rail {\n  display: none;\n  position: absolute;\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n  opacity: 0;\n  -webkit-transition: background-color .2s linear, opacity .2s linear;\n  -moz-transition: background-color .2s linear, opacity .2s linear;\n  -o-transition: background-color .2s linear, opacity .2s linear;\n  transition: background-color .2s linear, opacity .2s linear;\n  right: 3px;\n  width: 8px; }\n\n#leadia_science_widget .ps-container > .ps-scrollbar-y-rail > .ps-scrollbar-y {\n  position: absolute;\n  background-color: #aaa;\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n  -webkit-transition: background-color .2s linear;\n  -moz-transition: background-color .2s linear;\n  -o-transition: background-color .2s linear;\n  transition: background-color .2s linear;\n  right: 0;\n  width: 8px; }\n\n#leadia_science_widget .ps-container:hover.ps-in-scrolling {\n  pointer-events: none; }\n\n#leadia_science_widget .ps-container:hover.ps-in-scrolling.ps-x > .ps-scrollbar-x-rail {\n  background-color: #eee;\n  opacity: 0.9; }\n\n#leadia_science_widget .ps-container:hover.ps-in-scrolling.ps-x > .ps-scrollbar-x-rail > .ps-scrollbar-x {\n  background-color: #999; }\n\n#leadia_science_widget .ps-container:hover.ps-in-scrolling.ps-y > .ps-scrollbar-y-rail {\n  background-color: #eee;\n  opacity: 0.9; }\n\n#leadia_science_widget .ps-container:hover.ps-in-scrolling.ps-y > .ps-scrollbar-y-rail > .ps-scrollbar-y {\n  background-color: #999; }\n\n#leadia_science_widget .ps-container:hover > .ps-scrollbar-x-rail, #leadia_science_widget .ps-container:hover > .ps-scrollbar-y-rail {\n  opacity: 0.6; }\n\n#leadia_science_widget .ps-container:hover > .ps-scrollbar-x-rail:hover {\n  background-color: #eee;\n  opacity: 0.9; }\n\n#leadia_science_widget .ps-container:hover > .ps-scrollbar-x-rail:hover > .ps-scrollbar-x {\n  background-color: #999; }\n\n#leadia_science_widget .ps-container:hover > .ps-scrollbar-y-rail:hover {\n  background-color: #eee;\n  opacity: 0.9; }\n\n#leadia_science_widget .ps-container:hover > .ps-scrollbar-y-rail:hover > .ps-scrollbar-y {\n  background-color: #999; }\n\n/* photo blink */\n#leadia_science_widget .leadia_widget_photo_front:before {\n  content: \'\';\n  display: block;\n  position: absolute;\n  width: 140%;\n  height: 100%;\n  top: 120%;\n  left: -20%;\n  opacity: 0.6;\n  background: linear-gradient(180deg, rgba(255, 255, 255, 0), #ffffff 40%, rgba(255, 255, 255, 0.6) 60%, rgba(255, 255, 255, 0));\n  -webkit-transform: rotate(20deg) translateZ(0);\n  -moz-transform: rotate(20deg) translateZ(0);\n  -ms-transform: rotate(20deg) translateZ(0);\n  -o-transform: rotate(20deg) translateZ(0);\n  transform: rotate(20deg) translateZ(0);\n  -webkit-animation: ava-blick 10s infinite cubic-bezier(0, 0.3, 1, 0.7);\n  -moz-animation: ava-blick 10s infinite cubic-bezier(0, 0.3, 1, 0.7);\n  -ms-animation: ava-blick 10s infinite cubic-bezier(0, 0.3, 1, 0.7);\n  -o-animation: ava-blick 10s infinite cubic-bezier(0, 0.3, 1, 0.7);\n  animation: ava-blick 10s infinite cubic-bezier(0, 0.3, 1, 0.7);\n  will-change: transform; }\n\n@-webkit-keyframes ava-blick {\n  0% {\n    top: 120%; }\n  75% {\n    top: 120%; }\n  80% {\n    top: -120%; }\n  100% {\n    top: -120%; } }\n\n@-moz-keyframes ava-blick {\n  0% {\n    top: 120%; }\n  75% {\n    top: 120%; }\n  80% {\n    top: -120%; }\n  100% {\n    top: -120%; } }\n\n@-ms-keyframes ava-blick {\n  0% {\n    top: 120%; }\n  75% {\n    top: 120%; }\n  80% {\n    top: -120%; }\n  100% {\n    top: -120%; } }\n\n@-ms-keyframes ava-blick {\n  0% {\n    top: 120%; }\n  75% {\n    top: 120%; }\n  80% {\n    top: -120%; }\n  100% {\n    top: -120%; } }\n\n@-o-keyframes ava-blick {\n  0% {\n    top: 120%; }\n  75% {\n    top: 120%; }\n  80% {\n    top: -120%; }\n  100% {\n    top: -120%; } }\n\n@keyframes ava-blick {\n  0% {\n    top: 120%; }\n  75% {\n    top: 120%; }\n  80% {\n    top: -120%; }\n  100% {\n    top: -120%; } }\n\n/* photo blink */\n@-webkit-keyframes ring {\n  0% {\n    -webkit-transform: rotate(0);\n    transform: rotate(0); }\n  5% {\n    -webkit-transform: rotate(10deg);\n    transform: rotate(10deg); }\n  10% {\n    -webkit-transform: rotate(-18deg);\n    transform: rotate(-18deg); }\n  15% {\n    -webkit-transform: rotate(14deg);\n    transform: rotate(14deg); }\n  20% {\n    -webkit-transform: rotate(-12deg);\n    transform: rotate(-12deg); }\n  25% {\n    -webkit-transform: rotate(10deg);\n    transform: rotate(10deg); }\n  30% {\n    -webkit-transform: rotate(-10deg);\n    transform: rotate(-10deg); }\n  35% {\n    -webkit-transform: rotate(8deg);\n    transform: rotate(8deg); }\n  40% {\n    -webkit-transform: rotate(0);\n    transform: rotate(0); } }\n\n@-moz-keyframes ring {\n  0% {\n    -moz-transform: rotate(0);\n    transform: rotate(0); }\n  5% {\n    -moz-transform: rotate(10deg);\n    transform: rotate(10deg); }\n  10% {\n    -moz-transform: rotate(-18deg);\n    transform: rotate(-18deg); }\n  15% {\n    -moz-transform: rotate(14deg);\n    transform: rotate(14deg); }\n  20% {\n    -moz-transform: rotate(-12deg);\n    transform: rotate(-12deg); }\n  25% {\n    -moz-transform: rotate(10deg);\n    transform: rotate(10deg); }\n  30% {\n    -moz-transform: rotate(-10deg);\n    transform: rotate(-10deg); }\n  35% {\n    -moz-transform: rotate(8deg);\n    transform: rotate(8deg); }\n  40% {\n    -moz-transform: rotate(0);\n    transform: rotate(0); } }\n\n@-o-keyframes ring {\n  0% {\n    -o-transform: rotate(0);\n    transform: rotate(0); }\n  5% {\n    -o-transform: rotate(10deg);\n    transform: rotate(10deg); }\n  10% {\n    -o-transform: rotate(-18deg);\n    transform: rotate(-18deg); }\n  15% {\n    -o-transform: rotate(14deg);\n    transform: rotate(14deg); }\n  20% {\n    -o-transform: rotate(-12deg);\n    transform: rotate(-12deg); }\n  25% {\n    -o-transform: rotate(10deg);\n    transform: rotate(10deg); }\n  30% {\n    -o-transform: rotate(-10deg);\n    transform: rotate(-10deg); }\n  35% {\n    -o-transform: rotate(8deg);\n    transform: rotate(8deg); }\n  40% {\n    -o-transform: rotate(0);\n    transform: rotate(0); } }\n\n@keyframes ring {\n  0% {\n    -webkit-transform: rotate(0);\n    -moz-transform: rotate(0);\n    -o-transform: rotate(0);\n    transform: rotate(0); }\n  5% {\n    -webkit-transform: rotate(10deg);\n    -moz-transform: rotate(10deg);\n    -o-transform: rotate(10deg);\n    transform: rotate(10deg); }\n  10% {\n    -webkit-transform: rotate(-18deg);\n    -moz-transform: rotate(-18deg);\n    -o-transform: rotate(-18deg);\n    transform: rotate(-18deg); }\n  15% {\n    -webkit-transform: rotate(14deg);\n    -moz-transform: rotate(14deg);\n    -o-transform: rotate(14deg);\n    transform: rotate(14deg); }\n  20% {\n    -webkit-transform: rotate(-12deg);\n    -moz-transform: rotate(-12deg);\n    -o-transform: rotate(-12deg);\n    transform: rotate(-12deg); }\n  25% {\n    -webkit-transform: rotate(10deg);\n    -moz-transform: rotate(10deg);\n    -o-transform: rotate(10deg);\n    transform: rotate(10deg); }\n  30% {\n    -webkit-transform: rotate(-10deg);\n    -moz-transform: rotate(-10deg);\n    -o-transform: rotate(-10deg);\n    transform: rotate(-10deg); }\n  35% {\n    -webkit-transform: rotate(8deg);\n    -moz-transform: rotate(8deg);\n    -o-transform: rotate(8deg);\n    transform: rotate(8deg); }\n  40% {\n    -webkit-transform: rotate(0);\n    -moz-transform: rotate(0);\n    -o-transform: rotate(0);\n    transform: rotate(0); } }\n\n/* BELL NOTIFIER END  */\n@-webkit-keyframes ball-pulse-sync {\n  33% {\n    -webkit-transform: translateY(10px);\n    -ms-transform: translateY(10px);\n    transform: translateY(10px); }\n  66% {\n    -webkit-transform: translateY(-10px);\n    -ms-transform: translateY(-10px);\n    transform: translateY(-10px); }\n  100% {\n    -webkit-transform: translateY(0);\n    -ms-transform: translateY(0);\n    transform: translateY(0); } }\n\n@-moz-keyframes ball-pulse-sync {\n  33% {\n    -webkit-transform: translateY(10px);\n    -ms-transform: translateY(10px);\n    -moz-transform: translateY(10px);\n    transform: translateY(10px); }\n  66% {\n    -webkit-transform: translateY(-10px);\n    -ms-transform: translateY(-10px);\n    -moz-transform: translateY(-10px);\n    transform: translateY(-10px); }\n  100% {\n    -webkit-transform: translateY(0);\n    -ms-transform: translateY(0);\n    -moz-transform: translateY(0);\n    transform: translateY(0); } }\n\n@-o-keyframes ball-pulse-sync {\n  33% {\n    -webkit-transform: translateY(10px);\n    -ms-transform: translateY(10px);\n    -o-transform: translateY(10px);\n    transform: translateY(10px); }\n  66% {\n    -webkit-transform: translateY(-10px);\n    -ms-transform: translateY(-10px);\n    -o-transform: translateY(-10px);\n    transform: translateY(-10px); }\n  100% {\n    -webkit-transform: translateY(0);\n    -ms-transform: translateY(0);\n    -o-transform: translateY(0);\n    transform: translateY(0); } }\n\n@keyframes ball-pulse-sync {\n  33% {\n    -webkit-transform: translateY(10px);\n    -ms-transform: translateY(10px);\n    -moz-transform: translateY(10px);\n    -o-transform: translateY(10px);\n    transform: translateY(10px); }\n  66% {\n    -webkit-transform: translateY(-10px);\n    -ms-transform: translateY(-10px);\n    -moz-transform: translateY(-10px);\n    -o-transform: translateY(-10px);\n    transform: translateY(-10px); }\n  100% {\n    -webkit-transform: translateY(0);\n    -ms-transform: translateY(0);\n    -moz-transform: translateY(0);\n    -o-transform: translateY(0);\n    transform: translateY(0); } }\n\n/* new animation bubble */\n@-webkit-keyframes LOADING {\n  0% {\n    -webkit-transform: scale(0.5);\n    -ms-transform: scale(0.5);\n    transform: scale(0.5); }\n  50% {\n    -webkit-transform: scale(1);\n    -ms-transform: scale(1);\n    transform: scale(1); }\n  100% {\n    -webkit-transform: scale(0.5);\n    -ms-transform: scale(0.5);\n    transform: scale(0.5); } }\n\n@-moz-keyframes LOADING {\n  0% {\n    -webkit-transform: scale(0.5);\n    -ms-transform: scale(0.5);\n    -moz-transform: scale(0.5);\n    transform: scale(0.5); }\n  50% {\n    -webkit-transform: scale(1);\n    -ms-transform: scale(1);\n    -moz-transform: scale(1);\n    transform: scale(1); }\n  100% {\n    -webkit-transform: scale(0.5);\n    -ms-transform: scale(0.5);\n    -moz-transform: scale(0.5);\n    transform: scale(0.5); } }\n\n@-o-keyframes LOADING {\n  0% {\n    -webkit-transform: scale(0.5);\n    -ms-transform: scale(0.5);\n    -o-transform: scale(0.5);\n    transform: scale(0.5); }\n  50% {\n    -webkit-transform: scale(1);\n    -ms-transform: scale(1);\n    -o-transform: scale(1);\n    transform: scale(1); }\n  100% {\n    -webkit-transform: scale(0.5);\n    -ms-transform: scale(0.5);\n    -o-transform: scale(0.5);\n    transform: scale(0.5); } }\n\n@keyframes LOADING {\n  0% {\n    -webkit-transform: scale(0.5);\n    -ms-transform: scale(0.5);\n    -moz-transform: scale(0.5);\n    -o-transform: scale(0.5);\n    transform: scale(0.5); }\n  50% {\n    -webkit-transform: scale(1);\n    -ms-transform: scale(1);\n    -moz-transform: scale(1);\n    -o-transform: scale(1);\n    transform: scale(1); }\n  100% {\n    -webkit-transform: scale(0.5);\n    -ms-transform: scale(0.5);\n    -moz-transform: scale(0.5);\n    -o-transform: scale(0.5);\n    transform: scale(0.5); } }\n\n@-webkit-keyframes vrotate {\n  100% {\n    -webkit-transform: rotate(360deg);\n    -ms-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n\n@-moz-keyframes vrotate {\n  100% {\n    -webkit-transform: rotate(360deg);\n    -ms-transform: rotate(360deg);\n    -moz-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n\n@-o-keyframes vrotate {\n  100% {\n    -webkit-transform: rotate(360deg);\n    -ms-transform: rotate(360deg);\n    -o-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n\n@keyframes vrotate {\n  100% {\n    -webkit-transform: rotate(360deg);\n    -ms-transform: rotate(360deg);\n    -moz-transform: rotate(360deg);\n    -o-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n\n/*#leadia_science_widget .leadia_widget {\n      transform: translateX(330px) skew(-25deg);\n      animation: skew1 .7s forwards linear;\n}\n\n@keyframes skew1 {\n  40% {transform: translateX(0) skew(0);}\n  60% {transform: translateX(-5px) skew(10deg);}\n  100% {transform: translateX(0) skew(0);}\n}*/\n/*#leadia_science_widget .leadia_widget {\n      transform: translateX(-330px) skew(25deg);\n      animation: skew2 .7s forwards linear;\n}\n\n@keyframes skew2 {\n  40% {transform: translateX(0) skew(0);}\n  60% {transform: translateX(5px) skew(-10deg);}\n  100% {transform: translateX(0) skew(0);}\n}*/\n#leadia_science_widget .leadia_widget_minimize {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n  -webkit-transition: opacity 0.15s easy-in;\n  -moz-transition: opacity 0.15s easy-in;\n  -o-transition: opacity 0.15s easy-in;\n  -ms-transition: opacity 0.15s easy-in;\n  transition: opacity 0.15s easy-in; }\n\n#leadia_science_widget .leadia_widget_hover .leadia_widget_minimize {\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0); }\n\n#leadia_science_widget .leadia_widget .leadia_widget_body {\n  -webkit-transition: height .2s;\n  -moz-transition: height .2s;\n  -o-transition: height .2s;\n  transition: height .2s; }\n\n#leadia_science_widget .leadia_widget.lw_minimized .leadia_widget_body {\n  height: 0; }\n\n#leadia_science_widget .leadia_widget.lw_minimized .leadia_develope_by {\n  display: none; }\n\n/* TERM OF USE */\n#leadia_science_widget .lw_termsofuse {\n  color: #999 !important;\n  text-decoration: underline !important;\n  font-size: 10px !important;\n  cursor: pointer !important;\n  padding-bottom: 10px !important; }\n\n#leadia_science_widget .lw_termsofuse:hover {\n  color: #7d8cb7 !important; }\n\n/* TERM OF USE */\n/* NEW HOVER MENU */\n@-webkit-keyframes ava-blick {\n  0% {\n    top: 120%; }\n  75% {\n    top: 120%; }\n  80% {\n    top: -120%; }\n  100% {\n    top: -120%; } }\n\n@-moz-keyframes ava-blick {\n  0% {\n    top: 120%; }\n  75% {\n    top: 120%; }\n  80% {\n    top: -120%; }\n  100% {\n    top: -120%; } }\n\n@-ms-keyframes ava-blick {\n  0% {\n    top: 120%; }\n  75% {\n    top: 120%; }\n  80% {\n    top: -120%; }\n  100% {\n    top: -120%; } }\n\n@-ms-keyframes ava-blick {\n  0% {\n    top: 120%; }\n  75% {\n    top: 120%; }\n  80% {\n    top: -120%; }\n  100% {\n    top: -120%; } }\n\n@-o-keyframes ava-blick {\n  0% {\n    top: 120%; }\n  75% {\n    top: 120%; }\n  80% {\n    top: -120%; }\n  100% {\n    top: -120%; } }\n\n@keyframes ava-blick {\n  0% {\n    top: 120%; }\n  75% {\n    top: 120%; }\n  80% {\n    top: -120%; }\n  100% {\n    top: -120%; } }\n\n#leadia_science_widget .leadia_widget[data-apps="not-activated"] {\n  padding-top: 4px; }\n  #leadia_science_widget .leadia_widget[data-apps="not-activated"] .leadia_widget_header {\n    padding-left: 0px !important;\n    margin-bottom: 0px; }\n  #leadia_science_widget .leadia_widget[data-apps="not-activated"] .leadia_widget_hover_module_item {\n    padding-left: 70px;\n    position: relative;\n    min-height: 60px;\n    margin-bottom: 4px;\n    padding-top: 6px; }\n  #leadia_science_widget .leadia_widget[data-apps="not-activated"] .leadia_widget_hover_module_photo {\n    left: 10px;\n    top: 5px;\n    position: absolute;\n    height: 48px;\n    width: 48px;\n    -webkit-border-radius: 50%;\n    -moz-border-radius: 50%;\n    border-radius: 50%;\n    border: none;\n    -webkit-box-shadow: none;\n    -moz-box-shadow: none;\n    box-shadow: none;\n    margin: 0 !important;\n    opacity: 1;\n    -webkit-transform: none !important;\n    -moz-transform: none !important;\n    -ms-transform: none !important;\n    -o-transform: none !important;\n    transform: none !important;\n    -webkit-transition: none !important;\n    -moz-transition: none !important;\n    -o-transition: none !important;\n    transition: none !important; }\n    #leadia_science_widget .leadia_widget[data-apps="not-activated"] .leadia_widget_hover_module_photo img {\n      max-width: 100% !important; }\n\n#leadia_science_widget .leadia_widget[data-apps="activated"] {\n  padding-top: 4px;\n  margin-bottom: 0 !important;\n  /* photo blink */ }\n  #leadia_science_widget .leadia_widget[data-apps="activated"][data-state="maximized"] .leadia_widget_hover_module_item_container,\n  #leadia_science_widget .leadia_widget[data-apps="activated"][data-state="maximized"] .leadia_widget_hover_module_item_container.active {\n    -webkit-transition: none !important;\n    -moz-transition: none !important;\n    -o-transition: none !important;\n    transition: none !important;\n    -webkit-transform: none !important;\n    -moz-transform: none !important;\n    -ms-transform: none !important;\n    -o-transform: none !important;\n    transform: none !important; }\n    #leadia_science_widget .leadia_widget[data-apps="activated"][data-state="maximized"] .leadia_widget_hover_module_item_container .leadia_widget_hover_module_item,\n    #leadia_science_widget .leadia_widget[data-apps="activated"][data-state="maximized"] .leadia_widget_hover_module_item_container.active .leadia_widget_hover_module_item {\n      -webkit-transition: none !important;\n      -moz-transition: none !important;\n      -o-transition: none !important;\n      transition: none !important;\n      -webkit-transform: none !important;\n      -moz-transform: none !important;\n      -ms-transform: none !important;\n      -o-transform: none !important;\n      transform: none !important; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"] .leadia_widget_header {\n    min-height: 0px;\n    padding-left: 0px;\n    margin-bottom: 0px;\n    padding-top: 0px;\n    overflow: hidden;\n    padding-bottom: 64px; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"] .leadia_widget_hover_module_item {\n    padding-left: 70px;\n    position: relative;\n    min-height: 60px;\n    padding-top: 6px; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"] .leadia_widget_photo img,\n  #leadia_science_widget .leadia_widget[data-apps="activated"] .leadia_widget_hover_module_photo img {\n    max-width: 100% !important; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"] .leadia_widget_hover_module {\n    max-height: 0;\n    overflow: hidden;\n    -webkit-transition: max-height .2s ease-in-out;\n    -moz-transition: max-height .2s ease-in-out;\n    -o-transition: max-height .2s ease-in-out;\n    transition: max-height .2s ease-in-out; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"] .leadia_widget_hover_module_item {\n    min-height: 60px;\n    padding-top: 6px;\n    position: relative;\n    padding-left: 70px;\n    color: #97a7bd;\n    cursor: pointer;\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"] .leadia_widget_hover_module .leadia_widget_hover_module_item {\n    opacity: 0;\n    -webkit-transform: translateY(50px) !important;\n    -moz-transform: translateY(50px) !important;\n    -ms-transform: translateY(50px) !important;\n    -o-transform: translateY(50px) !important;\n    transform: translateY(50px) !important;\n    -webkit-transition: opacity .5s, -webkit-transform .4s !important;\n    transition: opacity .5s, -webkit-transform .4s !important;\n    -moz-transition: transform .4s, opacity .5s, -moz-transform .4s !important;\n    -o-transition: transform .4s, opacity .5s, -o-transform .4s !important;\n    transition: transform .4s, opacity .5s !important;\n    transition: transform .4s, opacity .5s, -webkit-transform .4s, -moz-transform .4s, -o-transform .4s !important; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"] .leadia_widget_hover_module_item:hover .leadia_widget_hover_module_photo {\n    -webkit-transform: scale(1) !important;\n    -moz-transform: scale(1) !important;\n    -ms-transform: scale(1) !important;\n    -o-transform: scale(1) !important;\n    transform: scale(1) !important; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"] .leadia_widget_hover_module:hover ~ .leadia_widget_header .leadia_widget_photo {\n    -webkit-transform: scale(0.65) !important;\n    -moz-transform: scale(0.65) !important;\n    -ms-transform: scale(0.65) !important;\n    -o-transform: scale(0.65) !important;\n    transform: scale(0.65) !important; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"] .leadia_widget_hover_module_photo {\n    overflow: hidden;\n    position: absolute;\n    left: 10px;\n    top: 5px;\n    height: 48px;\n    width: 48px;\n    -webkit-border-radius: 50%;\n    -moz-border-radius: 50%;\n    border-radius: 50%;\n    -webkit-transform: scale(0.65) !important;\n    -moz-transform: scale(0.65) !important;\n    -ms-transform: scale(0.65) !important;\n    -o-transform: scale(0.65) !important;\n    transform: scale(0.65) !important;\n    -webkit-transition: -webkit-transform .3s !important;\n    transition: -webkit-transform .3s !important;\n    -moz-transition: transform .3s, -moz-transform .3s !important;\n    -o-transition: transform .3s, -o-transform .3s !important;\n    transition: transform .3s !important;\n    transition: transform .3s, -webkit-transform .3s, -moz-transform .3s, -o-transform .3s !important; }\n    #leadia_science_widget .leadia_widget[data-apps="activated"] .leadia_widget_hover_module_photo img {\n      max-width: 100% !important; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"] .leadia_widget_hover_module_active .leadia_widget_hover_module {\n    max-height: 120px;\n    -webkit-transition: max-height .2s ease-in;\n    -moz-transition: max-height .2s ease-in;\n    -o-transition: max-height .2s ease-in;\n    transition: max-height .2s ease-in; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"] .leadia_widget_hover_module_active .leadia_widget_hover_module_item {\n    opacity: 1 !important;\n    -webkit-transform: translateY(0) !important;\n    -moz-transform: translateY(0) !important;\n    -ms-transform: translateY(0) !important;\n    -o-transform: translateY(0) !important;\n    transform: translateY(0) !important;\n    -webkit-transition: opacity .5s, -webkit-transform .3s .2s !important;\n    transition: opacity .5s, -webkit-transform .3s .2s !important;\n    -moz-transition: transform .3s .2s, opacity .5s, -moz-transform .3s .2s !important;\n    -o-transition: transform .3s .2s, opacity .5s, -o-transform .3s .2s !important;\n    transition: transform .3s .2s, opacity .5s !important;\n    transition: transform .3s .2s, opacity .5s, -webkit-transform .3s .2s, -moz-transform .3s .2s, -o-transform .3s .2s !important; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"] .leadia_widget_hover_module_active .leadia_widget_hover_module_item:nth-last-of-type(2) {\n    -webkit-transition-delay: .3s !important;\n    -moz-transition-delay: .3s !important;\n    -o-transition-delay: .3s !important;\n    transition-delay: .3s !important; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"].leadia_widget_hover:before {\n    display: none; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"].leadia_widget_hover {\n    margin-bottom: 0 !important; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"] .leadia_widget_hover_module_title {\n    padding: 7px 0 5px;\n    color: white;\n    font-style: normal;\n    font-size: 15px;\n    font-family: Helvetica, Arial !important;\n    line-height: 1; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"] .leadia_widget_hover_module_text {\n    font-size: 12px;\n    font-weight: normal;\n    color: white;\n    line-height: 1;\n    font-family: Helvetica, Arial !important; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"] .leadia_widget_minimize {\n    top: 20px; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"] .leadia_widget_title,\n  #leadia_science_widget .leadia_widget[data-apps="activated"] .leadia_widget_text,\n  #leadia_science_widget .leadia_widget[data-apps="activated"] .leadia_widget_hover_module_title,\n  #leadia_science_widget .leadia_widget[data-apps="activated"] .leadia_widget_hover_module_text {\n    position: relative;\n    z-index: 1; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"] .leadia_widget_hover_module_photo.remove_transform,\n  #leadia_science_widget .leadia_widget[data-apps="activated"] .leadia_widget_hover_module:hover ~ .leadia_widget_header .leadia_widget_hover_module_photo.remove_transform {\n    -webkit-transform: scale(1) !important;\n    -moz-transform: scale(1) !important;\n    -ms-transform: scale(1) !important;\n    -o-transform: scale(1) !important;\n    transform: scale(1) !important; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"] .leadia_widget_hover_module_photo:before {\n    content: \'\';\n    display: block;\n    position: absolute;\n    width: 140%;\n    height: 100%;\n    top: 120%;\n    left: -20%;\n    opacity: 0.6;\n    background: linear-gradient(180deg, rgba(255, 255, 255, 0), #ffffff 40%, rgba(255, 255, 255, 0.6) 60%, rgba(255, 255, 255, 0));\n    -webkit-transform: rotate(20deg);\n    -moz-transform: rotate(20deg);\n    -ms-transform: rotate(20deg);\n    -o-transform: rotate(20deg);\n    transform: rotate(20deg);\n    -webkit-animation: ava-blick 10s infinite cubic-bezier(0, 0.3, 1, 0.7);\n    -moz-animation: ava-blick 10s infinite cubic-bezier(0, 0.3, 1, 0.7);\n    -ms-animation: ava-blick 10s infinite cubic-bezier(0, 0.3, 1, 0.7);\n    -o-animation: ava-blick 10s infinite cubic-bezier(0, 0.3, 1, 0.7);\n    animation: ava-blick 10s infinite cubic-bezier(0, 0.3, 1, 0.7); }\n  #leadia_science_widget .leadia_widget[data-apps="activated"] .leadia_widget_hover_module_item_container.active {\n    display: block;\n    position: absolute;\n    bottom: 4px;\n    left: 0;\n    width: 100%; }\n    #leadia_science_widget .leadia_widget[data-apps="activated"] .leadia_widget_hover_module_item_container.active .leadia_widget_hover_module_photo {\n      -webkit-transform: scale(1) !important;\n      -moz-transform: scale(1) !important;\n      -ms-transform: scale(1) !important;\n      -o-transform: scale(1) !important;\n      transform: scale(1) !important; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"] .leadia_widget_hover_module_item_container.active {\n    max-height: 120px;\n    -webkit-transition: max-height .2s ease-in;\n    -moz-transition: max-height .2s ease-in;\n    -o-transition: max-height .2s ease-in;\n    transition: max-height .2s ease-in; }\n    #leadia_science_widget .leadia_widget[data-apps="activated"] .leadia_widget_hover_module_item_container.active .leadia_widget_hover_module_item {\n      opacity: 1 !important;\n      -webkit-transform: translateY(0) !important;\n      -moz-transform: translateY(0) !important;\n      -ms-transform: translateY(0) !important;\n      -o-transform: translateY(0) !important;\n      transform: translateY(0) !important;\n      -webkit-transition: opacity .5s, -webkit-transform .3s .2s !important;\n      transition: opacity .5s, -webkit-transform .3s .2s !important;\n      -moz-transition: transform .3s .2s, opacity .5s, -moz-transform .3s .2s !important;\n      -o-transition: transform .3s .2s, opacity .5s, -o-transform .3s .2s !important;\n      transition: transform .3s .2s, opacity .5s !important;\n      transition: transform .3s .2s, opacity .5s, -webkit-transform .3s .2s, -moz-transform .3s .2s, -o-transform .3s .2s !important; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"] .leadia_widget_hover_module_item_container {\n    max-height: 0;\n    overflow: hidden;\n    -webkit-transition: max-height .2s ease-in-out;\n    -moz-transition: max-height .2s ease-in-out;\n    -o-transition: max-height .2s ease-in-out;\n    transition: max-height .2s ease-in-out; }\n    #leadia_science_widget .leadia_widget[data-apps="activated"] .leadia_widget_hover_module_item_container .leadia_widget_hover_module_item {\n      opacity: 0;\n      -webkit-transform: translateY(50px) !important;\n      -moz-transform: translateY(50px) !important;\n      -ms-transform: translateY(50px) !important;\n      -o-transform: translateY(50px) !important;\n      transform: translateY(50px) !important;\n      -webkit-transition: opacity .5s, -webkit-transform .4s !important;\n      transition: opacity .5s, -webkit-transform .4s !important;\n      -moz-transition: transform .4s, opacity .5s, -moz-transform .4s !important;\n      -o-transition: transform .4s, opacity .5s, -o-transform .4s !important;\n      transition: transform .4s, opacity .5s !important;\n      transition: transform .4s, opacity .5s, -webkit-transform .4s, -moz-transform .4s, -o-transform .4s !important; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"].lw_minimized.leadia_widget_hover_active .leadia_widget_hover_module_item_container {\n    max-height: 120px;\n    -webkit-transition: max-height .2s ease-in;\n    -moz-transition: max-height .2s ease-in;\n    -o-transition: max-height .2s ease-in;\n    transition: max-height .2s ease-in; }\n    #leadia_science_widget .leadia_widget[data-apps="activated"].lw_minimized.leadia_widget_hover_active .leadia_widget_hover_module_item_container .leadia_widget_hover_module_item {\n      opacity: 1 !important;\n      -webkit-transform: translateY(0) !important;\n      -moz-transform: translateY(0) !important;\n      -ms-transform: translateY(0) !important;\n      -o-transform: translateY(0) !important;\n      transform: translateY(0) !important;\n      -webkit-transition: opacity .5s, -webkit-transform .3s .2s !important;\n      transition: opacity .5s, -webkit-transform .3s .2s !important;\n      -moz-transition: transform .3s .2s, opacity .5s, -moz-transform .3s .2s !important;\n      -o-transition: transform .3s .2s, opacity .5s, -o-transform .3s .2s !important;\n      transition: transform .3s .2s, opacity .5s !important;\n      transition: transform .3s .2s, opacity 0.5s, -webkit-transform .3s .2s, -moz-transform .3s .2s, -o-transform .3s .2s !important; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"].lw_minimized.leadia_widget_hover_active .leadia_widget_hover_module_item:before {\n    content: \'\';\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 0;\n    height: 100%;\n    -webkit-border-radius: 2px;\n    -moz-border-radius: 2px;\n    border-radius: 2px;\n    -webkit-transition: background .2s, width .3s !important;\n    -moz-transition: background .2s, width .3s !important;\n    -o-transition: background .2s, width .3s !important;\n    transition: background .2s, width .3s !important; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"].lw_minimized.leadia_widget_hover_active .leadia_widget_hover_module_item:hover:before {\n    width: 100%;\n    background: rgba(0, 0, 0, 0.1); }\n  #leadia_science_widget .leadia_widget[data-apps="activated"].lw_minimized.leadia_widget_hover_active .leadia_widget_hover_module_item_container .leadia_widget_hover_module_photo,\n  #leadia_science_widget .leadia_widget[data-apps="activated"].lw_minimized.leadia_widget_hover_active .leadia_widget_hover_module_item_container.active .leadia_widget_hover_module_photo {\n    -webkit-transform: scale(0.65) !important;\n    -moz-transform: scale(0.65) !important;\n    -ms-transform: scale(0.65) !important;\n    -o-transform: scale(0.65) !important;\n    transform: scale(0.65) !important; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"].lw_minimized.leadia_widget_hover_active .leadia_widget_hover_module_item_container:hover .leadia_widget_hover_module_photo,\n  #leadia_science_widget .leadia_widget[data-apps="activated"].lw_minimized.leadia_widget_hover_active .leadia_widget_hover_module_item_container.active:hover .leadia_widget_hover_module_photo {\n    -webkit-transform: scale(1) !important;\n    -moz-transform: scale(1) !important;\n    -ms-transform: scale(1) !important;\n    -o-transform: scale(1) !important;\n    transform: scale(1) !important; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"].leadia_widget_mouseleave.lw_minimized.leadia_widget_hover_active .leadia_widget_hover_module_item_container.active .leadia_widget_hover_module_photo {\n    -webkit-transform: scale(1) !important;\n    -moz-transform: scale(1) !important;\n    -ms-transform: scale(1) !important;\n    -o-transform: scale(1) !important;\n    transform: scale(1) !important; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"].lw_minimized.start_flip .leadia_widget_hover_module_item_container,\n  #leadia_science_widget .leadia_widget[data-apps="activated"].lw_minimized.start_flip .leadia_widget_hover_module_item_container.active {\n    -webkit-transition: none !important;\n    -moz-transition: none !important;\n    -o-transition: none !important;\n    transition: none !important; }\n    #leadia_science_widget .leadia_widget[data-apps="activated"].lw_minimized.start_flip .leadia_widget_hover_module_item_container .leadia_widget_hover_module_item,\n    #leadia_science_widget .leadia_widget[data-apps="activated"].lw_minimized.start_flip .leadia_widget_hover_module_item_container.active .leadia_widget_hover_module_item {\n      -webkit-transition: none !important;\n      -moz-transition: none !important;\n      -o-transition: none !important;\n      transition: none !important; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"].lw_minimized.start_flip .leadia_widget_hover_module_item_container .leadia_widget_hover_module_photo {\n    transition: none !important;\n    -webkit-transition: none !important;\n    -moz-transition: none !important;\n    -o-transition: none !important;\n    -ms-transition: none !important; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"].lw_minimized.start_flip .leadia_widget_hover_module_item_container .leadia_widget_hover_module_photo {\n    perspective: 1000px;\n    -webkit-perspective: 1000px;\n    -moz-perspective: 1000px;\n    -o-perspective: 1000px;\n    -ms-perspective: 1000px;\n    transition: 0.5s ease-out !important;\n    -webkit-transition: 0.5s ease-out !important;\n    -moz-transition: 0.5s ease-out !important;\n    -o-transition: 0.5s ease-out !important;\n    -ms-transition: .5s ease-out !important;\n    transform-style: preserve-3d;\n    -webkit-transform-style: preserve-3d;\n    -moz-transform-style: preserve-3d;\n    -o-transform-style: preserve-3d;\n    -ms-transform-style: preserve-3d;\n    transform: rotateY(180deg) !important;\n    -webkit-transform: rotateY(180deg) !important;\n    -moz-transform: rotateY(180deg) !important;\n    -o-transform: rotateY(180deg) !important;\n    -ms-transform: rotateY(180deg) !important; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"].lw_minimized.start_flip .leadia_widget_hover_module_item_container.active .leadia_widget_hover_module_photo {\n    transform: rotateY(0deg) !important;\n    -webkit-transform: rotateY(0deg) !important;\n    -moz-transform: rotateY(0deg) !important;\n    -o-transform: rotateY(0deg) !important;\n    -ms-transform: rotateY(0deg) !important; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"][data-state="maximized"].change-current-active-el .leadia_widget_hover_module_item_container .leadia_widget_hover_module_photo {\n    perspective: 1000px;\n    -webkit-perspective: 1000px;\n    -moz-perspective: 1000px;\n    -o-perspective: 1000px;\n    -ms-perspective: 1000px;\n    transition: 0.5s ease-out !important;\n    -webkit-transition: 0.5s ease-out !important;\n    -moz-transition: 0.5s ease-out !important;\n    -o-transition: 0.5s ease-out !important;\n    -ms-transition: .5s ease-out !important;\n    transform-style: preserve-3d;\n    -webkit-transform-style: preserve-3d;\n    -moz-transform-style: preserve-3d;\n    -o-transform-style: preserve-3d;\n    -ms-transform-style: preserve-3d;\n    transform: rotateY(180deg) !important;\n    -webkit-transform: rotateY(180deg) !important;\n    -moz-transform: rotateY(180deg) !important;\n    -o-transform: rotateY(180deg) !important;\n    -ms-transform: rotateY(180deg) !important; }\n  #leadia_science_widget .leadia_widget[data-apps="activated"][data-state="maximized"].change-current-active-el .leadia_widget_hover_module_item_container.active .leadia_widget_hover_module_photo {\n    transform: rotateY(0deg) !important;\n    -webkit-transform: rotateY(0deg) !important;\n    -moz-transform: rotateY(0deg) !important;\n    -o-transform: rotateY(0deg) !important;\n    -ms-transform: rotateY(0deg) !important; }\n\n/* FLIP STYLE END */\n/* photo blink */\n/* NEW HOVER MENU END */\n\n#leadia_science_widget .add-terms-of-use .leadia_termsofuse {\n  text-align: center;\n  padding-top: 0px !important;\n  font-size: 10px !important;\n}\n\n#leadia_science_widget .add-terms-of-use  #_call .leadia_termsofuse {\n  text-align: center;\n  padding-top: 4px !important;\n  font-size: 10px !important;\n}\n\n#leadia_science_widget .leadia-widget-message-text .leadia_termsofuse {\n  padding-bottom: 10px;\n}\n#leadia_science_widget .leadia-widget-message-text .leadia_termsofuse * {\n  text-align: center;\n\n}\n#leadia_science_widget .leadia_termsofuse * {\n  color: #999 !important;\n  font-size: 10px !important;\n}\n\n#leadia_science_widget .leadia_termsofuse .lw_termsofuse_link {\n  text-decoration: underline !important;\n  cursor: pointer !important;\n}\n\n#leadia_science_widget .leadia_msg_form .leadia_termsofuse .lw_termsofuse_link:hover {\n  color: #7d8cb7 !important;\n}\n\n#leadia_science_widget.add-terms-of-use #leadia_widget_callform_step1 .leadia_termsofuse {\n  padding-top: 5px !important;\n  padding-bottom: 10px !important;\n  font-size: 10px !important;\n}\n\n#leadia_science_widget .add-terms-of-use .leadia_termsofuse * {\n  color: #999 !important;\n  font-size: 10px !important;\n  display: inline;\n}\n\n#leadia_science_widget .add-terms-of-use .leadia_termsofuse .lw_termsofuse_link {\n  text-decoration: underline !important;\n  cursor: pointer !important;\n  display: inline;\n  text-align: center;\n}\n#leadia_science_widget .add-terms-of-use .leadia_termsofuse .lw_termsofuse_link:hover {\n  color: #7d8cb7 !important;\n}\n\n\n#leadia_science_widget .add-terms-of-use #leadia_widget_callform_step1 .leadia_widget_order_control {\n  margin-bottom: 10px !important;\n}\n\n#leadia_science_widget .leadia_widget_button_2.leadia_widget_button_in_chat {\n  margin-top: 0px;\n  margin-bottom: 0px;\n}\n\n/*#leadia_science_widget .leadia_widget_order_title,*/\n/*#leadia_science_widget .widget_thankyoupage_text,*/\n/*#leadia_science_widget .lwp-modal_wrap .lwp-modal_window .lwp-modal_subtitle {*/\n  /*white-space: pre-wrap;*/\n/*}*/\n\n#leadia_science_widget .msg_wrap .leadia-widget-message-text.message-without-html,\n#leadia_science_widget .msg_wrap .leadia-widget-message-text.message-without-html[data-block-message="true"],\n#leadia_science_widget .msg_wrap .leadia-widget-message-text .leadia-widget-message-text,\n#leadia_science_widget .leadia-widget-without-html .msg_wrap .leadia-widget-message-text,\n#leadia_science_widget .leadia_widget_order_title,\n#leadia_science_widget .widget_thankyoupage_text,\n#leadia_science_widget .lwp-modal_wrap .lwp-modal_window .lwp-modal_subtitle\n{\n  white-space: pre-wrap;\n}\n\n#leadia_science_widget .msg_wrap .leadia-widget-message-text[data-block-message="true"],\n#leadia_science_widget .msg_wrap .leadia-widget-message-text.message-with-html\n{\n  white-space: normal;\n}\n#leadia_science_widget .ps-container.ps-theme-default {\n   width: auto !important;\n }\n\n /* social block */\n #leadia_science_widget .social_greeting .sg_title {\n    font-size: 13px;\n    line-height: 16px;\n    margin-bottom: 16px;\n    text-align: center;\n}\n\n#leadia_science_widget .social_greeting .sg_action_btn {\n    text-align: center;\n    margin-bottom: 22px;\n}\n\n#leadia_science_widget .social_greeting .sg_action_btn:after {\n    content: "";\n    display: table;\n}\n\n#leadia_science_widget .social_greeting .sg_action_btn:after {\n    clear: both;\n}\n\n#leadia_science_widget .social_greeting .sg_action_btn {\n    *zoom: 1;\n}\n\n#leadia_science_widget .social_greeting .sg_action_btn a {\n    display: inline-block;\n    width: calc(100% / 4);\n    float: left;\n    max-width: 40px;\n    margin: 0 7px;\n}\n#leadia_science_widget .social_greeting .sg_action_btn a:first-child {\n    margin-left: 0;\n}\n#leadia_science_widget .social_greeting .sg_action_btn a:last-child {\n    margin-right: 0;\n}\n#leadia_science_widget .social_greeting .sg_action_btn a img {\n    display: block;\n    width: 100%;\n\n}\n#leadia_science_widget .social_greeting .sg_action_ctn {\n    width: 100%;\n    text-align: center;\n    display: block;\n}\n#leadia_science_widget .social_greeting .sg_skip_step {\n    font-size: 13px;\n    line-height: 16px;\n    color: rgba(0,0,0,0.5);\n    display: inline-block;\n    margin: 0 auto;\n    text-decoration: underline;\n    width: auto;\n    cursor: pointer;\n}\n#leadia_science_widget .social_greeting .sg_skip_step:hover{\n    text-decoration: none;\n}\n#leadia_science_widget .social_greeting .sg_skip_step.sg_disabled {\n    cursor: default;\n}\n#leadia_science_widget .social_greeting .sg_skip_step.sg_disabled:hover {\n    text-decoration: underline;\n}\n#leadia_science_widget .sg_buttons_wrap {\n  text-align: center;\n  margin-bottom: 16px;\n}\n#leadia_science_widget img.sg_button {\n    display: inline-block !important;\n    cursor: pointer;\n    margin: 0 2px;\n    width: 41px;\n    height: 41px;\n    border-radius: 50%;\n    padding: 10px;\n}\n\n#leadia_science_widget img.sg_button.lw_ffstep {\n  width: 25px;\n  height: 25px;\n  padding: 6px;\n  vertical-align: middle;\n}\n\n#leadia_science_widget img.sg_button.lwi_vk {\n  background-color: #4c75a3;\n}\n#leadia_science_widget img.sg_button.lwi_odk {\n  background-color: #ed812b;\n}\n#leadia_science_widget img.sg_button.lwi_fb {\n  background-color: #3b5998;\n}\n#leadia_science_widget img.sg_button.lwi_mailru {\n  background-color: #168de2;\n}\n\n#leadia_science_widget img.sg_button:hover {\n  opacity: .8;\n}\n#leadia_science_widget img.sg_button.sg_disabled {\n    cursor: default;\n}\n#leadia_science_widget img.sg_button.sg_disabled:hover {\n    opacity: 1;\n}\n#leadia_science_widget .lw_socialstepsecond_photo {\n  border-radius: 50% !important;\n  width: 50px !important;\n  height: 50px !important;\n  margin: 0 auto !important\n}\n#leadia_science_widget .lwi_photo .lw_socialstepsecond_photo {\n  border-radius: 50% !important;\n  width: 25px !important;\n  height: 25px !important;\n  margin: 0 auto !important\n}\n#leadia_science_widget .lwi_fio{\n  width: 203px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  vertical-align: middle;\n  display: inline-block !important;\n}\n\n/* status bar animation */\n.lwv_animated {\n  animation-duration: 1s;\n  animation-fill-mode: both;\n}\n\n@keyframes lwv_bounceInLeft {\n  from, 60%, 75%, 90%, to {\n    animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);\n  }\n\n  0% {\n    opacity: 0;\n    transform: translate3d(-3000px, 0, 0);\n  }\n\n  60% {\n    opacity: 1;\n    transform: translate3d(25px, 0, 0);\n  }\n\n  75% {\n    transform: translate3d(-10px, 0, 0);\n  }\n\n  90% {\n    transform: translate3d(5px, 0, 0);\n  }\n\n  to {\n    transform: none;\n  }\n}\n\n.lwv_bounceInLeft {\n  animation-name: lwv_bounceInLeft;\n}\n\n@keyframes lwv_bounceInDown {\n  from, 60%, 75%, 90%, to {\n    animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);\n  }\n\n  0% {\n    opacity: 0;\n    transform: translate3d(0, -3000px, 0);\n  }\n\n  60% {\n    opacity: 1;\n    transform: translate3d(0, 25px, 0);\n  }\n\n  75% {\n    transform: translate3d(0, -10px, 0);\n  }\n\n  90% {\n    transform: translate3d(0, 5px, 0);\n  }\n\n  to {\n    transform: none;\n  }\n}\n\n.lwv_bounceInDown {\n  animation-name: lwv_bounceInDown;\n}\n\n@keyframes lwv_slideInDown {\n  from {\n    transform: translate3d(0, -100%, 0);\n    visibility: visible;\n  }\n\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n}\n\n.lwv_slideInDown {\n  animation-name: lwv_slideInDown;\n}\n/* status bar animation */\n',
lc.BladeAppearance.mixins.checkboxFieldHtml='<div>\n    <div class="leadia-widget-message-text">Как я могу с вами связаться, чтобы ответить?</div>\n    <div class="leadia_msg_checkboxes">\n        <div class="leadia_msg_checkbox_row">\n            <input type="checkbox" class="leadia_msg_checkbox" data-form-field="phone">\n            по телефону\n        </div>\n        <div class="leadia_msg_checkbox_row">\n            <input type="checkbox" class="leadia_msg_checkbox" data-form-field="email">\n            на e-mail\n        </div>\n    </div>\n    <div class="leadia_element_center">\n        <div class="leadia_widget_button_in_chat" id="checkboxBtnNext">Далее</div>\n    </div>\n</div>',lc.BladeAppearance.mixins.formFieldHtml='<div>\n    <div class="leadia-widget-message-text">Оставьте свои контактные данные, и мы ответим на ваш вопрос.</div>\n    <div data-block-social="true"></div>\n    \x3c!--<div style="margin-top: 10px" data-block-social="true">--\x3e\n        \x3c!--Взять данные из: <img class="sg_button lwi_vk lw_ffstep" src="https://133921.selcdn.ru/widget/img/social/svg/vk.svg" data-service="vk" data-button="true">--\x3e\n                          \x3c!--<img class="sg_button lwi_odk lw_ffstep" src="https://133921.selcdn.ru/widget/img/social/svg/odk.svg" data-service="ok" data-button="true">--\x3e\n                          \x3c!--<img class="sg_button lwi_fb lw_ffstep" src="https://133921.selcdn.ru/widget/img/social/svg/fb.svg" data-service="fb" data-button="true">--\x3e\n                          \x3c!--<img class="sg_button lwi_mailru lw_ffstep" src="https://133921.selcdn.ru/widget/img/social/svg/mailru.svg" data-service="mailru" data-button="true">--\x3e\n    \x3c!--</div>--\x3e\n    <div class="leadia_msg_form">\n        <div class="leadia_msg_form_row">\n            <input type="text" class="leadia_msg_form_input" placeholder="* Телефон" data-form-field="phone" data-necessary="true" maxlength="20">\n        </div>\n        <div class="leadia_msg_form_row">\n            <input type="text" class="leadia_msg_form_input" placeholder="* E-mail" data-form-field="email" data-necessary="true" maxlength="254">\n        </div>\n        <div class="leadia_msg_form_row">\n            <input type="text" class="leadia_msg_form_input" placeholder="Имя" data-form-field="first_last_name" maxlength="50">\n        </div>\n        <div class="leadia_msg_form_row">\n            <input type="text" class="leadia_msg_form_input" placeholder="Город" data-form-field="region" maxlength="50">\n        </div>\n        <div class="leadia_msg_form_row">\n            <select class="leadia_msg_form_input fiveminut" data-form-field="time_to_call">\n                <option value="прямо сейчас">перезвонить прямо сейчас</option>\n                <option value="9:00 - 12:00">9:00 - 12:00</option>\n                <option value="12:00 - 15:00">12:00 - 15:00</option>\n                <option value="15:00 - 18:00">15:00 - 18:00</option>\n                <option value="18:00 - 21:00">18:00 - 21:00</option>\n            </select>\n        </div>\n    </div>\n    \x3c!--<div class="leadia_element_center">\n        <div class="leadia_widget_button_in_chat" id="sendLeadBtn">Отправить →</div>\n    </div>--\x3e\n    <div class="leadia_termsofuse"></div>\n    <div class="leadia_widget_row">\n        <div class="leadia_widget_cell_50">\n            <div class="leadia_widget_back_2" id="prevNext">\n                <div class="leadia_widget_arrow_left_2"></div>\n                <div class="leadia_widget_dib">Назад</div>\n            </div>\n        </div>\n        <div class="leadia_widget_cell_50">\n            <div class="leadia_widget_button_in_chat leadia_widget_button_2" id="sendLeadBtn">\n                <div class="leadia_widget_dib js-send-lead-form-button">Отправить</div>\n                <div class="leadia_widget_arrow_right_2"></div>\n            </div>\n        </div>\n    </div>\n</div>',lc.BladeAppearance.mixins.callform='<div>\n    <div id="leadia_widget_callform_step1" style="display:block;">\n\n\n        <div class="leadia_widget_order_title">\n            Выберите время и оставьте номер телефона, мы вам перезвоним.\n        </div>\n        <div class="leadia_widget_order_control_row">\n            <div class="leadia_widget_order_control_cell_1">\n                <select class="leadia_widget_order_control" data-form-field="callform_when_date">\n                    <option>Сегодня</option>\n                    <option>Завтра</option>\n                </select>\n                <div class="leadia_widget_icon_date"></div>\n                <div class="leadia_widget_arrow_down"></div>\n            </div>\n            <div class="leadia_widget_order_control_cell_2">\n                <select class="leadia_widget_order_control" data-form-field="callform_when_time">\n                    <option>Сейчас</option>\n                    <option>8:00</option>\n                    <option>10:00</option>\n                </select>\n                <div class="leadia_widget_arrow_down"></div>\n            </div>\n        </div>\n        <div class="leadia_widget_order_rel">\n            <input type="text" class="leadia_widget_order_control" placeholder="Телефон" data-form-field="callform_phone" data-necessary="true" maxlength="20">\n            <div class="leadia_widget_icon_handset"></div>\n        </div>\n        <div class="leadia_widget_order_rel">\n            <input type="text" class="leadia_widget_order_control" placeholder="Имя" data-form-field="callform_first_last_name" maxlength="50">\n            <div class="leadia_widget_icon_user"></div>\n        </div>\n\n        <div class="leadia_widget_order_btn" id="leadia_widget_callform_sendrequest">\n            Жду звонка\n            <div class="leadia_widget_arrow_right"></div>\n        </div>\n        <div class="leadia_element_center">\n            <div class="leadia_widget_order_back">\n                <div class="leadia_widget_chat_icon"></div>\n                Вернуться к чату\n            </div>\n        </div>\n    </div>\n\n    <div id="leadia_widget_callform_step2" style="display:none;">\n\n        <div class="success_send"></div>\n        <div class="widget_thankyoupage_text"></div>\n\n    </div>\n</div>',lc.BladeAppearance.mixins.thankyouTextHtml='<div>\n    <div style="width: 241px;">\n        <div class="success_send"></div>\n        <div class="widget_thankyoupage_text"></div>\n        <div class="leadia_element_center" style="margin-top: 10px;">\n            <div class="leadia_widget_button_in_chat" id="repeatQuestion">Спросить снова</div>\n        </div>\n    </div>\n</div>',lc.BladeAppearance.mixins.termsofuse="    Настоящее Пользовательское соглашение является публичным документом администратора сайта MY_SITE (далее – Администратор) и определяет порядок использования посетителями (далее - Посетитель) сайта MY_SITE, принадлежащего Администратору, и обработки, хранения и иного использования информации, получаемой Администратором от Посетителя на сайте Администратора. Администратор сайта может изменить в любой момент данное Пользовательское соглашение без уведомления Посетителя сайта.<br/><br/>\n\t•\tПосетитель сайта, оставляя какую-либо информацию, относящуюся прямо или косвенно к определенному или определяемому физическому лицу (далее - Персональные данные), подтверждает, что ознакомился с данным Пользовательским соглашением и согласен с ним.<br/>\n\t•\tВ отношении всех сообщаемых Персональных данных Посетитель дает Администратору полное согласие на их обработку.<br/>\n\t•\tАдминистратор сайта гарантирует Посетителю, что обработка и хранение поступивших Персональных данных Посетителя будет осуществляться в соответствии с положениями Федерального закона от 27.06.2006 № 152-ФЗ «О персональных данных».<br/>\n\t•\tПосетитель сайта понимает и соглашается с тем, что предоставление Администратору какой-либо информации, не имеющей никакого отношения к целям сайта, запрещено. Такой информацией может являться информация, касающаяся состояния здоровья, интимной жизни, национальности, религии, политических, философских и иных убеждений Посетителя, а равно и информация, которая является коммерческой, банковской и иной тайной Посетителя сайта.<br/>\n\t•\tАдминистратор гарантирует Посетителю, что использует Персональные данные, поступившие от Посетителя, исключительно в целях, ограниченных маркетинговыми, рекламными, информационными целями Администратора, а также для анализа и исследования Посетителей сайта, а также в целях предоставления ему товаров и услуг непосредственно находящихся, либо нет, на сайте Администратора.<br/>\n\t•\tПосетитель в соответствии с ч. 1 ст. 18 Федерального закона «О рекламе» дает Администратору свое согласие на получение сообщений рекламного характера по указанным контактным данным.<br/>\n\t•\tПосетитель самостоятельно несёт ответственность за нарушение законодательства при использовании сайта Администратора.<br/>\n\t•\tАдминистратор не несет никакой ответственности в случае нарушения законодательства Посетителем, в том числе, не гарантирует, что содержимое сайта соответствует целям Посетителя сайта.<br/>\n\t•\tПосетитель сайта несет самостоятельно ответственность в случае, если были нарушены права и законные интересы третьих лиц, при использовании сайта Администратора, Посетителем.<br/>\n\t•\tАдминистратор вправе запретить использование сайта Посетителю, если на то есть законные основания.<br/>",lc.BladeAppearance.mixins.checkboxFieldController=function(e){var t=this;return{init:function(e){e="object"==typeof e&&null!==e?$.extend(!0,{},t.form_field_json,e):$.extend(!0,{},t.form_field_json);var i={fields:{phone:{visible:0},email:{visible:0}}},n="number"==typeof e.writing?e.writing:5,a=!!e.fromLocalstorage,o="Как я могу с вами связаться, чтобы ответить?",s=!1;for(var r in e.fields)i.fields[r]&&(i.fields[r].visible=e.fields[r].visible,i.fields[r].checked=e.fields[r].checked,e.fields[r].visible&&(o=e.fields_text[r+"_text"]));i.fields.phone.visible&&i.fields.email.visible||"boolean"==typeof e.viewcheckbox?o=e.fields_text.phone_email_text:s=!0,this.placeMessage(n,i,a,{title:o,onlytext:s})},placeMessage:function(i,n,a,o){var s={messageType:"feedback-selection",isMe:!0,writing:i,scrollFast:a,isHtml:!0,showBell:!a&&i>0,activeEl:e,title:o.title,fields:n,isFromLS:a,onlytext:o.onlytext};t.locale&&(s.locale=t.locale),t.placeMessageFromRobot(s,!0,function(){("boolean"==typeof a&&!a||"boolean"!=typeof a)&&0===e.find(".leadia_msg_checkboxes").find("input[type=checkbox].leadia_msg_checkbox").length&&(t.storeToLocalStorage({step2:{blockText:s.title,activefields:n,complete:!0}}),t.setTimeout(function(){t.setScriptNextStep(null,n)},3e3))})},locale:function(e){try{if(void 0!==t.locale)try{e.find('input[data-form-field="phone"]')[0].nextSibling.nodeValue=" "+t.locale.by_phone,e.find('input[data-form-field="email"]')[0].nextSibling.nodeValue=" "+t.locale.by_email,e.find(".leadia_widget_button_in_chat").text(t.locale.btns.next)}catch(e){}}catch(e){}return e}}},lc.BladeAppearance.mixins.formFieldController=function(e){return function(t,i){return{p:function(e){return $.proxy(e,this)},fillData:function(e,i){var n=t.storage.getJSON("_scenario"),a={};n&&n.step2&&n.step2.fields&&(a=n.step2.fields);for(var o in e.fields)e.fields[o].visible&&(i.find(("time_to_call"==o?"select":"input")+"[data-form-field="+o+"]").parent().show(),"time_to_call"==o?(i.find("select[data-form-field="+o+"] option:first").remove(),i.find("select[data-form-field="+o+"]").find('option[value="'+e.fields[o].value+'"]').attr("selected","selected")):e.fields[o].value?(i.find("input[data-form-field="+o+"]").val(e.fields[o].value),i.find("input[data-form-field="+o+"]").attr("value",e.fields[o].value)):i.find("input[data-form-field="+o+"]").attr("value",e.fields[o].value),a[o]&&!a[o].checked&&i.find("input[data-form-field="+o+"]").parent().attr("style","display: none !important"),-1===["phone","email"].indexOf(o)&&(e.fields[o].required?i.find("input[data-form-field="+o+"]").attr("data-necessary","true"):i.find("input[data-form-field="+o+"]").removeAttr("data-necessary")))},mergeData:function(e,i){var n,a=t.storage.getJSON("_scenario");return a&&a[e]&&a[e].data&&(n=a[e].data,i.fields.first_last_name.value=n.first_last_name||"",i.fields.email.value=n.email||"",i.fields.phone.value=n.phone||"",i.fields.region.value=n.region||""),i},init:function(e){i.utils.setupMessagesListener(t.p(t.messageListener));var n,a,o=$.extend(!0,{},t.form_field_json),s=$(t.formFieldHtml),r=t.storage.getJSON("_scenario");o=i.components.utils.deepExtend({},this.mergeData("socialAuth",o),this.mergeData("step3",o)),e="object"!=typeof e?o:i.utils.jsonMergeRecursive(o,e),n="number"==typeof e.writing?e.writing:5,a=void 0!==e.fromLocalstorage&&e.fromLocalstorage,this.fillData(e,s),void 0!==t.contactform_text&&t.contactform_text.length>0&&s.find(".leadia-widget-message-text").text(t.contactform_text),s.find("#city_selector_iframe").length>0&&(window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),s.find("#city_selector_iframe").attr("src","//s3-eu-west-1.amazonaws.com/static.venyoo.ru/autocomplete/city_autocomplete.html?po="+encodeURIComponent(window.location.origin)));try{if(t.settings&&t.settings.social_auth){var l={active_step:"step_one",fields:["all"],social_params:i.serverEnv.params.social_params};r&&r.socialAuth&&r.socialAuth.active_step?(l.active_step=r.socialAuth.active_step,l.data=r.socialAuth.data,l.data.title=l.data.title.substring(0,l.data.title.indexOf(","))):r&&r.step3&&r.step3.active_step&&(l.active_step=r.step3.active_step,l.data=r.step3.data);t.formfieldSocial||(t.formfieldSocial=new i.components.SocialAuth(l,'<div style="margin-top: 10px"><div data-block-social="true" data-slide-step="step_one"><div style="float:right;"><img class="sg_button lwi_vk lw_ffstep" src="https://133921.selcdn.ru/widget/img/social/svg/vk.svg" data-service="vk" data-button="true"><img class="sg_button lwi_odk lw_ffstep" src="https://133921.selcdn.ru/widget/img/social/svg/odk.svg" data-service="ok" data-button="true"><img class="sg_button lwi_fb lw_ffstep" src="https://133921.selcdn.ru/widget/img/social/svg/fb.svg" data-service="fb" data-button="true"><img class="sg_button lwi_mailru lw_ffstep" style="margin-right: 0;" src="https://133921.selcdn.ru/widget/img/social/svg/mailru.svg" data-service="mailru" data-button="true"></div><div style="line-height: 25px;">Войдите через: </div></div><div data-slide-step="step_two"><div data-block="photo" class="lwi_photo" style="display: inline-block; vertical-align: middle; margin-right: 5px;"></div><div data-block="title" class="lwi_fio" class="sg_title"></div></div></div>'))}}catch(e){}var r=t.storage.getJSON("_scenario"),d={};r&&r.step2&&r.step2.fields&&(d=r.step2.fields),this.locale(s);for(var c in e.fields)if(e.fields.hasOwnProperty(c)&&(e.fields[c].visible&&d[c]&&!d[c].checked&&s.find("input[data-form-field="+c+"]").parent().attr("style","display: none !important"),e.fields[c].required||-1!==["phone","email"].indexOf(c))){var p=s.find("input[data-form-field="+c+"]").attr("placeholder");s.find("input[data-form-field="+c+"]").attr("placeholder",p+" *")}this.placeMessage(s,n,a)},locale:function(e){try{if(void 0!==t.locale){e.find('[data-form-field="phone"]').attr("placeholder",t.locale.placeholders.phone),e.find('[data-form-field="email"]').attr("placeholder",t.locale.placeholders.email),e.find('[data-form-field="first_last_name"]').attr("placeholder",t.locale.placeholders.name),e.find('[data-form-field="region"]').attr("placeholder",t.locale.placeholders.city);var i=e.find('[data-form-field="time_to_call"] option:eq(0)');i.val(t.locale.right_now),i.text(t.locale.call_now),e.find(".leadia_widget_back_2 .leadia_widget_dib").text(t.locale.btns.back),e.find(".leadia_widget_button_in_chat .leadia_widget_dib").text(t.locale.btns.send)}}catch(e){}return e},placeMessage:function(i,n,a){var o=!("boolean"!=typeof a||!a);t.placeMessageFromRobot({messageType:"feedback-form",msgText:i.html(),isMe:!0,writing:n,scrollFast:o,isHtml:!0,showBell:!o&&n>0,activeEl:e},!0,this.p(function(){t.settings&&t.settings.social_auth&&(t.formfieldSocial.mount(e.find('[data-block-social="true"]')[0]),t.formfieldSocial.removeAllListeners()),"boolean"==typeof a&&!a||"boolean"!=typeof a?this.eventInit():this.eventDisabled(),this.addTermofuse()}))},eventInit:function(){0==e.find(".leadia_msg_checkboxes").length&&(e.find(".leadia_widget_cell_50:first").remove(),e.find(".leadia_widget_cell_50").addClass("leadia_element_center").removeClass("leadia_widget_cell_50"),e.find(".leadia_widget_button_in_chat").removeClass("leadia_widget_button_2"),e.find(".leadia_widget_button_in_chat .leadia_widget_arrow_right_2").remove());var n=e.find(".leadia_msg_form_row"),a=n.find('input[data-form-field][data-necessary="true"]');a.length===a.parent('.leadia_msg_form_row[style*="display: none"]').length&&n.find('input[data-form-field="phone"]').parent().show(),e.find(".leadia_msg_form_row input").on("input propertychange",t.p(function(e){t.metrikobjectcalltrigger("contacttyping"),$(e.target).removeClass("leadia_input_error")})),(i.utils.isIE()&&i.utils.isIE()>9||!i.utils.isIE())&&e.find(".leadia_msg_form input[data-form-field=phone]").limitkeypress({rexp:/^[+]?\d*\s*\(*\d*\)*\s*(\d*-*\s*)*$/}),e.find("input[data-form-field=region]").on("focus",this.p(this.showAutocomplete)),e.find("#prevNext").on("click",this.p(this.btnPrevClick)),e.find("#sendLeadBtn").on("click",this.p(this.btnClick)),t.settings&&t.settings.social_auth&&(t.formfieldSocial.on("render",function(){}),t.formfieldSocial.on("social_button_click",function(e){switch(e){case"vk":t.callgoalTrigger("feedback_social_auth_vk");break;case"ok":t.callgoalTrigger("feedback_social_auth_odk");break;case"fb":t.callgoalTrigger("feedback_social_auth_fb");break;case"mailru":t.callgoalTrigger("feedback_social_auth_mailru")}}),t.formfieldSocial.on("auth_info_received",function(n){if(!t.formfieldSocial.button_disabled){t.callgoalTrigger("feedback_social_auth_success"),t.formfieldSocial.button_disabled=!0;var a=(n.last_name||"")+" "+(n.first_name||""),o=i.components.utils.deepExtend({first_last_name:a,region:n.city||"",title:a},n);t.storeToLocalStorage({step3:{socialAuthOk:!0,data:o,active_step:"step_two"}}),t.formfieldSocial.gotoSlideStep("step_two",{title:a,photo:n.photo||""});var s=$.extend(!0,{},t.form_field_json);this.fillData(this.mergeData("step3",s),e.find(".leadia_widget_msg:last")),t.formfieldSocial.disable();var r={},l={};if(t.form_field_json&&t.form_field_json.fields&&(r=t.form_field_json.fields.phone,l=t.form_field_json.fields.email),!r.visible&&l.visible||r.visible&&l.visible){var d=t.prepareData();d.first_last_name=a,d.region=n.city||"",d.email=n.email||"",d.phone=n.phone||"",d.lead_type="short",t.sendLeadAjax(d,function(e){t.callgoalTrigger("sendlead"),i.utils.checkIsJson(e)&&(e=JSON.parse(e));var n=t.storage.getJSON("_scenario"),a={sendData:!0};(!n||n&&!n.hash_id)&&(a.hash_id=e&&e.hash_id),t.storeToLocalStorage(a)})}}}.bind(this)),t.formfieldSocial.on("disable",function(){$(t.formfieldSocial.element).find(".sg_button").addClass("sg_disabled")}))},btnClick:function(){var n=!1,a={};if(a.step3=a.step3||{},a.step3.fields={},_.each(e.find(".leadia_msg_form input[data-necessary=true]"),function(e){var o=$(e);if(o.removeClass("leadia_input_error"),o.parent().is(":visible")){if(a.step3.fields[o.data("form-field")]={},a.step3.fields[o.data("form-field")].visible=o.parent().is(":visible")?1:0,a.step3.fields[o.data("form-field")].value=o.val(),$.trim(o.val()).length<=0||"phone"==o.data("form-field")&&!i.utils.validatePhone(o.val())||"email"==o.data("form-field")&&!i.utils.validateEmail(o.val())){o.addClass("leadia_input_error"),n=!0;try{t.metrikobjectcalltrigger("validationerrorsendlead")}catch(e){}}try{"phone"!=o.data("form-field")||i.utils.validatePhone(o.val())&&$.trim(o.val()).length||t.callgoalTrigger("phonefieldvalidationerror")}catch(e){}}else a.step3.fields[o.data("form-field")]={},a.step3.fields[o.data("form-field")].visible=0,a.step3.fields[o.data("form-field")].value=""}),t.metrikobject.validationerrorsendlead=0,!n){if(_.each(e.find(".leadia_msg_form input:not([data-necessary=true])"),function(e){var t=$(e);t.parent().is(":visible")&&(a.step3.fields[t.data("form-field")]={},a.step3.fields[t.data("form-field")].visible=t.parent().is(":visible")?1:0,a.step3.fields[t.data("form-field")].value=t.val())}),e.find(".leadia_msg_form select[data-form-field=time_to_call]").length>0){var o=e.find(".leadia_msg_form select[data-form-field=time_to_call]");o.parent().is(":visible")&&(a.step3.fields[o.data("form-field")]={},a.step3.fields[o.data("form-field")].visible=o.parent().is(":visible")?1:0,a.step3.fields[o.data("form-field")].value=o.val())}a.step3.complete=!0,t.storeToLocalStorage(a),this.eventDisabled(),t.sendLead(),t.setTimeout(function(){t.setScriptNextStep()},1e3);try{t.formfieldSocial.removeAllListeners()}catch(e){}}},btnPrevClick:function(){delete t.messagesList[Object.keys(t.messagesList)[Object.keys(t.messagesList).length-1]];var n=t.messagesList[Object.keys(t.messagesList)[Object.keys(t.messagesList).length-1]];n instanceof i.components.FeedbackSelection&&(n.enable(),e.find(".leadia_msg_form").closest(".leadia_widget_msg").fadeOut(300,t.p(function(){e.find(".leadia_msg_form").closest(".leadia_widget_msg").remove(),t.storeToLocalStorage({step2:{complete:!1}}),t.widgetStep=t.widgetStep-1,t.element_chatwrapcontent().perfectScrollbar("update")}))),t.formfieldSocial||t.formfieldSocial.unmount()},showAutocomplete:function(){if(e.find("#city_selector").length>0){var n={name:"init",value:e.find("input[data-form-field=region]").val()};e.find("#city_selector iframe").get(0).contentWindow.postMessage(i.utils.JSONSstringify(n),t.server.protocol+"://s3-eu-west-1.amazonaws.com"),e.find("#city_selector").show(),setTimeout(function(){e.find("#city_selector iframe").get(0).contentWindow.focus()},200)}},eventDisabled:function(){e.find("input[data-form-field=region]").off(),e.find("#prevNext").off(),e.find("#sendLeadBtn").off(),e.find("#sendLeadBtn").css("opacity",".5"),e.find(".leadia_msg_form_row input[type=text]").prop("disabled",!0),e.find(".leadia_msg_form_row select").prop("disabled",!0),t.settings&&t.settings.social_auth&&(t.formfieldSocial.disable(),$(t.formfieldSocial.element).find(".sg_button").addClass("sg_disabled"))},addTermofuse:function(){try{var n=leadiaCloud.loader.settings.rulesTermsOfUse;if(t.termsofuse&&n&&1==parseInt(n)){var a=e.find(".leadia_msg_form");if(a.length>0){i.widget.element_widget().addClass("add-terms-of-use");var o=e.find(".leadia_termsofuse");o.html('<span>Нажимая на <span class="js_leadia_termsofuse_button_name">кнопку</span>, вы даете согласие на </span>');var s=$(".js-send-lead-form-button",e);s.length&&$(".js_leadia_termsofuse_button_name").text('"'+s.text()+'"');var r=$("<a/>",{class:"lw_termsofuse_link",text:"обработку своих персональных данных"});return $(".lw_termsofuse_link").length||$("body").on("click",".lw_termsofuse_link",function(e){try{t.callgoalTrigger("click_terms_of_use")}catch(e){}e.preventDefault(),window.win&&(window.win[0]?(window.win[0].close(),window.win[0]=null):(window.close(),window.win=null));var n=window.open("","win","width=800,height=600,scrollbars=yes");n.document.open("text/html","replace"),n.onload=function(){t.callgoalTrigger("terms_of_use_opened")};var a=t.termsofuse.replace(/MY_SITE/g,i.utils.punnyCode(window.location.host)||"");n.document.write(a),n.document.close(),window.focus&&n.focus()}),o.append(r),!1}}}catch(e){}}}}(this,lc)},lc.BladeAppearance.mixins.thankyoupageController=function(e){var t=this;return{init:function(i){t.element_textarea_edit().off();var n={msgText:_.escape(t.thankpage_text),writing:5};"object"==typeof i&&null!==i&&("number"==typeof i.writing&&(n.writing=i.writing),i.custom_thankyou_page&&(msgText=_.escape(i.custom_thankyou_page)),i.hideButton&&(n.buttonHide=!0)),t.placeMessageFromRobot({messageType:"thankyou-page",msgText:n.msgText,isMe:!0,writing:n.writing,scrollFast:!0,isHtml:!0,activeEl:e,locale:t.locale,buttonHide:n.buttonHide,image:t.thankpage_photo.length>0?t.thankpage_photo:void 0},!0)},locale:function(e){try{void 0!==t.locale&&e.find(".leadia_widget_button_in_chat").text(t.locale.btns.ask_again)}catch(e){}return e}}},lc.BladeAppearance.mixins.callFormFieldController=function(e){return function(t,i){return{p:function(e){return $.proxy(e,this)},init:function(e){var i=$(t.callform),n=5;if(i.find(".widget_thankyoupage_text").html(_.escape(t.thankpage_text)),void 0!==e&&"number"==typeof e.writing&&(n=e.writing),void 0!==t.flipconfig_json)try{if(void 0!==t.flipconfig_json.texts){var a=t.flipconfig_json.texts;a.textbeforeform.length>0&&i.find(".leadia_widget_order_title").text(a.textbeforeform),a.buttontext.length>0&&i.find(".leadia_widget_order_btn").text(a.buttontext)}}catch(e){}void 0!==t.thankpage_photo&&t.thankpage_photo.length>0&&i.find(".success_send").css({background:"url('"+t.thankpage_photo+"') no-repeat",height:"72px",width:"72px"}),this.locale(i),this.placeMessage(i,n)},locale:function(e){try{if(void 0!==t.locale){var i=e.find('[data-form-field="callform_when_date"] option');i.eq(0).text(t.locale.today),i.eq(1).text(t.locale.tomorrow);e.find('[data-form-field="callform_when_time"] option').eq(0).text(t.getLocale("now")||"Сейчас"),e.find('[data-form-field="callform_phone"]').attr("placeholder",t.locale.placeholders.phone),e.find('[data-form-field="callform_first_last_name"]').attr("placeholder",t.locale.placeholders.name),e.find(".leadia_widget_chat_icon")[0].nextSibling.nodeValue=" "+t.locale.back_to_chat}}catch(e){}return e},getLocale:function(e){if(void 0!==t.locale)return t.locale[e]},placeMessage:function(i,n){t.placeMessageFromRobot({messageType:"callback-form",msgText:i.html(),isMe:!0,writing:n,scrollFast:!0,isHtml:!0,activeEl:e},!0,this.p(this.eventInit))},eventInit:function(){e.find(".leadia-widget-message-me:first").addClass("leadia_widget_call_style"),e.find("select[data-form-field=callform_when_time]").html(this.generateOptions(!0)),e.find("select[data-form-field=callform_when_date]").on("change",this.p(this.selectDateChange)),e.find(".leadia_widget_order_back").on("click",t.p(function(e){e.preventDefault(),t.crosstab_broadcast(t.subscribeType.CHANGE_APP,{app:"chat"},null)})),(i.utils.isIE()&&i.utils.isIE()>9||!i.utils.isIE())&&e.find("input[data-form-field=callform_phone]").limitkeypress({rexp:/^[+]?\d*\s*\(*\d*\)*\s*(\d*-*\s*)*$/}),e.find("#leadia_widget_callform_sendrequest").on("click",this.p(this.btnClick)),this.addTermofuse()},selectDateChange:function(){1==e.find("select[data-form-field=callform_when_date]")[0].selectedIndex?e.find("select[data-form-field=callform_when_time]").html(this.generateOptions()):e.find("select[data-form-field=callform_when_time]").html(this.generateOptions(!0))},generateOptions:function(e){var i="",n=8;if(void 0!==e){var a=new Date,o=a.getHours();o>=n&&o<=23&&(i+='<option value="'+(t.getLocale("now")||"Сейчас")+'">'+(t.getLocale("now")||"Сейчас")+"</option>",n=o)}for(var s=n;s<=23;s++){var r=(s<10?"0"+s:s)+":00 - "+(s+1==24?"23:59":(s+1<10?"0"+(s+1):s+1)+":00");i+='<option value="'+r+'">'+r+"</option>"}return i},btnClick:function(){var n=!1;if(_.each(e.find("#leadia_widget_callform_step1 input[data-necessary=true]"),function(e){var t=$(e);t.removeClass("leadia_input_error"),($.trim(t.val()).length<=0||"callform_phone"==t.data("form-field")&&!i.utils.validatePhone(t.val()))&&(t.addClass("leadia_input_error"),n=!0)}),!n){this.eventDisabled();var a={};a.question=this.getLocale("call_me_now")||"Пожалуйста, перезвоните мне прямо сейчас.",e.find("select[data-form-field=callform_when_time]").val().toLowerCase()!=(t.getLocale("now")||"сейчас").toLowerCase()&&(a.question=(this.getLocale("call_me")||"Пожалуйста, перезвоните мне ")+e.find("select[data-form-field=callform_when_date]").val()+(this.getLocale("at")||" в ")+e.find("select[data-form-field=callform_when_time]").val()),a.phone=e.find("input[data-form-field=callform_phone]").val(),a.first_last_name=e.find("input[data-form-field=callform_first_last_name]").val(),t.callgoalTrigger("leadsendcallform"),t.sendLead(a),e.find("#leadia_widget_callform_step1").hide(),e.find("#leadia_widget_callform_step2").show()}},eventDisabled:function(){e.find("#leadia_widget_callform_step1 input[type=text]").prop("disabled",!0),e.find("#leadia_widget_callform_step1 select").prop("disabled",!0),e.find("#leadia_widget_callform_sendrequest").css("opacity",".5"),e.find("#leadia_widget_callform_sendrequest").off()},addTermofuse:function(){try{var n=leadiaCloud.loader.settings.rulesTermsOfUse;if(t.termsofuse&&n&&1==parseInt(n)){var a=e.find(".leadia_widget_order_rel:last");if(a.length>0){i.widget.element_widget().addClass("add-terms-of-use"),a.find("#leadia_widget_callform_sendrequest").css("margin-top","10px"),$(".leadia_widget_order_control").each(function(){$(this)[0].style.setProperty("margin-bottom","10px","important")}),a.find("input")[0].style.setProperty("margin-bottom","3px","important");var o=$("<div/>",{class:"leadia_termsofuse"});o.html('<span>Нажимая на <span class="js_leadia_termsofuse_contacts_button_name">кнопку</span>, вы даете согласие на </span>');var s=$("#leadia_widget_callform_sendrequest");s.length&&$(".js_leadia_termsofuse_contacts_button_name",o).text('"'+s.text()+'"');var r=$("<a/>",{class:"lw_termsofuse_link",text:"обработку своих персональных данных"});$(".lw_termsofuse_link").length||$("body").on("click",".lw_termsofuse_link",function(e){e.preventDefault();try{t.callgoalTrigger("click_terms_of_use")}catch(e){}window.win&&(window.win[0]?(window.win[0].close(),window.win[0]=null):(window.close(),window.win=null));var n=window.open("","win","width=800,height=600,scrollbars=yes");n.document.open("text/html","replace"),n.onload=function(){t.callgoalTrigger("terms_of_use_opened")};var a=t.termsofuse.replace(/MY_SITE/g,i.utils.punnyCode(window.location.host)||"");n.document.write(a),n.document.close(),window.focus&&n.focus()}),o.append(r),a.append(o)}}}catch(e){}}}}(this,lc)},lc.BladeAppearance.mixins.locale_am_AM={copyright_text:"{0} Հաճախորդների սպասարկման բաժին",typing_message:"Խնդրում եմ սպասեք, ձեզ հաղորդագրություն են գրում",time_since:{now:"Հենց նոր",seconds_30:"30 վայրկյան առաջ",seconds_60:"Րոպե առաջ",seconds_2_4:"{0} ደቂቃዎች በፊት",seconds_5_9:"{0} ደቂቃዎች በፊት",time:"Ուղարկված է "},tooltip:"Եթե ունեք հարցեր, կամ օգնության կարիք, դիմեք, ես կոգնեմ ձեզ",status_bar_notify:{press_enter:"Հաղորդագրությունն ուղարկելու համար սեղմեք Enter",min_length:"Հաղորդագրությունում պետք է լինի առնվազն {0} նիշ"},edit_message:"Խմբագրել",today:"Այսօր",tomorrow:"Վաղը",now:"Հիմա",placeholders:{phone:"Հեռախոս",email:"ኢ-ሜይል",textarea:"Մուտքագրեք ձեր հաղորդագրությունը",name:"Անուն",city:"Քաղաք"},call_now:"Զանգահարեք հիմա",call_me_now:"Խնդրում ենք զանգահարել ինձ հենց հիմա",call_me:"Խնդրում ենք զանգահարել ինձ ետ",right_now:"հենց հիմա",back_to_chat:"Վերադառնալ հաղորդագրություններին",by_phone:"հեռախոսով",by_email:"էլեկտրոնային փոստով",btns:{next:"հետագա",back:"առաջ",send:"ուղարկել",ask_again:"չհարցնել",call_waiting:"Ես սպասում զանգի"},chat:{connect:"Մենք միացնել օպերատորի հետ",connected_operator:"Օպերատորը միացել դեպի Վիճակագրություն"},social:{title:"Ներդնել ինքներտ. Մուտք գործեք սոցիալական ցանցերից մեկի միջոցով",skip:"Ուղարկել տվյալները ուշ →",greeting:"{0}, հաճելի է հանդիպել Ձեզ."}},lc.BladeAppearance.mixins.locale_be_BE={copyright_text:"Аддзел па працы з кліентамі {0}",typing_message:"Пачакайце, вам пішуць паведамленне",time_since:{now:"Толькі што",seconds_30:"30 секунд таму",seconds_60:"Хвіліну назад",seconds_2_4:"{0} хвіліны назад",seconds_5_9:"{0} хвілін назад",time:"Адпраўлена ў "},tooltip:"Калі ўзнікнуць пытанні, ці патрэбна будзе дапамога, звяртайцеся, я вам дапамагу",status_bar_notify:{press_enter:"Націсніце клавішу Enter, каб адправіць паведамленне",min_length:"Даўжыня паведамлення павінна быць не менш за {0} знакаў"},
edit_message:"Рэдагаваць",today:"Сення",tomorrow:"Заўтра",now:"Цяпер",placeholders:{phone:"Тэлефон",email:"E-mail",textarea:"Увядзіце ваша паведамленне",name:"Імя",city:"Горад"},call_now:"Патэлефанаваць прама зараз",call_me_now:"Калі ласка, ператэлефануеце мне прама зараз.",call_me:"Калі ласка, ператэлефануеце мне ",right_now:"Прама зараз",back_to_chat:"Вярнуцца да чату",by_phone:"па тэлефоне",by_email:"на e-mail",btns:{next:"Далей",back:"назад",send:"Адправіць",ask_again:"Спытаць зноў",call_waiting:"Чакаю званка"},chat:{connect:"Злучаем з аператарам",connected_operator:"Аператар падключыўся да чату"},social:{title:"Представьтесь, калі ласка. Авторизируйтесь праз адну з сацыяльных сетак.",skip:"Прадставіцца пазней →",greeting:"{0}, прыемна пазнаёміцца."}},lc.BladeAppearance.mixins.locale_bg_BG={copyright_text:"Отдел за работа с клиенти {0}",typing_message:"Изчакайте, пишат ви съобщение",time_since:{now:"Току що",seconds_30:"Преди 30 секунди",seconds_60:"Преди минута",seconds_2_4:"Преди {0} минути",seconds_5_9:"Преди {0} минути",time:"Изпратено в "},tooltip:"Ако имате въпроси, или нужда от помощ, моля свържете се с мен, аз ще ви помогна.",status_bar_notify:{press_enter:"Натиснете Enter, за да изпратите съобщението",min_length:"Дължината на съобщението трябва да е не по малко от {0} символа"},edit_message:"Редактирай",today:"Днес",tomorrow:"Утре",now:"Сега",placeholders:{phone:"Телефонен номер",email:"E-mail",textarea:"Въведете своето съобщение",name:"Име",city:"Град"},call_now:"Обадете се сега",call_me_now:"Моля, обадете ми точно сега.",call_me:"Моля, обадете ми се върна ",right_now:"точно сега",back_to_chat:"Върни се в чата",by_phone:"по телефона",by_email:"по e-mail",btns:{next:"Още",back:"Преди",send:"За изпращане",ask_again:"Попитам отново",call_waiting:"Аз съм на изчакване за обаждането"},chat:{connect:"Ние се свържат с оператора",connected_operator:"Операторът свързан към чата"},social:{title:"Представете се, моля. Влезте през една от социалните мрежи.",skip:"Изпратете по-късно →",greeting:"{0}, приятно ми е да се запознаем."}},lc.BladeAppearance.mixins.locale_cs_CS={copyright_text:"Oddělení pro zákazníky {0}",typing_message:"Počkejte prosím, manažer píše pro Vás zprávu",time_since:{now:"Právě teď",seconds_30:"Před 30 vteřinami",seconds_60:"Před minutpu",seconds_2_4:"Před {0} minutami",seconds_5_9:"Před {0} minutami",time:"Odesláno "},tooltip:"Máte-li dotazy nebo potřebujete pomoc, napište mi, rád Vám pomůžu",status_bar_notify:{press_enter:"Stiskněte Enter pro odeslání zprávy",min_length:"Zpráva musí mýt alespoň {0} znaků"},edit_message:"Editovat",today:"Dnes",tomorrow:"Zítra",now:"Nyní",placeholders:{phone:"Telefonní číslo",email:"E-mail",textarea:"Napište Vaši zprávu",name:"Jméno",city:"Město"},call_now:"Volejte teď",call_me_now:"Prosím, zavolejte mi právě teď.",call_me:"Prosím, zavolejte mi zpět ",right_now:"Momentálně",back_to_chat:"Vrátit se do chatu",by_phone:"telefonicky",by_email:"na e-mail",btns:{next:"Dále",back:"Před",send:"Оdeslat",ask_again:"Zeptejte se znovu",call_waiting:"Čekám na volání"},chat:{connect:"Spojíme s provozovatelem",connected_operator:"Provozovatel připojen k chatu"},social:{title:"Представьтесь, пожалуйста. Авторизируйтесь через одну из соцсетей.",skip:"Представиться позже →",greeting:"{0}, приятно познакомиться."}},lc.BladeAppearance.mixins.locale_de_DE={copyright_text:"Kunden Service Abteilung {0}",typing_message:"Bitte warten, Manager schreibt Ihnen gerade eine Meldung",time_since:{now:"Gerade erst",seconds_30:"Vor 30 Sekunden",seconds_60:"Vor 1 Minute",seconds_2_4:"Vor {0} Minuten",seconds_5_9:"Vor {0} Minuten",time:"gesendet um "},tooltip:"Wenn Sie Fragen haben, oder brauchen Sie eine Hilfe, bitte schreiben Sie mir; ich werde Ihnen helfe Ihnen.",status_bar_notify:{press_enter:"Drücken Sie bitte Enter, um diese Meldung zu senden",min_length:"Die Meldung soll wenigstens {0} Zeichen haben"},edit_message:"Bearbeiten",today:"Heute",tomorrow:"Morgen",now:"Jetzt",placeholders:{phone:"Telefonnummer",email:"E-mail",textarea:"Führen Sie bitte Ihre Meldung ein",name:"Name",city:"Stadt"},call_now:"Rufen Sie jetzt an",call_me_now:"Bitte rufen Sie mich jetzt.",call_me:"Bitte rufen Sie mich zurück ",right_now:"jetzt sofort",back_to_chat:"zurück zum Chat",by_phone:"telefonisch",by_email:"auf E-Mail",btns:{next:"Weiter",back:"Zurück",send:"Senden",ask_again:"Fragen wieder",call_waiting:"Ich warte auf den Anruf"},chat:{connect:"Wir verbinden mit dem Betreiber",connected_operator:"Der Bediener mit dem chat verbunden"},social:{title:"Представьтесь, пожалуйста. Авторизируйтесь через одну из соцсетей.",skip:"Представиться позже →",greeting:"{0}, приятно познакомиться."}},lc.BladeAppearance.mixins.locale_el_EL={copyright_text:"Τμήμα για την εργασία με τους πελάτες {0}",typing_message:"Περιμένετε για να μπορείτε να γράψετε ένα μήνυμα",time_since:{now:"μόλις",seconds_30:"Πριν από 30 Δευτερόλεπτα",seconds_60:"Πριν από λεπτό",seconds_2_4:"Πριν από {0} λεπτά",seconds_5_9:"Πριν από {0} λεπτά",time:"Στάλθηκε στις "},tooltip:"Έχετε απορίες ή χρειάζεστε βοήθεια, μπορώ να σας βοηθήσω.",status_bar_notify:{press_enter:"Πατήστε το Enter για να σταλεί το μήνυμα σας",min_length:"Το μήνυμα πρέπει να είναι τουλάχιστον {0} χαρακτήρες"},edit_message:"Επεξεργασία",today:"Σήμερα",tomorrow:"Αύριο",now:"Τώρα",placeholders:{phone:"Τηλέφωνο",email:"E-mail",textarea:"Πληκτρολογήστε το μήνυμά σας",name:"Όνομα",city:"Περιοχή"},call_now:"Καλέστε τώρα",call_me_now:"Παρακαλώ να μου τηλεφωνήσει τώρα.",call_me:"Παρακαλώ καλέστε με πίσω ",right_now:"τώρα",back_to_chat:"Επιστροφή στο chat",by_phone:"μέσω τηλεφώνου",by_email:"σχετικά με e-mail",btns:{next:"Περαιτέρω",back:"Πριν",send:"Για να στείλετε",ask_again:"Vα ζητήσει και πάλι",call_waiting:"Είμαι σε αναμονή για την κλήση"},chat:{connect:"Ενώνουμε με το χειριστή",connected_operator:"Ο χειριστής συνδέεται με την κουβέντα"},social:{title:"Представьтесь, пожалуйста. Авторизируйтесь через одну из соцсетей.",skip:"Представиться позже →",greeting:"{0}, приятно познакомиться."}},lc.BladeAppearance.mixins.locale_en_US={copyright_text:"Customer Service Department {0}",typing_message:"typing ...",time_since:{now:"Just now",seconds_30:"30 seconds ago",seconds_60:"one minute ago",seconds_2_4:"{0} minutes ago",seconds_5_9:"{0} minutes ago",time:"Sent at "},tooltip:"If any questions or need for help appear, please contact me. I'll help you",status_bar_notify:{press_enter:"Push the Enter button to send your message",min_length:"The message must be at least {0} characters"},edit_message:"Edit",today:"Today",tomorrow:"Tomorrow",now:"Now",placeholders:{phone:"Phone number",email:"E-mail",textarea:"Enter your message",name:"Name",city:"City"},call_now:"Call now",call_me_now:"Please call me right now.",call_me:"Please call me back ",right_now:"right now",back_to_chat:"Return to chat",operator_connected_to_chat:"Operator was connected to the chat",by_phone:"by phone",by_email:"on e-mail",btns:{next:"Next",back:"Back",send:"Send",ask_again:"Ask again",call_waiting:"Wait for call"},chat:{connect:"Connecting with the operator",connected_operator:"Operator was connected to the chat"},at:" at ",social:{title:"Introduce yourself. Choose a social network to log in. ",skip:"Later  →",greeting:"Nice to meet you, {0}"}},lc.BladeAppearance.mixins.locale_es_ES={copyright_text:"Departamento de Servicio al Cliente {0}",typing_message:"Espere por favor, le escriben un mensaje",time_since:{now:"Ahora",seconds_30:"Hace 30 segundos",seconds_60:"Hace un minuto",seconds_2_4:"Hace {0} minutos",seconds_5_9:"Hace {0} minutos",time:"Ha enviado en "},tooltip:"Si tiene preguntas o necesita ayuda, por favor póngase en contacto conmigo, Le ayudo",status_bar_notify:{press_enter:"Pulse el botón Enter para enviar su mensaje",min_length:"El mensaje debe ser de al menos 5 {0} caracteres"},edit_message:"Editar",today:"Hoy",tomorrow:"Mañana",now:"Ahora",placeholders:{phone:"Número de teléfono",email:"E-mail",textarea:"Escriba su mensaje",name:"Nombre",city:"Ciudad"},call_now:"Llame ahora",call_me_now:"Por favor, llámame ahora.",call_me:"Por favor, llámeme ",right_now:"Ahora mismo",back_to_chat:"Volver a chatear",by_phone:"Por teléfono",by_email:"En el e-mail",btns:{next:"Además",back:"Hace",send:"Para enviar",ask_again:"Preguntar de nuevo",call_waiting:"Estoy a la espera de la llamada"},chat:{connect:"Ponemos en contacto con el operador",connected_operator:"El operador conectado al chat"},at:" at ",social:{title:"Представьтесь, пожалуйста. Авторизируйтесь через одну из соцсетей.",skip:"Представиться позже →",greeting:"{0}, приятно познакомиться."}},lc.BladeAppearance.mixins.locale_hu_HU={copyright_text:"Ügyfélszolgálati Osztály {0}",typing_message:"Kérem várjon, Önnek üzenetet írnak",time_since:{now:"Épp most",seconds_30:"30 másodperce",seconds_60:"Egy perce",seconds_2_4:"{0} perce",seconds_5_9:"{0} perce",time:"Elküldve "},tooltip:"Ha kérdése van, vagy segítségre van szüksége, kérem, vegye fel a kapcsolatot velem, segítek Önnek",status_bar_notify:{press_enter:"Nyomja meg az Enter gombot az üzenet elküldéséhez",min_length:"Az üzenet hosszának legalább {0} karakterből kell állnia"},edit_message:"Szerkesztés",today:"Ma",tomorrow:"Holnap",now:"Most",placeholders:{phone:"Telefon",email:"E-mail",textarea:"Írja be az üzenetét",name:"Név",city:"Város"},call_now:"Hívjon most",call_me_now:"Kérem, hívjon most.",call_me:"Kérem, hívjon vissza ",right_now:"most",back_to_chat:"Vissza a chat ablakhoz",by_phone:"Telefonon",by_email:"Az e-mail",btns:{next:"További",back:"Ezelőtt",send:"Küldeni",ask_again:"Kkérdezze meg újra",call_waiting:"Várom a hívást"},chat:{connect:"Csatlakozás az üzemeltető",connected_operator:"Az üzemeltető csatlakozik a csevegési"},social:{title:"Представьтесь, пожалуйста. Авторизируйтесь через одну из соцсетей.",skip:"Представиться позже →",greeting:"{0}, приятно познакомиться."}},lc.BladeAppearance.mixins.locale_it_IT={copyright_text:"Servizio clienti {0}",typing_message:"Aspetta per favore, si scrive un messaggio",time_since:{now:"Proprio adesso",seconds_30:"30 secondi fa",seconds_60:"Un minuto fa",seconds_2_4:"{0} minutes ago",seconds_5_9:"{0} minutes ago",time:"Inviato alle "},tooltip:"Se avete domande o bisogno di aiuto, non esitare a contattarmi, vi aiuterò volentieri",status_bar_notify:{press_enter:"PPremere 'Invio' per inviare il messaggio",min_length:"Il messaggio deve essere di almeno 5 {0} caratteri"},edit_message:"Modificare",today:"Oggi",tomorrow:"Domani",now:"Adesso",placeholders:{phone:"Telefono",email:"E-mail",textarea:"Inserisci qua il messaggio",name:"Nome",city:"Città"},call_now:"Chiama subito",call_me_now:"Si prega di chiamare me in questo momento.",call_me:"Richiamami ",right_now:"In questo momento",back_to_chat:"Tornare alla chat",by_phone:"Per telefono",by_email:"On e-mail",btns:{next:"Ulteriormente",back:"Fa",send:"Inviare",ask_again:"Chiedere di nuovo",call_waiting:"Sto aspettando la chiamata"},chat:{connect:"Colleghiamo con l'operatore",connected_operator:"L'operatore collegata alla chat"},social:{title:"Представьтесь, пожалуйста. Авторизируйтесь через одну из соцсетей.",skip:"Представиться позже →",greeting:"{0}, приятно познакомиться."}},lc.BladeAppearance.mixins.locale_kk_KK={copyright_text:"{0} тұтынушыларымен жұмыс істеу бөлімі",typing_message:"Күте тұрыңыз, сізге хабарлама жазуда",time_since:{now:"Қазір ғана",seconds_30:"30 секунд алдын",seconds_60:"1 минөт алдын",seconds_2_4:"{0} минут алдын",seconds_5_9:"{0} минут алдын",time:"Те жіберілді "},tooltip:"Егерде сұрақтарыңыз болса немесе қандай да бір көмек керек болса маған жазыңыз, мен әлбетте көмектесемін",status_bar_notify:{press_enter:"Хабарлама жіберу үшін Enter батырмасын басыңыз",min_length:"Хабарлама ұзындығы {0} символдан кем болмауы тиіс"},edit_message:"Түзету",today:"Бүгін",tomorrow:"Ертең",now:"Қазір",placeholders:{phone:"Телефон нөміріңіз",email:"E-mail",textarea:"Өз хабарламаңызды жазыңыз",name:"Есіміңіз",city:"Қала"},call_now:"Қазір қоңырау",call_me_now:"Дәл қазір маған қоңырау сұраймыз.",call_me:"Мені қайта қоңырау шалыңыз ",right_now:"Дәл қазір",back_to_chat:"Чатқа қайта оралу",by_phone:"Телефон арқылы",by_email:"E-mail бойынша",btns:{next:"Одан әрі",back:"Бұрын",send:"Жіберу үшін",ask_again:"Қайта сұраңыз",call_waiting:"Мен қоңырау күтемін"},chat:{connect:"Біз оператормен қосылу",connected_operator:"Оператор қосылған чат "},social:{title:"Представьтесь, пожалуйста. Авторизируйтесь через одну из соцсетей.",skip:"Представиться позже →",greeting:"{0}, приятно познакомиться."}},lc.BladeAppearance.mixins.locale_lv_LV={copyright_text:"Klientu serviss {0}",typing_message:"Uzgaidiet, jums raksta ziņojumu",time_since:{now:"Pirms brīža",seconds_30:"pirms 30 sekundēm",seconds_60:"pirms minūtēm",seconds_2_4:"pirms {0} minūtēm",seconds_5_9:"pirms {0} minūtēm",time:"Nosūtīts "},tooltip:"Ja jums ir kādi jautājumi vai nepieciešama palīdzība, sazinieties ar mani, es jums palīdzēšu.",status_bar_notify:{press_enter:"Nospiediet Enter, lai nosūtītu ziņojumu.",min_length:"Ziņojuma garumam jābūt vismaz {0} rakstzīmēm"},edit_message:"Rediģēt",today:"Šodien",tomorrow:"Rīt",now:"Tagad",placeholders:{phone:"Tālrunis",email:"E-pasts",textarea:"Ievadiet savu ziņu",name:"Vārds",city:"Pilsēta"},call_now:"Atzvanīt tūlīt",call_me_now:"Lūdzu, atzvaniet man tieši tagad.",call_me:"Lūdzu, atzvaniet man tieši tagad.tieši tagad ",right_now:"Tieši tagad",back_to_chat:"Atpakaļ uz čatu",by_phone:"pa tālruni",by_email:"uz e-pastu",btns:{next:"tālāk",back:"Atpakaļ",send:"Nosūtīt",ask_again:"Jautājiet vēlreiz",call_waiting:"Gaidu zvanu"},chat:{connect:"Savienojam ar operatoru",connected_operator:"Operators pievienojies čatam"},social:{title:"Представьтесь, пожалуйста. Авторизируйтесь через одну из соцсетей.",skip:"Представиться позже →",greeting:"{0}, приятно познакомиться."}},lc.BladeAppearance.mixins.locale_pl_PL={copyright_text:"Dział Obsługi Klienta {0}",typing_message:"Czekaj proszę, menadżer pisze wiadomość dla Ciebie",time_since:{now:"Właśnie teraz",seconds_30:"30 sekund temu",seconds_60:"Minutę temu",seconds_2_4:"{0} minuty temu",seconds_5_9:"{0} minut temu",time:"Wysłany "},tooltip:"Jeśli masz pytania lub potrzebujesz pomocy, skontaktuj się ze mną. Pomogę Ci.",status_bar_notify:{press_enter:"Wciśnij enter żeby wysłać wiadomość",min_length:"Wiadomośc musi zawierać co najmniej {0} znaków"},edit_message:"Edytuj",today:"Dziś",tomorrow:"Jutro",now:"Teraz",placeholders:{phone:"Numer telefonu",email:"E-mail",textarea:"Wpisz swoją wiadomość",name:"Imię",city:"Miasto"},call_now:"Zadzwoń już teraz",call_me_now:"Proszę zadzwonić do mnie w tej chwili.",call_me:"Proszę do mnie zadzwonić ",right_now:"Już",back_to_chat:"Powrót do chatu",by_phone:"telefonicznie",by_email:"na e-mail",btns:{next:"Dalej",back:"Temu",send:"Wysłać",ask_again:"Pytaj ponownie",call_waiting:"Czekam na wezwanie"},chat:{connect:"Łączymy z operatorem",connected_operator:"Operator dołączy się do rozmowy"},social:{title:"Przedstaw się, proszę. Proszę się zalogować za pośrednictwem jednego z portali społecznościowych.",skip:"Przedstaw się później →",greeting:"{0}, miło cię poznać."}},lc.BladeAppearance.mixins.locale_ro_RO={copyright_text:"Serviciul suport clientelă {0}",typing_message:"Așteptați vă rog, consultantul vă scrie mesaj",time_since:{now:"Chiar acum",seconds_30:"30 de secunde în urmă",seconds_60:"O minută în urmă",seconds_2_4:"{0} minute în urmă",seconds_5_9:"{0} minute în urmă",time:"Trimis la ora "},tooltip:"Dacă aveți întrebări sau aveți nevoie de ajutor, vă rog să mă contactați, eu am să vă ajut",status_bar_notify:{press_enter:"Tastați Enter, pentru a trimite mesaj",min_length:"Lungimea mesajului trebuie să fie nu mai puțină de {0} caractere"},edit_message:"Redactare mesaj",today:"Astăzi",tomorrow:"Mâine",now:"Acum",placeholders:{phone:"Telefon de contact",email:"E-mail",textarea:"Introduceți mesajul",name:"Numele",city:"Orașul"},call_now:"Suna acum",call_me_now:"Va rog să mă sunați chiar acum",call_me:"Va rog să mă suni înapoi ",right_now:"Imediat",back_to_chat:"Revenire în chat",by_phone:"prin telefon",by_email:"pe e-mail",btns:{next:"Mai departe",back:"În urmă",send:"Trimite",ask_again:"Întreba din nou",call_waiting:"Aștept pe apelul"},chat:{connect:"Conectăm cu operatorul",connected_operator:"Operatorul s-a conectat la chat"},social:{title:"Prezentați-vă vă rog. Conectați-vă prin una din rețelele de socializare.",skip:"Prezentați-vă mai tîrziu →",greeting:"{0}, mă bucur să vă cunosc."}},lc.BladeAppearance.mixins.locale_ru_RU={copyright_text:"Отдел по работе с клиентами {0}",typing_message:"Подождите, вам пишут сообщение",time_since:{now:"Только что",seconds_30:"30 секунд назад",seconds_60:"минуту назад",seconds_2_4:"{0} минуты назад",seconds_5_9:"{0} минут назад",time:"Отправлено в "},tooltip:"Если возникнут вопросы, или нужна будет помощь, обращайтесь, я вам помогу",status_bar_notify:{press_enter:"Нажмите Enter, чтобы отправить сообщение",min_length:"Длина сообщения должна быть не меньше {0} символов"},edit_message:"Редактировать",today:"Сегодня",tomorrow:"Завтра",now:"Сейчас",placeholders:{phone:"Телефон",email:"E-mail",textarea:"Введите ваше сообщение",name:"Имя",city:"Город"},call_now:"перезвонить прямо сейчас",call_me_now:"Пожалуйста, перезвоните мне прямо сейчас.",call_me:"Пожалуйста, перезвоните мне ",right_now:"прямо сейчас",back_to_chat:"Вернуться к чату",by_phone:"по телефону",by_email:"на e-mail",btns:{next:"Далее",back:"Назад",send:"Отправить",ask_again:"Спросить снова",call_waiting:"Жду звонка"},chat:{connect:"Соединяем с оператором",connected_operator:"Оператор подключился к чату"},social:{title:"Нам будет очень приятно, если вы представитесь. Выберите вашу соцсеть.",skip:"Пропустить →",greeting:"{0}, приятно познакомиться."}},lc.BladeAppearance.mixins.locale_ru={copyright_text:"Отдел по работе с клиентами {0}",typing_message:"Подождите, вам пишут сообщение",time_since:{now:"Только что",seconds_30:"30 секунд назад",seconds_60:"минуту назад",seconds_2_4:"{0} минуты назад",seconds_5_9:"{0} минут назад",time:"Отправлено в "},tooltip:"Если возникнут вопросы, или нужна будет помощь, обращайтесь, я вам помогу",status_bar_notify:{press_enter:"Нажмите Enter, чтобы отправить сообщение",min_length:"Длина сообщения должна быть не меньше {0} символов"},edit_message:"Редактировать",today:"Сегодня",tomorrow:"Завтра",now:"Сейчас",placeholders:{phone:"Телефон",email:"E-mail",textarea:"Введите ваше сообщение",name:"Имя",city:"Город"},call_now:"перезвонить прямо сейчас",call_me_now:"Пожалуйста, перезвоните мне прямо сейчас.",call_me:"Пожалуйста, перезвоните мне ",right_now:"прямо сейчас",back_to_chat:"Вернуться к чату",by_phone:"по телефону",by_email:"на e-mail",btns:{next:"Далее",back:"Назад",send:"Отправить",ask_again:"Спросить снова",call_waiting:"Жду звонка"},chat:{connect:"Соединяем с оператором",connected_operator:"Оператор подключился к чату"},social:{title:"Нам будет очень приятно, если вы представитесь. Выберите вашу соцсеть.",skip:"Пропустить →",greeting:"{0}, приятно познакомиться."}},lc.BladeAppearance.mixins.locale_sk_SK={copyright_text:"Oddelenie pomoci zakazníkom {0}",typing_message:"Počkajte prosím, manažér Vám píše správu",time_since:{now:"Teraz",seconds_30:"Pred 30 sekundami",seconds_60:"Pred jednou minútou",seconds_2_4:"Pred {0} minútami",seconds_5_9:"Pred {0} minútami",time:"Poslné "},tooltip:"Ak máte otázky alebo potrebujete pomoc, prosím kontaktujte ma, pomôžem Vám",status_bar_notify:{press_enter:"Stlačte Enter pre poslanie správy",min_length:"Správa musí byť obsahovať aspoň {0} znakov"},edit_message:"Editovať",today:"Dnes",tomorrow:"Zajtra",now:"Teraz",placeholders:{phone:"Telefónne číslo",email:"E-mail",textarea:"Napíšte Vašu správu",name:"Meno",city:"Mesto"},call_now:"Volajte teraz",call_me_now:"Prosím, zavolajte mi práve teraz.",call_me:"Prosím, zavolajte mi späť ",right_now:"Momentálne",back_to_chat:"Vrátiť sa do chatu",by_phone:"telefonicky",by_email:"na e-mail",btns:{next:"Ďalej",back:"Pred",send:"Odoslať",ask_again:"Opýtajte sa znova",call_waiting:"Čakám na výzvu"},chat:{connect:"Spojíme s prevádzkovateľom",connected_operator:"Prevádzkovateľ pripojený k chatu"},social:{title:"Представьтесь, пожалуйста. Авторизируйтесь через одну из соцсетей.",skip:"Представиться позже →",greeting:"{0}, приятно познакомиться."}},lc.BladeAppearance.mixins.locale_uk_UK={copyright_text:"Відділ по роботі з клієнтами {0}",typing_message:"Зачекайте, будь ласка, вам пишуть повідомлення",time_since:{now:"Щойно",seconds_30:"30 секунд тому",seconds_60:"xвилину тому",seconds_2_4:"{0} хвилини тому",seconds_5_9:"{0} хвилин тому",time:"Відправлено об "},tooltip:"Якщо виникнуть запитання, або буде потрібна допомога, звертайтесь, я вам допоможу",status_bar_notify:{press_enter:"Натисніть Enter, щоб відправити повідомлення",min_length:"Довжина повідомлення має бути не менше, ніж {0} символів"},edit_message:"Редагувати",today:"Сьогодні",tomorrow:"Завтра",now:"Зараз",placeholders:{phone:"Телефон",email:"E-mail",textarea:"Введіть ваше повідомлення",name:"Ім'я",city:"Місто"},call_now:"Зателефонувати прямо зараз",call_me_now:"Будь ласка, передзвоніть мені прямо зараз.",call_me:"Будь ласка, передзвоніть мені ",right_now:"прямо зараз",back_to_chat:"Повернутися до чату",by_phone:"по телефону",by_email:"на e-mail",btns:{next:"Далі",back:"назад",send:"Відправити",ask_again:"Запитати знову",call_waiting:"Чекаю дзвінка"},chat:{connect:"З'єднуємо з оператором",connected_operator:"Оператор підключився до чату"},social:{title:"Представьтесь, пожалуйста. Авторизируйтесь через одну из соцсетей.",skip:"Представиться позже →",greeting:"{0}, приятно познакомиться."}},lc.BladeAppearance.mixins.locale_zh_CN={copyright_text:"客户服务部 {0}",typing_message:"输入中 请稍等",time_since:{now:"刚才",seconds_30:"30秒前",seconds_60:"分钟前",seconds_2_4:"{0} 分鐘前",seconds_5_9:"{0} 分鐘前",time:"发表于 "},tooltip:"如果您有任何疑问，或需要帮助，请联系，我可以帮助您",status_bar_notify:{press_enter:"点击ENTER为发送信息",min_length:"信息长度必须最少{0}个字"},edit_message:"修编",today:"今天",tomorrow:"明天",now:"现在",placeholders:{phone:"电话",email:"E-mail",textarea:"输入信息",name:"名称",city:"城市"},call_now:"现在就打电话",call_me_now:"请马上给我打电话",call_me:"请给我打电话 ",right_now:"现在",back_to_chat:"返回聊天",by_phone:"通过电话",by_email:"在电子邮件",btns:{next:"进一步",back:"前",send:"送",ask_again:"再问",call_waiting:"我在等待呼叫"},chat:{connect:"与运营商的连接",connected_operator:"连接到聊天操作员"},social:{title:"Представьтесь, пожалуйста. Авторизируйтесь через одну из соцсетей.",skip:"Представиться позже →",greeting:"{0}, приятно познакомиться."}},lc.BladeAppearance.mixins.locale_lt_LT={copyright_text:"Klientų aptarnavimas {0}",typing_message:"Palaukite, rašau pranešimą",time_since:{now:"Tik dabar",seconds_30:"Prieš 30 sekundžių",seconds_60:"prieš minutę",seconds_2_4:"Prieš {0} minutes",seconds_5_9:"Prieš {0} minutes",time:"Išsiųstas "},tooltip:"Jei turite klausimų ar jums reikia pagalbos, susisiekite su manimi, aš jums padėsiu.",status_bar_notify:{press_enter:'Paspauskite "Enter", jei norite išsiųsti pranešimą.',min_length:"Pranešimo ilgis turi būti bent {0} simbolių"},edit_message:"Redaguoti",today:"Šiandien",tomorrow:"Rytoj",now:"Dabar",placeholders:{phone:"Telefonas",email:"El. Paštas",textarea:"Įveskite savo pranešimą",name:"Vardas",city:"Miestas"},call_now:"Perskambinti dabar",call_me_now:"Prašau paskambinkite man dabar.",call_me:"Prašau perskambinti man ",right_now:"dabar",back_to_chat:"Grįžti prie pokalbio",by_phone:"telefonu",by_email:"el. paštu",btns:{next:"Kitas",back:"Atgal",send:"Siųsti",ask_again:"Paklausti dar kartą",call_waiting:"Laukiu skambučio"},chat:{connect:"Mes jungiames prie operatoriaus",connected_operator:"Operatorius prijungtas prie pokalbio"},social:{title:"Prašau,prisistatykite. Prisijunkite per vieną iš socialinių tinklų.",skip:"Pristatiti save vėliau →",greeting:"{0}, malonu susipažinti."}},lc.BladeAppearance.mixins.locale=lc.BladeAppearance.mixins.locale_ru_RU,lc.BladeAppearance.mixins.previewModeVenyoo=function(e,t){this.setOwnHeight=function(e,t){this.element_chatwrapcontent(t).css("height","360px")},this.locale=this["locale_"+this.settings.language];try{this.element_textarea().attr("placeholder",this.getLocale("placeholders.textarea")||this.element_textarea().attr("placeholder"))}catch(e){}if(t=this.appsFlip().getActiveElByVal("chat"),"formFieldController"==e){var i,n=$(this.checkboxFieldHtml),a=$.extend(!0,{},this.form_field_json),o=$(this.formFieldHtml);if(this.settings.social_auth&&!i){options={};var s={fields:["all"],social_params:lc.serverEnv.params.social_params,locale:this.locale,buttons:[{service:"vk",img:"https://133921.selcdn.ru/widget/img/social/svg/vk.svg",className:"lwi_vk"},{service:"ok",img:"https://133921.selcdn.ru/widget/img/social/svg/odk.svg",className:"lwi_odk"},{service:"fb",img:"https://133921.selcdn.ru/widget/img/social/svg/fb.svg",className:"lwi_fb"},{service:"mailru",img:"https://133921.selcdn.ru/widget/img/social/svg/mailru.svg",className:"lwi_mailru"}]};i=new lc.components.SocialAuth(s),i.on("render",function(){i.disable()}.bind(this))}if(n=this.checkboxFieldController(t).locale(n),o=this.formFieldController(t).locale(o),n.find("#checkboxBtnNext").remove(),Object.keys(a).length>0&&void 0!==a.fields&&Object.keys(a.fields).length>0&&(1==a.fields.phone.visible&&1==a.fields.email.visible?n.find(".leadia-widget-message-text").text(a.fields_text.phone_email_text):(1==a.fields.phone.visible&&0==a.fields.email.visible&&(n.find(".leadia_msg_checkboxes").remove(),n.find(".leadia-widget-message-text").text(a.fields_text.phone_text)),0==a.fields.phone.visible&&1==a.fields.email.visible&&(n.find(".leadia_msg_checkboxes").remove(),n.find(".leadia-widget-message-text").text(a.fields_text.email_text)))),Object.keys(a).length>0&&void 0!==a.fields&&Object.keys(a.fields).length>0)for(var r in a.fields)if(a.fields[r].visible&&o.find(("time_to_call"==r?"select":"input")+"[data-form-field="+r+"]").parent().show(),a.fields[r].required||-1!==["phone","email"].indexOf(r)){var l=o.find("input[data-form-field="+r+"]").attr("placeholder");o.find("input[data-form-field="+r+"]").attr("placeholder",l+" *")}o.find(".leadia-widget-message-text").text(this.contactform_text),o.find(".leadia_widget_row").remove();if(this.settings.social_auth){var s={active_step:"step_one",fields:["all"],social_params:lc.serverEnv.params.social_params,scrollTop:!0};this.formfieldSocial||(this.formfieldSocial=new lc.components.SocialAuth(s,'<div style="margin-top: 10px"><div data-block-social="true" data-slide-step="step_one"><div style="float:right;"><img class="sg_button lwi_vk lw_ffstep" src="https://133921.selcdn.ru/widget/img/social/svg/vk.svg" data-service="vk" data-button="true"><img class="sg_button lwi_odk lw_ffstep" src="https://133921.selcdn.ru/widget/img/social/svg/odk.svg" data-service="ok" data-button="true"><img class="sg_button lwi_fb lw_ffstep" src="https://133921.selcdn.ru/widget/img/social/svg/fb.svg" data-service="fb" data-button="true"><img class="sg_button lwi_mailru lw_ffstep" style="margin-right: 0;" src="https://133921.selcdn.ru/widget/img/social/svg/mailru.svg" data-service="mailru" data-button="true"></div><div style="line-height: 25px;">Войдите через: </div></div><div data-slide-step="step_two"><div data-block="photo" class="lwi_photo" style="display: inline-block; vertical-align: middle; margin-right: 5px;"></div><div data-block="title" class="lwi_fio" class="sg_title"></div></div></div>')),this.formfieldSocial.mount(o.find('[data-block-social="true"]')[0]),this.formfieldSocial.removeAllListeners()}var d=t.find(".leadia_widget_msg").length;this.main.find(".leadia_msg_form").length<1||3===d&&!this.settings.social_auth||2===d&&this.settings.social_auth?(this.element_chat().html(""),this.hideTextareaBlock(t),this.settings.social_auth&&i.mount(this.element_chat(t)[0]),this.placeMessageFromRobot({msgText:n.html(),isMe:!0,isHtml:!0,writing:0,scrollFast:!0,scrollTop:!0,activeEl:t},!0,this.p(function(){this.setOwnHeight(!0,t)})),this.placeMessageFromRobot({msgText:o.html(),isMe:!0,isHtml:!0,writing:0,scrollFast:!0,scrollTop:!0,activeEl:t},!0,this.p(function(){this.setOwnHeight(!0,t)}))):this.settings.social_auth?(this.setMessageBlockContent(t,n.html(),null,!0,{elPos:1},this.p(function(){this.setOwnHeight(!0,t)})),this.setMessageBlockContent(t,o.html(),null,!0,{elPos:3},this.p(function(){this.setOwnHeight(!0,t)}))):(this.setMessageBlockContent(t,n.html(),null,!0,{elPos:0},this.p(function(){this.setOwnHeight(!0,t)})),this.setMessageBlockContent(t,o.html(),null,!0,{elPos:2},this.p(function(){this.setOwnHeight(!0,t)})))}else if("thankyoupageController"==e){var c=$(this.thankyouTextHtml);c=this.thankyoupageController(t).locale(c),0==this.thankpage_photo.length?c.find(".success_send").remove():c.find(".success_send").css({background:"url('"+this.thankpage_photo+"') no-repeat",height:"72px",width:"72px"}),c.find(".widget_thankyoupage_text").html(_.escape(this.thankpage_text)),c.find("#repeatQuestion").remove(),t.find(".widget_thankyoupage_text").length<1?(this.element_chat().html(""),this.hideTextareaBlock(t),this.placeMessageFromRobot({msgText:c.html(),isMe:!0,isHtml:!0,writing:0,scrollFast:!0,activeEl:t},!0,this.p(function(){this.setOwnHeight(!0,t)}))):this.setMessageBlockContent(t,c.html(),null,!0,void 0,this.p(function(){this.setOwnHeight(!0,t)}))}else if("callFormFieldController"==e){var p=$(this.callform),a=$.extend(!0,{},this.flipconfig_json);p=this.callFormFieldController(t).locale(p),this.element_leadiawidgetphoto_flip().addClass("leadia_widget_photo_flipped"),this.element_workerName().text(a.texts.title),this.element_jobTitle().text(a.texts.subtitle),p.find(".leadia_widget_order_title").text(a.texts.textbeforeform),p.find("#leadia_widget_callform_sendrequest").text(a.texts.buttontext),p.find("#leadia_widget_callform_sendrequest").append('<div class="leadia_widget_arrow_right"></div>'),t.find("#leadia_widget_callform_step1").length<1?(this.element_chat().html(""),this.hideTextareaBlock(t),this.placeMessageFromRobot({msgText:p.html(),isMe:!0,isHtml:!0,writing:0,scrollFast:!0,activeEl:t},!0,this.p(function(){t.find(".leadia-widget-message-me:first").addClass("leadia_widget_call_style"),this.setOwnHeight(!0,t)}))):this.setMessageBlockContent(t,p.html(),null,!0,void 0,this.p(function(){this.setOwnHeight(!0,t)}))}else if("coldUserController"==e&&this.previewMode.on){var a=$.extend(!0,{},this.cold_field_json);a.previewMode=!0,lc.lc_controllers.coldUserController.ctrl.init(a,this.main.find("#leadia_science_widget")),this.element_widget().addClass("hide_widget")}this.setupInlineStyles(this.main)};try{!function(e,t){t("crosstab",function(t,i,n){"use strict";function a(){if(!R.supported){var t="crosstab not supported",i=[];throw T||i.push("localStorage not availabe"),e.addEventListener||i.push("addEventListener not available"),z&&i.push("mobile browser"),A&&i.push("frozen tab environment detected"),M||i.push("localStorage.setItem not allowed"),i.length>0&&(t+=": "+i.join(", ")),new Error(t)}}function o(e){if(e&&e.key in O.storageEventKeys){var t;try{t=e.newValue?JSON.parse(e.newValue):{}}catch(e){t={}}if(t&&t.id&&t.id!==R.id&&(e.newValue!==L||e.oldValue!==j))if(L=e.newValue,j=e.oldValue,e.key===O.keys.MESSAGE_KEY){var i=t.data;i.destination&&i.destination!==R.id||C.emit(i.event,i)}else e.key===O.keys.FROZEN_TAB_ENVIRONMENT?(A=t.data,R.supported=R.supported&&!t.data):e.key===O.keys.SUPPORTED_KEY&&(R.supported=R.supported&&t.data)}}function s(e,t){var i={id:R.id,data:t,timestamp:O.now()};T.setItem(e,JSON.stringify(i))}function r(e){return l(e).data}function l(e){var t=T?T.getItem(e):null;return t?JSON.parse(t):{}}function d(){R.stopKeepalive=!0;var e=0;O.forEach(O.tabs,function(t,i){i!==O.keys.MASTER_TAB&&e++}),1===e?(O.tabs={},x()):b(O.eventTypes.tabClosed,R.id)}function c(){R.stopKeepalive=!1,S()}function p(){e.removeEventListener("beforeunload",d,!1),e.addEventListener("unload",d,!1),c()}function h(){return O.tabs[O.keys.MASTER_TAB]}function u(e){O.tabs[O.keys.MASTER_TAB]=e}function m(){delete O.tabs[O.keys.MASTER_TAB]}function g(){var e=h();return e?e.id:0}function f(){return g()===R.id}function _(){
var e=null;O.forEach(O.tabs,function(t){(!e||t.id<e)&&(e=t.id)}),e===R.id?b(O.eventTypes.tabPromoted,R.id):u({id:e,lastUpdated:O.now()})}function w(e,t,i){i=i||"0";var n=e.toString();return n.length>=t?n:new Array(t-n.length+1).join(i)+n}function b(e,t,i){R.supported||a();var n={id:O.generateId(),event:e,data:t,destination:i,origin:R.id,timestamp:O.now()};n.destination!==n.origin&&s(O.keys.MESSAGE_KEY,n),n.destination&&n.destination!==n.origin||C.emit(e,n)}function v(e,t){b(e,t,h().id)}function y(){R.supported=!1,A=!0,s(O.keys.FROZEN_TAB_ENVIRONMENT,!0),s(O.keys.SUPPORTED_KEY,!1)}function x(){s(O.keys.TABS_KEY,O.tabs)}function k(){function e(e){return i-e.lastUpdated<Y}function t(t,i){return i!==O.keys.MASTER_TAB&&!e(t)}var i=O.now(),n={id:R.id,lastUpdated:i};b(O.eventTypes.tabUpdated,n);var a=O.filter(O.tabs,t);if(O.forEach(a,function(e){b(O.eventTypes.tabClosed,e.id)}),!P){var o=h();if(o&&o.id!==n.id){var r,l;R.util.events.once("PONG",function(){P||(clearTimeout(r),s(O.keys.SUPPORTED_KEY,!0),s(O.keys.FROZEN_TAB_ENVIRONMENT,!1),O.events.emit("setupComplete"))}),l=O.now();var d=function(e){var t=O.now()-l;P||(e<=0&&t>H?(y(),O.events.emit("setupComplete")):r=setTimeout(function(){d(e-1)},5))};r=setTimeout(function(){d(5)},H-25),R.broadcastMaster("PING")}else o&&o.id===n.id&&O.events.emit("setupComplete")}}function S(){R.supported&&!R.stopKeepalive&&k()}var T,E=e.navigator&&(e.navigator.userAgent||e.navigator.vendor)||e.opera||"none",z=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(E)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(E.substr(0,4));try{T=e.localStorage,T=e["ie8-eventlistener/storage"]||e.localStorage}catch(e){}var M=!0;try{T.setItem("__crosstab",""),T.removeItem("__crosstab")}catch(e){M=!1}var A=!1,O={keys:{MESSAGE_KEY:"crosstab.MESSAGE_KEY",TABS_KEY:"crosstab.TABS_KEY",MASTER_TAB:"MASTER_TAB",SUPPORTED_KEY:"crosstab.SUPPORTED",FROZEN_TAB_ENVIRONMENT:"crosstab.FROZEN_TAB_ENVIRONMENT"}};O.isArray=Array.isArray||function(e){return e instanceof Array},O.isNumber=function(e){return"number"==typeof e},O.isFunction=function(e){return"function"==typeof e},O.forEachObj=function(e,t){for(var i in e)e.hasOwnProperty(i)&&t.call(e,e[i],i,e)},O.forEachArr=function(e,t){for(var i=e.length,n=0;n<i;n++)t.call(e,e[n],n,e)},O.forEach=function(e,t){O.isArray(e)?O.forEachArr(e,t):O.forEachObj(e,t)},O.map=function(e,t){var i=[];return O.forEach(e,function(e,n,a){i.push(t(e,n,a))}),i},O.filter=function(e,t){var i=O.isArray(e),n=i?[]:{};return i?O.forEachArr(e,function(e,i){t(e,i)&&n.push(e)}):O.forEachObj(e,function(e,i){t(e,i)&&(n[i]=e)}),n},O.reduce=function(e,t,i){var n=arguments.length<3;return O.forEach(e,function(e,a,o){n?(i=e,n=!1):i=t(i,e,a,o)}),i},O.now=function(){return(new Date).getTime()},O.tabs=function(){var e=r(O.keys.TABS_KEY);return O.tabs=e||O.tabs||{},O.tabs}(),O.eventTypes={becomeMaster:"becomeMaster",demoteFromMaster:"demotedFromMaster",tabUpdated:"tabUpdated",tabClosed:"tabClosed",tabPromoted:"tabPromoted"},O.storageEventKeys=O.reduce(O.keys,function(e,t){return e[t]=1,e},{}),O.createEventHandler=function(){var e={},t={},i=function(e,i){var n;return t[e]&&(n=t[e][i]),n},n=function(t,i){var n=-1,a=e[t];if(a&&i)for(var o=a.length||0,s=0;s<o;s++)if(a[s]===i){n=s;break}return n},a=function(e,a,o){var s,r=d(e),l=i(e,o);return void 0===l?(s=r.length,r[s]=a,t[e]||(t[e]={}),o&&(t[e][o]=a)):(s=n(e,l),r[s]=a),o||a},o=function(a,o){var s=O.isFunction(o)?o:i(a,o),r=n(a,s);return-1!==r&&(!(!e[a]||!e[a][r])&&(e[a].splice(r,1),delete t[a][o],!0))},s=function(i){var n=!1;return i?(e[i]&&(delete e[i],n=!0),t[i]&&(delete t[i],n=n&&!0)):(e={},t={},n=!0),n},r=function(e){var t=Array.prototype.slice.call(arguments,1),i=d(e);O.forEach(i,function(e){O.isFunction(e)&&e.apply(this,t)})},l=function(e,t,n){for(;!n||void 0!==i(e,n);)n=O.generateId();return a(e,function(){o(e,n);var i=Array.prototype.slice.call(arguments);t.apply(this,i)},n),n},d=function(t){return e[t]=e[t]||[]};return{addListener:a,destructor:function(){clearInterval(R.keepAliveInterval),s()},on:a,off:function(e,t){var i=arguments.length;return i?1===i?s(e):o(e,t):s()},once:l,emit:r,listeners:d,removeListener:o,removeAllListeners:s}};var C=O.createEventHandler();O.events={addListener:C.addListener,on:C.on,off:C.off,once:C.once,emit:C.emit,listeners:C.listeners,removeListener:C.removeListener,removeAllListeners:C.removeAllListeners,destructor:C.destructor};var L,j;C.addListener(O.eventTypes.tabClosed,function(e){var t=e.data;t in O.tabs&&delete O.tabs[t];var i=h();i&&i.id!==t?i.id===R.id&&x():(i&&m(),_())}),C.addListener(O.eventTypes.tabUpdated,function(e){var t=e.data;O.tabs[t.id]=t,h()||_(),g()===t.id&&u(t),f()&&x()});var I;C.addListener(O.eventTypes.tabPromoted,function(e){var t=e.data,i=e.timestamp,n=g();if(R.id<t)return void(I||(I=setTimeout(function(){I=0,b(O.eventTypes.tabPromoted,R.id)},0)));u({id:t,lastUpdated:i}),f()&&x(),f()&&n!==R.id?O.events.emit(O.eventTypes.becomeMaster):f()||n!==R.id||O.events.emit(O.eventTypes.demoteFromMaster)}),O.generateId=function(){return O.now().toString()+w(2147483647*Math.random()|0,10)};var P=!1;O.events.once("setupComplete",function(){P=!0});var R=function(e){P?e():O.events.once("setupComplete",e)};R.id=O.generateId(),R.supported=!!T&&e.addEventListener&&!z&&M,R.util=O,R.broadcast=b,R.broadcastMaster=v,R.on=O.events.on,R.once=O.events.once,R.off=O.events.off;if(!P&&R.supported){var N=l(O.keys.FROZEN_TAB_ENVIRONMENT);if(N.timestamp){var D=N.data;O.now()-N.timestamp>6e5?T.removeItem(O.keys.FROZEN_TAB_ENVIRONMENT):!0===D&&y()}var F=l(O.keys.SUPPORTED_KEY);if(F.timestamp){var B=F.data;O.now()-F.timestamp>6e5?T.removeItem(O.keys.SUPPORTED_KEY):!1!==B&&!0!==B||(R.supported=B,O.events.emit("setupComplete"))}}var Y=5e3,H=500;R.supported?(e.addEventListener("storage",o,!1),e.addEventListener("beforeunload",d,!1),e.addEventListener("DOMContentLoaded",p,!1),O.events.on("PING",function(e){e.destination&&e.destination===R.id&&O.now()-e.timestamp<H&&R.broadcast("PONG",null,e.origin)}),R.keepAliveInterval=setInterval(S,3e3),S()):R.broadcast=a,n.exports=R})}("object"==typeof window?window:global,function(e){"use strict";return"object"==typeof module?function(e,t){t(require,exports,module)}:function(t,i){var n={exports:{}};i(function(t){return"jquery"===t&&(t="jQuery"),e[t]},n.exports,n),e[t]=n.exports}}(this))}catch(e){}lc.widget=lc.utils.createMixed(lc.VenyooWidget,lc.BladeAppearance).place()}(lc.underscore)}(lc.jQuery,lc.jQuery)}(leadiaCloud);