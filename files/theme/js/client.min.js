"use strict";

function e() {
	var e = 0,
		o = 0;
	0 != $('[name="door-color"]').filter(":checked").length && (e = $('[name="door-color"]').filter(":checked").val()), 0 != $('[name="glass-color"]').filter('[data-door_id="' + e + '"]').filter(":checked").length && (o = $('[name="glass-color"]').filter(":checked").val());
	var i = e + "_" + o;
	$("#js-mainImg").attr("src", doorIcons[i])
}

function o() {
	var e = 0;
	$('[name="door-dimensions"]').filter(":checked").length > 0 && (e += parseFloat($('[name="door-dimensions"]').filter(":checked").val())), $('[name="doorhandle"]').prop("checked") && (e += parseFloat($('[name="doorhandle"]').val())), 0 == e ? $("#js-product .b-total__left").hide() : $("#js-product .b-total__left").show(), $("#js-price").text(i(e, 2, ",", " "))
}

function i(e, o, i, t) {
	var s, a, n, d, l;
	return isNaN(o = Math.abs(o)) && (o = 2), void 0 == i && (i = ","), void 0 == t && (t = "."), s = parseInt(e = (+e || 0).toFixed(o)) + "", (a = s.length) > 3 ? a %= 3 : a = 0, l = a ? s.substr(0, a) + t : "", n = s.substr(a).replace(/(\d{3})(?=\d)/g, "$1" + t), d = o ? i + Math.abs(e - s).toFixed(o).replace(/-/, 0).slice(2) : "", l + n + d
}

function t() {
	return s = $(".b-second-slider").owlCarousel({
		loop: !1,
		navText: ["", ""],
		nav: !0,
		dots: !1,
		slideBy: 5,
		responsive: {
			0: {
				items: 1,
				slideBy: 1
			},
			500: {
				items: 2,
				slideBy: 2,
				margin: 32
			},
			640: {
				items: 3,
				slideBy: 3,
				margin: 32
			},
			980: {
				items: 4,
				slideBy: 4,
				margin: 30
			},
			1280: {
				items: 5,
				slideBy: 5,
				margin: 30
			}
		}
	})
}

$(".js-fancybox").fancybox({
	padding: 0
}), 

$(".b-top-slider").owlCarousel({
	items: 8,
	autoWidth: !0,
	loop: !1,
	navText: ["", ""],
	nav: !0,
	dots: !1
}), 

$(".b-main-slider").owlCarousel({
	items: 1,
	loop: !0,
	mouseDrag: !1,
	navText: ["", ""],
	nav: !0,
	dots: !0,
	animateOut: "fadeOut",
	animateIn: "fadeIn",
	autoplay: !0,
	autoplayTimeout: 8e3
}), 

$("[data-scroll_to]").click(function () {
	var e = $(this).data("scroll_to");
	return $("html, body").animate({
		scrollTop: $(e).offset().top - 69
	}), !1
}), 


$(".b-slider-bestsellers").owlCarousel({
	items: 5,
	margin: 32,
	loop: !1,
	nav: !0,
	navText: ["", ""],
	dots: !1,
	slideBy: 5,
	responsive: {
		0: {
			items: 1,
			slideBy: 1
		},
		500: {
			items: 2,
			margin: 32,
			slideBy: 2
		},
		640: {
			items: 3,
			margin: 32,
			slideBy: 3
		},
		980: {
			items: 4,
			margin: 30,
			slideBy: 4
		},
		1280: {
			items: 5,
			margin: 30,
			slideBy: 5
		}
	}
}), 

$(".countdown").each(function () {
	var e = $(this).data("days");
	$(this).countdown({
		until: e,
		padZeroes: !0
	})
}), 

$(document).ready(function () {
	$(".js-load-doors-models").filter(":first").click()
});




var s = t();
! function () {
	$("body").on("click", ".js-next-model", function () {
		var e = $(".b-second-slider").find(".b-second-slider__item").index($(".b-second-slider__item_active")),
			o = $(".b-second-slider").find(".b-second-slider__item:eq(" + (e + 1) + ")");
		0 == o.length && (o = $(".b-second-slider").find(".b-second-slider__item:first")), o.click()
	}), 

	$("body").on("click", ".js-prev-model", function () {
		var e = $(".b-second-slider").find(".b-second-slider__item").index($(".b-second-slider__item_active")),
			o = $(".b-second-slider").find(".b-second-slider__item:eq(" + (e - 1) + ")");
		0 == o.length && (o = $(".b-second-slider").find(".b-second-slider__item:last")), o.click()
	})
}(),




$("body").on("click", ".js-load-doors-models", function () {
		$(".js-load-doors-models").removeClass("b-top-slider__item_active"), $(this).addClass("b-top-slider__item_active"), $.ajax({
			dataType: "json",
			data: {
				handler: "Doors",
				command: "get_doors_models",
				cat_id: $(".b-top-slider__item_active").data("item_id")
			},
			success: function (e) {
				return !!e.result && ($("#js-models").html(e.html), s = t(), setTimeout(function () {
					$("#js-models").find(".js-load-door-info").filter(":first").click()
				}, 100), !1)
			}
		})
	}), 


$("body").on("click", ".js-load-door-info", function () {
		var i = $(this);
		return $(".js-load-door-info").removeClass("b-second-slider__item_active"), $(this).addClass("b-second-slider__item_active"), $.ajax({
			dataType: "json",
			data: {
				handler: "Doors",
				command: "get_door_info",
				item_id: i.data("item_id")
			},
			success: function (i) {
				i.result ? ($("#js-product").html(i.html), e(), o(), $(".im-popup-link").imPopup()) : $("#js-product").html("")
			}
		}), !1
	}), 


$("body").on("change", '[name="door-color"]', function () {
		$('[name="glass-color"]').prop("disabled", !0).parents("label").hide(), $('[name="glass-color"]').filter('[data-door_id="' + $(this).val() + '"]').prop("disabled", !1).parents("label").css({
			display: "inline-block"
		}), $('[name="glass-color"]').filter('[data-door_id="' + $(this).val() + '"]').first().prop("checked", !0), e()
	}), 



$("body").on("click", ".js-change_door_icon", function () {
		e()
	}), 



$("body").on("click", ".js-change_price", function () {
		o()
	}), 


$(".b-reviews").owlCarousel({
		items: 1,
		loop: !1,
		mouseDrag: !1,
		touchDrag: !0,
		navText: ["", ""],
		nav: !0,
		dots: !1,
		animateOut: "fadeOut",
		animateIn: "fadeIn"
	}), 


$(".b-slider-cards").owlCarousel({
		items: 1,
		loop: !0,
		navText: ["", ""],
		nav: !0,
		dots: !1,
		animateOut: "fadeOut",
		animateIn: "fadeIn",
		mouseDrag: !1,
		autoplay: !0,
		URLhashListener: !0,
		autoplayTimeout: 5e3,
		autoplayHoverPause: !0
	}), 


$(window).load(function () {
		$(".b-slider-systems").owlCarousel({
			loop: !0,
			nav: !0,
			navText: ["", ""],
			dots: !1,
			mouseDrag: !1,
			margin: 32,
			onInitialized: function () {
				$(".b-slider-systems").find(".b-door-system").css({
					height: $(".b-slider-systems").find(".owl-stage-outer").height()
				})
			},
			responsive: {
				0: {
					items: 3
				},
				1150: {
					items: 4
				}
			}
		})
	}), 


$.fn.imPopup = function () {
		var e, o;
		return e = this, o = "", e.on("click", function (e) {
			if (e.preventDefault(), o = $(this).data("id"), $(o).length) {
				var i = window.innerWidth - $(window).width();
				$("body").css({
					overflow: "hidden",
					paddingRight: i
				})
			}
			return $(".im-popups " + o).addClass("_visible")
		}), $(".im-popup .b-popup__close").click(function (e) {
			return e.preventDefault()
		}), $(".im-popup").on("click", function (e) {
			if (!$(e.target).hasClass("im-popup-inside") && !$(e.target).parents(".im-popup-inside").length || $(e.target).hasClass("b-popup__close")) {
				var o = "#" + $(this).attr("id");
				return 1 == $(".im-popup._visible").length && setTimeout(function () {
					$("body").css({
						overflow: "",
						paddingRight: ""
					})
				}, 300), $(".im-popups " + o).removeClass("_visible")
			}
		})
	}, 


	$(".im-popup-link").imPopup(), $(".b-mobile-contacts .phone").click(function (e) {
		e.preventDefault(), $(this).parent(".b-mobile-contacts").addClass("active")
	}), 

	$(".b-mobile-contacts .b-btn-close").click(function (e) {
		e.preventDefault(), $(this).parent(".b-mobile-contacts").removeClass("active")
	}), 

	$(".b-tabs-wrap__link").click(function () {
		$(this).siblings("").removeClass("js-act").end("").addClass("js-act"), $(".b-tabs__content").removeClass("js-act").eq($(this).index()).addClass("js-act")
	}),


	function () {
		function e(e) {
			e.addClass("js-animate-number"), e.animateNumber({
				number: e.data("animate-number")
			}, 1500)
		}
		var o = !0;
		$(window).scroll(function () {
			var i = $(window).scrollTop(),
				t = $(window).height(),
				s = $(".b-section_count-works").offset().top - t,
				a = $(".b-section_count-works").height() + s + t;
			if (i > s && i < a) {
				if (!o) return !1;
				var n = 0,
					d = setInterval(function () {
						var o = $("[data-animate-number]").length - 1,
							i = $("[data-animate-number]").eq(n);
						e(i), n++, n > o && clearInterval(d)
					}, 250);
				o = !1
			} else o = !0
		})
	}(), 

	$(window).scroll(function () {
		$(window).scrollTop() > $(".b-header").height() ? ($(".b-fixed-menu").fadeIn(300), $(".b-halva-fix").fadeIn(100), $(".b-download-catalog").fadeIn(100)) : ($(".b-fixed-menu").fadeOut(300), $(".b-halva-fix").fadeOut(100), $(".b-download-catalog").fadeOut(100))
	}), 


	$(".b-halva-fix").click(function () {
		var e = window.location.hash;
		console.log(e), $("html, body").animate({
			scrollTop: $(".b-slider-cards").offset().top + "px"
		}, "fast"), window.location.hash = ""
	}), 


	$("#phone").mask("+375 (99) 999-99-99"), $(".mask").mask("+375 (99) 999-99-99");
// "use strict";function e(){var e=0,o=0;0!=$('[name="door-color"]').filter(":checked").length&&(e=$('[name="door-color"]').filter(":checked").val()),0!=$('[name="glass-color"]').filter('[data-door_id="'+e+'"]').filter(":checked").length&&(o=$('[name="glass-color"]').filter(":checked").val());var i=e+"_"+o;$("#js-mainImg").attr("src",doorIcons[i])}function o(){var e=0;$('[name="door-dimensions"]').filter(":checked").length>0&&(e+=parseFloat($('[name="door-dimensions"]').filter(":checked").val())),$('[name="doorhandle"]').prop("checked")&&(e+=parseFloat($('[name="doorhandle"]').val())),0==e?$("#js-product .b-total__left").hide():$("#js-product .b-total__left").show(),$("#js-price").text(i(e,2,","," "))}function i(e,o,i,t){var s,a,n,d,l;return isNaN(o=Math.abs(o))&&(o=2),void 0==i&&(i=","),void 0==t&&(t="."),s=parseInt(e=(+e||0).toFixed(o))+"",(a=s.length)>3?a%=3:a=0,l=a?s.substr(0,a)+t:"",n=s.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+t),d=o?i+Math.abs(e-s).toFixed(o).replace(/-/,0).slice(2):"",l+n+d}function t(){return s=$(".b-second-slider").owlCarousel({loop:!1,navText:["",""],nav:!0,dots:!1,slideBy:5,responsive:{0:{items:1,slideBy:1},500:{items:2,slideBy:2,margin:32},640:{items:3,slideBy:3,margin:32},980:{items:4,slideBy:4,margin:30},1280:{items:5,slideBy:5,margin:30}}})}$(".js-fancybox").fancybox({padding:0}),$(".b-top-slider").owlCarousel({items:8,autoWidth:!0,loop:!1,navText:["",""],nav:!0,dots:!1}),$(".b-main-slider").owlCarousel({items:1,loop:!0,mouseDrag:!1,navText:["",""],nav:!0,dots:!0,animateOut:"fadeOut",animateIn:"fadeIn",autoplay:!0,autoplayTimeout:8e3}),$("[data-scroll_to]").click(function(){var e=$(this).data("scroll_to");return $("html, body").animate({scrollTop:$(e).offset().top-69}),!1}),$(".b-slider-bestsellers").owlCarousel({items:5,margin:32,loop:!1,nav:!0,navText:["",""],dots:!1,slideBy:5,responsive:{0:{items:1,slideBy:1},500:{items:2,margin:32,slideBy:2},640:{items:3,margin:32,slideBy:3},980:{items:4,margin:30,slideBy:4},1280:{items:5,margin:30,slideBy:5}}}),$(".countdown").each(function(){var e=$(this).data("days");$(this).countdown({until:e,padZeroes:!0})}),$(document).ready(function(){$(".js-load-doors-models").filter(":first").click()});var s=t();!function(){$("body").on("click",".js-next-model",function(){var e=$(".b-second-slider").find(".b-second-slider__item").index($(".b-second-slider__item_active")),o=$(".b-second-slider").find(".b-second-slider__item:eq("+(e+1)+")");0==o.length&&(o=$(".b-second-slider").find(".b-second-slider__item:first")),o.click()}),$("body").on("click",".js-prev-model",function(){var e=$(".b-second-slider").find(".b-second-slider__item").index($(".b-second-slider__item_active")),o=$(".b-second-slider").find(".b-second-slider__item:eq("+(e-1)+")");0==o.length&&(o=$(".b-second-slider").find(".b-second-slider__item:last")),o.click()})}(),$("body").on("click",".js-load-doors-models",function(){$(".js-load-doors-models").removeClass("b-top-slider__item_active"),$(this).addClass("b-top-slider__item_active"),$.ajax({dataType:"json",data:{handler:"Doors",command:"get_doors_models",cat_id:$(".b-top-slider__item_active").data("item_id")},success:function(e){return!!e.result&&($("#js-models").html(e.html),s=t(),setTimeout(function(){$("#js-models").find(".js-load-door-info").filter(":first").click()},100),!1)}})}),$("body").on("click",".js-load-door-info",function(){var i=$(this);return $(".js-load-door-info").removeClass("b-second-slider__item_active"),$(this).addClass("b-second-slider__item_active"),$.ajax({dataType:"json",data:{handler:"Doors",command:"get_door_info",item_id:i.data("item_id")},success:function(i){i.result?($("#js-product").html(i.html),e(),o(),$(".im-popup-link").imPopup()):$("#js-product").html("")}}),!1}),$("body").on("change",'[name="door-color"]',function(){$('[name="glass-color"]').prop("disabled",!0).parents("label").hide(),$('[name="glass-color"]').filter('[data-door_id="'+$(this).val()+'"]').prop("disabled",!1).parents("label").css({display:"inline-block"}),$('[name="glass-color"]').filter('[data-door_id="'+$(this).val()+'"]').first().prop("checked",!0),e()}),$("body").on("click",".js-change_door_icon",function(){e()}),$("body").on("click",".js-change_price",function(){o()}),$(".b-reviews").owlCarousel({items:1,loop:!1,mouseDrag:!1,touchDrag:!0,navText:["",""],nav:!0,dots:!1,animateOut:"fadeOut",animateIn:"fadeIn"}),$(".b-slider-cards").owlCarousel({items:1,loop:!0,navText:["",""],nav:!0,dots:!1,animateOut:"fadeOut",animateIn:"fadeIn",mouseDrag:!1,autoplay:!0,URLhashListener:!0,autoplayTimeout:5e3,autoplayHoverPause:!0}),$(window).load(function(){$(".b-slider-systems").owlCarousel({loop:!0,nav:!0,navText:["",""],dots:!1,mouseDrag:!1,margin:32,onInitialized:function(){$(".b-slider-systems").find(".b-door-system").css({height:$(".b-slider-systems").find(".owl-stage-outer").height()})},responsive:{0:{items:3},1150:{items:4}}})}),$.fn.imPopup=function(){var e,o;return e=this,o="",e.on("click",function(e){if(e.preventDefault(),o=$(this).data("id"),$(o).length){var i=window.innerWidth-$(window).width();$("body").css({overflow:"hidden",paddingRight:i})}return $(".im-popups "+o).addClass("_visible")}),$(".im-popup .b-popup__close").click(function(e){return e.preventDefault()}),$(".im-popup").on("click",function(e){if(!$(e.target).hasClass("im-popup-inside")&&!$(e.target).parents(".im-popup-inside").length||$(e.target).hasClass("b-popup__close")){var o="#"+$(this).attr("id");return 1==$(".im-popup._visible").length&&setTimeout(function(){$("body").css({overflow:"",paddingRight:""})},300),$(".im-popups "+o).removeClass("_visible")}})},$(".im-popup-link").imPopup(),$(".b-mobile-contacts .phone").click(function(e){e.preventDefault(),$(this).parent(".b-mobile-contacts").addClass("active")}),$(".b-mobile-contacts .b-btn-close").click(function(e){e.preventDefault(),$(this).parent(".b-mobile-contacts").removeClass("active")}),$(".b-tabs-wrap__link").click(function(){$(this).siblings("").removeClass("js-act").end("").addClass("js-act"),$(".b-tabs__content").removeClass("js-act").eq($(this).index()).addClass("js-act")}),function(){function e(e){e.addClass("js-animate-number"),e.animateNumber({number:e.data("animate-number")},1500)}var o=!0;$(window).scroll(function(){var i=$(window).scrollTop(),t=$(window).height(),s=$(".b-section_count-works").offset().top-t,a=$(".b-section_count-works").height()+s+t;if(i>s&&i<a){if(!o)return!1;var n=0,d=setInterval(function(){var o=$("[data-animate-number]").length-1,i=$("[data-animate-number]").eq(n);e(i),n++,n>o&&clearInterval(d)},250);o=!1}else o=!0})}(),$(window).scroll(function(){$(window).scrollTop()>$(".b-header").height()?($(".b-fixed-menu").fadeIn(300),$(".b-halva-fix").fadeIn(100),$(".b-download-catalog").fadeIn(100)):($(".b-fixed-menu").fadeOut(300),$(".b-halva-fix").fadeOut(100),$(".b-download-catalog").fadeOut(100))}),$(".b-halva-fix").click(function(){var e=window.location.hash;console.log(e),$("html, body").animate({scrollTop:$(".b-slider-cards").offset().top+"px"},"fast"),window.location.hash=""}),$("#phone").mask("+375 (99) 999-99-99"),$(".mask").mask("+375 (99) 999-99-99");